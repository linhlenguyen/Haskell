%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: paper.dvi
%%Pages: 12
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Helvetica-Bold Helvetica Times-Roman Times-Bold
%%+ Times-Italic Symbol Courier Courier-Bold
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -o paper.ps paper
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2002.07.30:0240
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (paper.dvi)
@start
%DVIPSBitmapFont: Fa cmss9 9 1
/Fa 1 127 df<3907C00F80EA1FF0EA3FF89038FE1F0048B5FC387C3FFEEAF80F6D5AEB
01F019097AB226>126 D E
%EndDVIPSBitmapFont
/Fb 166[43 3[43 37 33 40 1[33 43 43 53 2[23 20 43 43
33 37 43 40 40 43 65[{TeXBase1Encoding ReEncodeFont}19
59.7758 /Times-Roman rf /Fc 134[45 4[45 3[45 4[45 2[45
2[45 1[45 24[45 6[45 67[{TeXBase1Encoding ReEncodeFont}9
74.7198 /Courier-Bold rf /Fd 134[37 37 54 1[42 25 29
33 1[42 37 42 62 21 1[25 21 42 37 25 33 42 33 1[37 12[50
42 5[71 50 5[46 1[54 12[37 37 37 37 37 37 37 2[19 4[25
25 37[42 2[{TeXBase1Encoding ReEncodeFont}38 74.7198
/Times-Bold rf
%DVIPSBitmapFont: Fe cmtt9 9 1
/Fe 1 50 df<130E131FA25B5BA25B5A5A127FB5FCA213BFEA7E3F1200B3AA003FB51280
5A15C01580A21A2F79AE27>49 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Ff msbm9 9 1
/Ff 1 79 df<267FFFC0903807FFF0B56C5B6C6D7F260F00709038007E0026078078143C
6C6C6C141C6C6C7E6D7E8001F87F6D6C7E9038DE01E09038CF00F001C71370EC80789038
C3C03C9038C1E01E9038C0F00FEC78070238138091383C03C091381E01E091380F00F091
3807807002031378EDC03C913801E01E913800F00FED78070338139C92383C03DC92381E
01FCED0F00ED07800303137CEEC03C923801E01CED00F01678163C161C161E160FEE079C
EE03DC1601486C15FC486C1400267FFF80147CB5153C6C161CCA120C34347FB22F>78
D E
%EndDVIPSBitmapFont
/Fg 134[41 3[46 25 36 36 1[46 46 46 66 5[46 25 41 46
2[46 12[51 9[41 30 22[46 46 2[23 46[{TeXBase1Encoding ReEncodeFont}20
91.3242 /Times-Italic rf /Fh 206[21 49[{TeXBase1Encoding ReEncodeFont}1
41.511 /Times-Roman rf /Fj 139[16 5[29 42 1[26 23[29
7[39 2[42 72[{TeXBase1Encoding ReEncodeFont}7 58.1154
/Times-Italic rf
%DVIPSBitmapFont: Fk cmr10 9 6
/Fk 6 94 df<EB0180EB030013065B5B13385B5BA2485AA2485A120790C7FCA25A120E12
1EA2121C123CA312381278A512F8A25AAD7EA21278A51238123CA3121C121EA2120E120F
7EA27F12036C7EA26C7EA213707F13187F7F7FEB0180114B79B71D>40
D<12C012607E7E7E120E7E6C7EA26C7EA26C7E7F1370A213781338133CA2131C131EA313
0E130FA51480A21307AD130FA21400A5130E131EA3131C133CA2133813781370A213F05B
485AA2485AA248C7FC120E120C5A5A5A5A114B7CB71D>I<EC01C0B3A6B91280A3C7D801
C0C8FCB3A631337CAB3A>43 D<B91280A3CCFCADB91280A331137C9B3A>61
D<EAFFE0A3EAE000B3B3B3AFEAFFE0A30B4B78B715>91 D<EAFFE0A31200B3B3B3AF12FF
A30B4B7FB715>93 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fl cmr10 7 3
/Fl 3 94 df<1438B2B712FCA3C70038C7FCB226277DA12D>43 D<EAFF80A3EAE000B3B3
B1EAFF80A3093B7BAB10>91 D<EAFF80A31203B3B3B112FFA3093B7FAB10>93
D E
%EndDVIPSBitmapFont
/Fm 103[38 27[38 1[38 38 38 38 38 38 38 38 38 1[38 38
38 38 38 38 38 38 38 38 38 38 38 38 38 38 1[38 1[38 1[38
38 2[38 38 1[38 38 38 3[38 1[38 38 38 38 2[38 38 38 38
38 38 2[38 38 38 38 38 6[38 38 38 38 38 38 38 38 1[38
38 38 38 3[38 38 38 33[{.85 ExtendFont TeXBase1Encoding ReEncodeFont}67
74.7198 /Courier rf /Fn 175[32 6[19 2[32 2[39 16[29 1[29
3[15 4[19 39[{.167 SlantFont TeXBase1Encoding ReEncodeFont}8
58.1154 /Times-Roman rf /Fo 120[29 29 12[29 1[42 29 29
16 23 19 29 29 29 29 45 16 29 1[16 29 29 19 26 29 26
29 26 11[42 36 32 2[32 42 1[52 9[39 1[42 8[29 29 29 29
29 29 29 29 29 16 15 19 15 7[29 33[32 2[{TeXBase1Encoding ReEncodeFont}
48 58.1154 /Times-Roman rf
%DVIPSBitmapFont: Fq cmsy10 7 4
/Fq 4 49 df<B712C0A322037B8F2D>0 D<136013701360A400E0137000F013F0387C63
E0381E678038076E00EA01F8EA0060EA01F8EA076E381E6780387C63E038F060F000E013
7000001300A41370136014197C9A1D>3 D<EC0FFE91387FFFC049B512F0903907F803FC
90391FC0007F49C7EA1F80017CEC07C001F0EC01E048486E7E4848157848488190C9121C
48161E001E82001C82003C178000381603007817C000701601A300F017E0481600A96C16
01007017C0A30078160300381780003C1607001C1700001E5E6C161E6C161C6D153C6C6C
5D6C6C5D6C6C4A5A017CEC07C0013FEC1F80D91FC0017FC7FC903907F803FC0101B512F0
6D6C13C0DA0FFEC8FC33357DA83A>13 D<EA03E013F01207A313E0120FA213C0A3EA1F80
A31300A2123EA3123CA2127C1278A3127012F05AA20C1D7E9F10>48
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fr cmmi10 9 2
/Fr 2 60 df<123C127E12FFA4127E123C08087A8715>58 D<123C127EB4FCA21380A212
7F123D1201A412031300A25A1206120E120C5A12385A122009177A8715>I
E
%EndDVIPSBitmapFont
/Fs 105[37 28[33 33 50 33 37 21 29 29 37 37 37 37 54
21 33 21 21 37 37 21 33 37 33 37 37 3[29 1[29 2[46 62
46 54 42 37 46 1[46 54 50 62 42 1[33 25 54 54 46 46 54
50 46 46 6[25 37 37 37 37 37 37 37 37 37 37 1[19 25 19
2[25 25 25 35[37 37 2[{TeXBase1Encoding ReEncodeFont}69
74.7198 /Times-Italic rf /Ft 133[44 50 50 72 50 55 33
39 44 1[55 50 55 83 28 55 33 28 55 50 33 44 55 44 55
50 9[100 1[72 66 55 72 1[61 78 1[94 66 78 50 39 78 1[61
1[72 72 1[72 6[33 2[50 50 50 50 50 50 50 2[25 33 41[55
3[{TeXBase1Encoding ReEncodeFont}53 99.6264 /Times-Bold
rf /Fu 134[34 34 49 34 37 19 34 22 1[37 37 37 56 15 2[15
37 37 19 37 37 34 37 37 7[45 3[49 1[45 49 2[52 1[56 3[19
49 52 1[45 49 49 1[45 68 5[19 10[19 19 22 6[45 35[34
2[{TeXBase1Encoding ReEncodeFont}42 67.2474 /Helvetica
rf /Fv 75[25 11[25 17[37 1[33 33 11[37 37 11[33 37 37
54 37 37 21 29 25 37 37 37 37 58 21 37 21 21 37 37 25
33 37 33 37 33 3[25 1[25 46 54 54 71 54 54 46 42 50 54
42 54 54 66 46 54 29 25 54 54 42 46 54 50 50 54 1[33
3[21 21 37 37 37 37 37 37 37 37 37 37 21 19 25 19 2[25
25 25 3[37 17[21 25 12[42 42 2[{TeXBase1Encoding ReEncodeFont}86
74.7198 /Times-Roman rf /Fw 139[33 1[41 1[41 3[41 20[57
6[57 3[51 4[45 2[46 68[{}9 74.7198 /Symbol rf
%DVIPSBitmapFont: Fx cmsy10 9 17
/Fx 17 107 df<B812F8A32D037A933A>0 D<0060156000E015E06C14010078EC03C06C
EC07806CEC0F006C141E6C6C5B6C6C5B6C6C5B6C6C485A90387803C06D485A6D48C7FCEB
0F1EEB07BCEB03F86D5A6D5A497E497EEB07BCEB0F1EEB1E0F496C7E496C7E496C7E4848
6C7E4848137848487F48C77E001E8048EC078048EC03C048EC01E0481400006015602325
75A43A>2 D<130C131EA600E0EB01C000F0130338FC0C0F00FE131F003FEB3F00380FCC
FC3803EDF03800FFC0013FC7FCA2EBFFC03803EDF0380FCCFC383F0C3F00FEEB1FC000FC
130F38F01E0300E01301000090C7FCA6130C1A207BA225>I<EC0FF891B57E903903F0C7
E090390F00C078011C141C0178140F01E0EC038048486E7E48486E7E48C7147000061630
000E163848820018160C0038160E0030160600701607006082A300E01780481601A3B9FC
A200C0C738C00001A46C160300601700A300705E003016060038160E0018160C001C161C
6C5E00061630000716706C6C5D6C6C4A5A6C6C4A5A0178020FC7FC011C141C010F147890
3903F0C7E00100B51280DA0FF8C8FC31337CAB3A>8 D<ED1FFE92B512C0020714F89139
1FF003FE913A7F80007F8002FCC7EA0FC0D903F0EC03F0D907C0EC00F84948157C011EC9
121E498249707E49707E4848707E4916000003844848177890CB123848183C000E181C00
1E181E001C180E003C180F003884A20078198000701803A300F019C0481801AB6C180300
701980A30078180700381900A2003C60001C180E001E181E000E181C000F183C6C18386D
17786C6C5F0001606D16016C6C4C5A01784C5A6D4CC7FC6D161E6D6C157C6D6C5DD903F0
EC03F0D900FCEC0FC0DA7F80EB7F8091271FF003FEC8FC0207B512F8020014C0DB1FFEC9
FC42477CB54B>13 D<EB3FC0EBFFF0000313FC487F487F4814804814C0A24814E0A2B612
F0A86C14E0A26C14C0A26C14806C14006C5B6C5BC613F0EB3FC01C1C7CA025>15
D<B91280A27ECCFCADB91280A3CCFCAD007FB81280B9FCA231237CA33A>17
D<EF01C0A2841700A28418701878A284181C181E84727E727E727EF000F8197EBB12801A
C01A80CCEA7E0019F8F001E04E5A4E5A4EC7FC181E181C183C60A2187018F060A2170160
A242277CA54B>33 D<140CA2141EA3143FA24A7E1473ECF3C014E101017F903803C0F0EC
80700107137849487E011E7F497F017C8001FC80000181D803DCEB0EF0D80F9C147CD81F
1C80007CED0F8000F8ED07C000E01501000092C7FCB3B3A3010C130C2A437EB32E>42
D<91383FFFF80103B5FC130FD91FE0C7FC017EC8FC13F8485AEA03C0485A48C9FC120E12
1E5A123812781270A312F05AA2B712F8A300E0C9FCA27E1270A312781238123C7E120E12
0F6C7E6C7EEA01F06C7E137EEB1FE06DB512F81303EB003F252D7AA832>50
D<12E0AC12F8A312E0AC051B7C9F00>55 D<0060ED018000E015036C150700701600A200
785D0038150EA2003C151E001C151C001E153C000E1538A2000F15786C1570A26D14F000
035D90B6FC6C5DA29038E0000300005DA26D1307017091C7FCA201785B0138130E013C13
1E011C131CA2011E133C010E1338A2010F13786D1370EC80F001035BA214C101015BA214
E301005B14F70277C8FCA2147F143EA3141CA2293680B32A>I<B71280A3C81203B3A300
3FB6FC5AA2C81203B3A4B7FCA321347CB32A>I<126012E0B3A5B712F016F8A200E0C9FC
B3A6126025347CB32E>96 D<EB0180130313071400A25B130E131E131CA2133C1338A213
78137013F05BA212015B12035BA2120790C7FC5A120EA2121E121CA2123C123812781270
A212F05A7E1270A212781238123C121CA2121E120EA2120F7E7F1203A27F12017F1200A2
7F137013781338A2133C131CA2131E130E130F7FA2148013031301114B79B71D>104
D<12E0A27E1270A212781238123C121CA2121E120EA2120F7E7F1203A27F12017F1200A2
7F137013781338A2133C131CA2131E130E130F7FA21480130313071400A25B130E131E13
1CA2133C1338A21378137013F05BA212015B12035BA2120790C7FC5A120EA2121E121CA2
123C123812781270A212F05AA2114B7CB71D>I<12E0B3B3B3B3A3034B77B715>I
E
%EndDVIPSBitmapFont
/Fy 75[30 64[45 30 4[75 20 2[20 50 2[50 50 45 1[50 9[85
2[55 60 2[60 10[60 52[30 16[{TeXBase1Encoding ReEncodeFont}17
89.6632 /Helvetica rf /Fz 134[75 3[82 45 75 52 1[82 82
82 1[37 4[82 45 75 82 2[75 12[82 90 6[82 2[37 73[{
TeXBase1Encoding ReEncodeFont}18 134.495 /Helvetica-Bold
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: A4

%%EndSetup
%%Page: 1 1
1 0 bop 378 247 a Fz(T)-11 b(a)o(gless)37 b(Sta)o(g)q(ed)g(Interpreter)
n(s)h(f)m(or)g(T)-8 b(yped)37 b(Langua)o(g)q(es)469 614
y Fy(Emir)24 b(P)l(a)791 612 y(\020)784 614 y(sali)926
612 y(\264)919 614 y(c)964 578 y Fx(\003)155 697 y Fu(OGI)19
b(School)g(of)g(Science)g(&)f(Engineer)q(ing)181 780
y(Oregon)j(Health)e(&)f(Science)h(Univ)n(ersity)406 863
y(pasalic@cse)o(.ogi.edu)1730 614 y Fy(W)l(alid)25 b(T)-11
b(aha)2170 578 y Fv(\206)1487 697 y Fu(Computer)20 b(Science)f(Depar)s
(tment)1731 780 y(Y)-9 b(ale)19 b(Univ)n(ersity)1682
896 y(taha@cs)o(.y)o(ale)o(.edu)2952 614 y Fy(Tim)25
b(Sheard)3417 578 y Fv(\207)2623 697 y Fu(OGI)19 b(School)g(of)g
(Science)g(&)f(Engineer)q(ing)2649 780 y(Oregon)i(Health)g(&)e(Science)
h(Univ)n(ersity)2876 863 y(sheard@cse)o(.ogi.edu)-150
1353 y Ft(Abstract)-67 1454 y Fv(Multi-stage)j(programming)i(languages)
f(pro)o(vide)g(a)f(con)m(v)o(enient)h(nota-)-150 1537
y(tion)k(for)g(e)o(xplicitly)h(staging)g(programs.)49
b(Staging)27 b(a)g(de\002nitional)h(inter)o(-)-150 1620
y(preter)i(for)f(a)h(domain)g(speci\002c)g(language)h(is)e(one)h(w)o
(ay)g(of)g(deri)n(ving)g(an)-150 1703 y(implementation)c(that)f(is)g
(both)g(readable)h(and)g(ef)n(\002cient.)42 b(In)25 b(an)g(untyped)-150
1786 y(setting,)h(staging)f(an)g(interpreter)g(\223remo)o(v)o(es)h(a)f
(complete)g(layer)g(of)g(inter)o(-)-150 1869 y(preti)n(v)o(e)j(o)o(v)o
(erhead\224,)k(just)c(lik)o(e)g(partial)g(e)n(v)n(aluation.)52
b(In)28 b(a)g(typed)h(setting)-150 1952 y(ho)n(we)n(v)o(er)m(,)g
(Hindle)o(y-Milner)d(type)h(systems)f(do)h(not)f(allo)n(w)g(us)h(to)f
(e)o(xploit)-150 2035 y(typing)f(information)g(in)f(the)g(language)i
Fs(being)f(interpr)m(eted)p Fv(.)40 b(In)24 b(practice,)-150
2118 y(this)19 b(can)g(ha)o(v)o(e)g(a)g(slo)n(wdo)n(wn)h(cost)f(f)o
(actor)g(of)g(three)g(or)g(more)g(times.)-67 2218 y(Pre)n(viously)-5
b(,)18 b(both)f(type)h(specialization)f(and)h(tag)f(elimination)g(were)
g(ap-)-150 2301 y(plied)24 b(to)h(this)f(problem.)40
b(In)24 b(this)g(paper)h(we)f(propose)i(an)e(alternati)n(v)o(e)h(ap-)
-150 2384 y(proach,)h(namely)-5 b(,)25 b(e)o(xpressing)g(the)e
(de\002nitional)h(interpreter)g(in)f(a)h(depen-)-150
2467 y(dently)e(typed)g(programming)h(language.)33 b(W)-6
b(e)21 b(report)h(on)g(our)g(e)o(xperience)-150 2550
y(with)h(the)g(issues)g(that)g(arose)h(in)f(writing)f(such)i(an)g
(interpreter)f(and)h(in)f(de-)-150 2633 y(signing)d(such)f(a)g
(language.)-67 2732 y(T)-6 b(o)21 b(demonstrate)h(the)g(soundness)h(of)
e(combining)i(staging)f(and)g(depen-)-150 2815 y(dent)28
b(types)g(in)g(a)g(general)g(sense,)i(we)e(formalize)f(our)h(language)i
(\(called)-150 2898 y(Meta-D\))17 b(and)h(pro)o(v)o(e)g(its)f(type)h
(safety)-5 b(.)23 b(T)-6 b(o)17 b(formalize)g(Meta-D,)h(we)f(e)o(xtend)
-150 2981 y(Shao,)31 b(Saha,)h(T)m(rifono)o(v)d(and)h(P)o(apasp)o
(yrou')l(s)g Fw(l)p Fv(H)f(language)h(to)f(a)g(multi-)-150
3064 y(le)n(v)o(el)21 b(setting.)30 b(Building)22 b(on)g
Fw(l)p Fv(H)f(allo)n(ws)g(us)g(to)h(demonstrate)g(type)g(safety)-150
3147 y(in)e(a)f(setting)h(where)g(the)g(type)g(language)h(contains)f
(all)f(the)h(calculus)g(of)g(in-)-150 3230 y(ducti)n(v)o(e)d
(constructions,)h(b)o(ut)e(without)h(ha)o(ving)g(to)f(repeat)h(the)f(w)
o(ork)h(needed)-150 3313 y(for)i(establishing)g(the)g(soundness)i(of)e
(that)g(system.)-150 3451 y Ft(K)n(eyw)o(ords)-67 3551
y Fv(Multi-stage)28 b(programming,)j(de\002nitional)d(interpreters,)h
(calculus)g(of)-150 3634 y(constructions,)20 b(domain-speci\002c)g
(languages)-150 3771 y Ft(1)99 b(Intr)n(oduction)-67
3872 y Fv(In)20 b(recent)g(years,)g(substantial)g(ef)n(fort)f(has)h
(been)h(in)m(v)o(ested)f(in)g(the)f(de)n(v)o(el-)-150
3955 y(opment)26 b(of)e(both)i(the)f(theory)g(and)h(tools)e(for)h(the)g
(rapid)g(implementation)-150 4038 y(of)20 b(domain)h(speci\002c)f
(languages)i(\(DSLs\))c([4)q(,)h(22)q(,)g(40)q(,)h(47,)g(45,)g(23)q(].)
26 b(DSLs)-150 4121 y(are)j(formalisms)f(that)g(pro)o(vide)i(their)e
(users)h(with)f(a)h(notation)g(appropri-)p -150 4195
801 4 v -16 4244 a Fq(\003)20 4271 y Fv(Supported)20
b(by)f(NSF)f(CCR-0098126.)-16 4336 y Fo(\206)20 4363
y Fv(Supported)i(by)f(NSF)f(ITR-0113569.)-16 4428 y Fo(\207)20
4455 y Fv(Supported)i(by)f(NSF)f(CCR-0098126.)-149 5004
y Fo(Permission)i(to)f(mak)o(e)h(digital)f(or)h(hard)f(copies)g(of)g
(all)g(or)h(part)f(of)h(this)f(w)o(ork)h(for)g(personal)f(or)-149
5070 y(classroom)d(use)g(is)g(granted)g(without)h(fee)f(pro)o(vided)h
(that)f(copies)g(are)g(not)g(made)g(or)h(distrib)o(uted)-149
5136 y(for)e(pro\002t)f(or)g(commercial)f(adv)o(antage)g(and)g(that)g
(copies)g(bear)g(this)h(notice)f(and)g(the)h(full)g(citation)-149
5203 y(on)i(the)g(\002rst)g(page.)k(T)-5 b(o)15 b(cop)o(y)h(otherwise,)
f(to)h(republish,)g(to)g(post)f(on)h(serv)o(ers)f(or)h(to)f(redistrib)o
(ute)-149 5269 y(to)g(lists,)f(requires)h(prior)g(speci\002c)f
(permission)h(and/or)g(a)f(fee.)-149 5336 y Fn(ICFP'02,)j
Fo(October)d(4-6,)h(2002,)f(Pittsb)o(ur)o(gh,)h(Pennsylv)o(ania,)f
(USA.)-149 5402 y(Cop)o(yright)i(2002)f(A)n(CM)f(1-58113-487-8/02/0010)
i(...$5.00)2049 1353 y Fv(ate)22 b(for)h(a)f(speci\002c)h(f)o(amily)f
(of)h(tasks.)34 b(A)22 b(promising)h(approach)i(to)d(imple-)2049
1436 y(menting)i(domain)h(speci\002c)e(languages)i(is)e(to)h(write)f(a)
g(de\002nitional)h(inter)o(-)2049 1519 y(preter)g([42])g(for)f(the)h
(DSL)f(in)h(some)g(meta-language,)i(and)f(then)f(to)f(stage)2049
1602 y(this)f(interpreter)h(either)f(manually)-5 b(,)24
b(by)f(adding)h(e)o(xplicit)e(staging)h(annota-)2049
1685 y(tions)17 b(\(multi-stage)g(programming)i([55)q(,)e(30,)g(45)q(,)
f(50)q(]\),)h(or)g(by)h(applying)g(an)2049 1768 y(automatic)28
b(binding-time)h(analysis)f(\(of)n(f-line)g(partial)g(e)n(v)n(aluation)
h([25)q(]\).)2049 1851 y(The)21 b(result)g(of)g(either)g(of)g(these)h
(steps)f(is)g(a)g Fs(sta)o(g)o(ed)i(interpr)m(eter)p
Fv(.)30 b(A)21 b(staged)2049 1934 y(interpreter)g(is)f(essentially)h(a)
f Fs(tr)o(anslation)i Fv(from)e(a)h(subject-language)i(\(the)2049
2017 y(DSL\))g(to)i(a)f(tar)o(get-language)2841 1990
y Fo(1)2876 2017 y Fv(.)39 b(If)24 b(there)h(is)f(already)h(a)f
(compiler)h(for)g(the)2049 2100 y(tar)o(get-language,)17
b(the)f(approach)h(yields)f(a)f(simple)h(compiler)g(for)g(the)f(DSL.)
2049 2183 y(In)22 b(addition)h(to)f(the)g(performance)i(bene\002t)e(of)
g(a)g(compiler)h(o)o(v)o(er)f(an)h(inter)o(-)2049 2267
y(preter)m(,)j(the)g(compiler)f(obtained)h(by)g(this)f(process)h(often)
f(retains)g(a)g(close)2049 2350 y(syntactic)d(connection)h(with)f(the)f
(original)h(interpreter)m(,)g(inspiring)h(greater)2049
2433 y(con\002dence)d(in)f(its)f(correctness.)2132 2532
y(This)j(paper)i(is)e(concerned)i(with)e(a)h(subtle)g(b)o(ut)f(costly)h
(problem)g(which)2049 2615 y(can)k(arise)g(when)g Fs(both)g
Fv(the)g(subject-)g(and)g(the)g(meta-language)h(are)f(stati-)2049
2698 y(cally)e(typed.)39 b(In)24 b(particular)m(,)h(when)f(the)g
(meta-language)i(is)d(typed,)j(there)2049 2781 y(is)20
b(generally)h(a)g(need)g(to)g(introduce)g(a)g(\223uni)n(v)o(ersal)g
(datatype\224)h(to)e(represent)2049 2864 y(v)n(alues)d(uniformly)-5
b(,)17 b(and)g(still)e(remain)h(well)g(typed)h(\(see)f([48)q(])f(for)h
(a)g(detailed)2049 2947 y(discussion\).)33 b(Ha)o(ving)22
b(such)h(a)e(uni)n(v)o(ersal)i(datatype)g(means)f(that)g(we)g(ha)o(v)o
(e)2049 3030 y(to)28 b(perform)h(tagging)g(and)g(untagging)h
(operations)g(at)e(run)h(time.)51 b(When)2049 3113 y(the)29
b(subject-language)h(is)e(untyped,)33 b(as)28 b(it)g(w)o(ould)h(be)g
(when)g(writing)f(an)2049 3196 y(ML)d(interpreter)h(for)g(Scheme,)h
(the)f(checks)g(are)g(really)g(necessary)-5 b(.)44 b(But,)2049
3279 y(when)26 b(the)g(subject-language)i(is)d(also)h(statically)f
(typed,)j(as)e(it)f(w)o(ould)h(be)2049 3362 y(when)17
b(writing)f(an)h(ML)f(interpreter)h(for)f(ML,)g(the)h(e)o(xtra)f(tags)h
(are)f(not)h(really)2049 3445 y(needed.)33 b(The)o(y)21
b(are)h(only)g(necessary)h(to)f Fs(statically)f(type)h(c)o(hec)o(k)g
(the)f(inter)o(-)2049 3528 y(pr)m(eter)r Fv(.)41 b(When)25
b(this)f(interpreter)h(is)g(staged,)h(it)e(inherits)h([29)q(])f(this)g
(weak-)2049 3611 y(ness,)e(and)f(generates)h(programs)g(that)f(contain)
g Fs(super\003uous)i(ta)o(g)o(ging)g(and)2049 3694 y(unta)o(g)o(ging)e
(oper)o(ations)p Fv(.)j(Early)19 b(estimates)f(of)h(the)g(cost)g(of)f
(tags)h(suggested)2049 3778 y(that)j(it)f(produces)i(upto)g(a)f(2.6)g
(times)f(slo)n(wdo)n(wn)j(in)d(the)h(SML/NJ)f(system)2049
3861 y([54)q(].)34 b(More)24 b(e)o(xtensi)n(v)o(e)f(studies)h(in)e(the)
h(MetaOCaml)g(system)g(sho)n(w)h(that)2049 3944 y(slo)n(wdo)n(wn)c(due)
g(to)f(tags)g(can)g(be)g(as)g(high)h(as)f(10)g(times)g([21].)2132
4043 y(Ho)n(w)h(can)h(we)f(remo)o(v)o(e)h(the)f(tagging)h(o)o(v)o
(erhead)g(inherent)g(in)f(the)g(use)h(of)2049 4126 y(uni)n(v)o(ersal)f
(types?)2132 4226 y(One)e(possibility)g(recently)g(proposed)h([54,)e
(53)q(,)g(26)q(])g(is)g(tag)h(elimination,)2049 4309
y(which)f(is)g(a)f(transformation)i(that)e(w)o(as)h(designed)h(to)f
(remo)o(v)o(e)h(the)e(super\003u-)2049 4392 y(ous)f(tags)g(in)g(a)g
(post-processing)h(phase.)23 b(Under)15 b(this)g(scheme,)h(DSL)e
(imple-)2049 4475 y(mentation)19 b(is)f(di)n(vided)h(into)f
Fs(thr)m(ee)h Fv(distinct)f(stages)g(\(rather)g(than)h(the)f(tradi-)
2049 4558 y(tional)j(tw)o(o\).)31 b(The)22 b(e)o(xtra)f(stage,)h
Fs(ta)o(g)g(elimination)p Fv(,)g(is)f(distinctly)h(dif)n(ferent)2049
4641 y(from)i(the)f(traditional)h(partial)f(e)n(v)n(aluation)i(\(or)f
(specialization\))g(stage.)38 b(In)2049 4724 y(essence,)30
b(tag)e(elimination)f(allo)n(ws)h(us)f(to)h(type)g(check)g(the)g
(subject)g(pro-)2049 4807 y(gram)h(after)f(it)g(has)g(been)i
(interpreted.)52 b(If)28 b(it)f(checks,)32 b(super\003uous)e(tags)2049
4890 y(are)c(simply)g(erased)g(from)g(the)g(interpretation.)44
b(If)25 b(not,)i(a)f(\223semantically)2049 4973 y(equi)n(v)n(alent\224)
d(interf)o(ace)g(is)e(added)i(around)g(the)f(interpretation.)32
b(T)-6 b(ag)22 b(elim-)2049 5056 y(ination,)g(ho)n(we)n(v)o(er)m(,)i
(does)e(not)g Fs(statically)f Fv(guarantee)i(that)f(all)f(tags)h(will)e
(be)2049 5139 y(erased.)j(W)-6 b(e)16 b(must)h(run)g(the)g(tag)f
(elimination)h(at)g(runtime)g(\(in)f(a)h(multi-stage)p
2049 5229 V 2150 5290 a Fo(1)2183 5317 y Fv(Explicit)k(staging)h(in)f
(a)h(multi-stage)f(language)i(usually)f(implies)f(that)2049
5400 y(the)e(meta-language)i(and)e(the)g(tar)o(get-language)h(are)f
(the)g(same)g(language.)p eop
%%Page: 2 2
2 1 bop -150 83 a Fv(language\).)-67 183 y(In)19 b(this)f(paper)m(,)h
(we)g(study)g(an)g(alternati)n(v)o(e)g(approach)h(that)e(does)i(pro)o
(vide)-150 266 y(such)f(a)e(guarantee.)24 b(In)18 b(f)o(act,)g(the)g
(user)g(ne)n(v)o(er)g(introduces)h(these)f(tags)g(in)g(the)-150
349 y(\002rst)j(place,)h(because)h(the)f(type)g(system)f(of)h(the)g
(meta-language)h(is)e(strong)-150 432 y(enough)g(to)d(a)o(v)o(oid)h(an)
o(y)h(need)f(for)g(them.)-67 531 y(In)g(what)g(follo)n(ws)g(we)g
(describe)g(the)g(details)g(of)g(this)g(problem.)-150
699 y Ft(1.1)99 b(Inter)o(pr)n(eters)27 b(in)e(the)h(Untyped)g(Setting)
-67 800 y Fv(Let)c(us)h(be)o(gin)h(by)f(re)n(vie)n(wing)g(ho)n(w)h(we)e
(write)h(a)f(simple)h(interpreter)g(in)-150 883 y(an)h(untyped)h
(language.)495 856 y Fo(2)566 883 y Fv(F)o(or)e(notational)h(parsimon)o
(y)-5 b(,)25 b(we)f(will)e(use)i(ML)-150 966 y(syntax)g(b)o(ut)e(disre)
o(gard)h(types.)36 b(An)23 b(interpreter)f(for)h(a)g(small)f(lambda)i
(lan-)-150 1049 y(guage)c(can)g(be)f(de\002ned)g(as)g(follo)n(ws:)-150
1146 y Fm(datatype)39 b(exp)f(=)h(B)f(of)g(int)h(|)f(V)g(of)g(string)
345 1229 y(|)h(L)f(of)g(string)h(*)f(exp)h(|)f(A)g(of)g(exp)h(*)f(exp)
-150 1395 y(fun)g(eval)h(e)f(env)h(=)-112 1478 y(case)g(e)f(of)-36
1561 y(B)h(i)190 b(=>)38 b(i)-112 1644 y(|)g(V)h(s)190
b(=>)38 b(env)h(s)-112 1727 y(|)f(L)h(\(s,e\))f(=>)g(fn)h(v)f(=>)g
(eval)h(e)f(\(ext)h(env)f(s)g(v\))-112 1810 y(|)g(A)h(\(f,e\))f(=>)g
(\(eval)h(f)f(env\))h(\(eval)g(e)f(env\))-67 1974 y Fv(This)19
b(pro)o(vides)h(a)f(simple)g(implementation)h(of)f(subject)h(programs)g
(rep-)-150 2057 y(resented)30 b(in)e(the)h(datatype)h
Fm(exp)p Fv(.)52 b(The)29 b(function)h Fm(eval)f Fv(e)n(v)n(aluates)h
Fm(exp)p Fv(s)-150 2140 y(in)24 b(an)h(en)m(vironment)h
Fm(env)e Fv(that)g(binds)h(the)g(free)f(v)n(ariables)h(in)f(the)h(term)
f(to)-150 2223 y(v)n(alues.)-67 2323 y(This)g(implementation)i(suf)n
(fers)f(from)g(a)f(se)n(v)o(ere)i(performance)g(limita-)-150
2406 y(tion.)54 b(In)30 b(particular)m(,)h(if)e(we)g(were)h(able)f(to)h
(inspect)f(the)h(result)f(of)g(a)g(an)-150 2489 y(interpretation,)20
b(such)g(as)g Fm(\(eval)39 b(\(L\("x",V)g("x"\)\))f(env0\))p
Fv(,)20 b(we)g(w)o(ould)-150 2572 y(\002nd)f(that)g(it)f(is)g(equi)n(v)
n(alent)j(to)-150 2670 y Fm(\(fn)38 b(v)h(=>)f(eval)g(\(V)h("x"\))f
(\(ext)h(env0)f("x")h(v\)\))-150 2751 y Fv(This)29 b(term)g(will)g
(compute)i(the)e(correct)h(result,)h(b)o(ut)f(it)f(contains)h(an)g(e)o
(x-)-150 2834 y(panded)21 b(recursi)n(v)o(e)g(call)e(to)h
Fm(eval)p Fv(.)26 b(This)19 b(problem)i(arises)f(in)f(both)i(call-by-)
-150 2917 y(v)n(alue)j(and)f(call-by-name)h(languages,)i(and)d(is)g
(one)h(of)f(the)g(main)g(reasons)-150 3000 y(for)18 b(what)h(is)f
(called)g(the)h(\223layer)f(of)h(interpreti)n(v)o(e)f(o)o(v)o
(erhead\224)i(that)f(de)o(grades)-150 3083 y(performance.)35
b(F)o(ortunately)-5 b(,)24 b(this)e(problem)h(can)g(be)g(eliminated)g
(through)-150 3166 y(the)c(use)g(of)g(staging)h(annotations)g([48)q(].)
-150 3334 y Ft(1.2)99 b(Staged)46 b(Inter)o(pr)n(eters)h(in)e(the)h
(Untyped)g(Set-)74 3433 y(ting)-67 3534 y Fv(Staging)23
b(annotations)h(partition)e(the)h(program)h(into)f(stages.)34
b(Brack)o(ets)-150 3617 y Fm(.<_>.)22 b Fv(surrounding)h(an)f(e)o
(xpression)g(lift)f(the)g(surrounded)i(e)o(xpression)g(to)-150
3700 y(the)18 b(ne)o(xt)f(stage)h(\(b)o(uilding)g(code\).)23
b(Escape)18 b Fm(.\230_)g Fv(drops)g(its)f(surrounded)j(e)o(x-)-150
3783 y(pression)e(to)f(a)g(pre)n(vious)h(stage)g(\(splicing)f(in)g
(already)h(constructed)g(code)g(to)-150 3866 y(b)o(uild)d(lar)o(ger)f
(pieces)h(of)g(code\),)h(and)f(should)h(only)f(appear)h(within)e(brack)
o(ets.)-150 3949 y(Staging)24 b(annotations)i(can)f(change)h(the)e(e)n
(v)n(aluation)i(order)f(of)f(programs,)-150 4032 y(e)n(v)o(en)30
b(e)n(v)n(aluating)g(under)g(lambda)g(abstraction,)i(and)e(can)g(force)
f(the)g(un-)-150 4115 y(folding)20 b(of)f(the)g Fm(eval)g
Fv(function)h(at)e(code-generation)k(time.)h(Thus,)c(by)g(just)-150
4198 y(adding)i(staging)f(annotations)h(to)f(the)f Fm(eval)h
Fv(function,)h(we)e(can)h(change)h(its)-150 4281 y(beha)o(vior)f(to)e
(achie)n(v)o(e)i(the)f(desired)h(operational)g(semantics:)-150
4378 y Fm(fun)38 b(eval')h(e)f(env)h(=)-112 4461 y(\(case)g(e)f(of)-36
4544 y(B)h(i)190 b(=>)38 b(.<i>.)-112 4627 y(|)g(V)h(s)190
b(=>)38 b(env)h(s)-112 4710 y(|)f(L)h(\(s,e\))f(=>)g(.<fn)h(v)f(=>)h
(.\230\(eval')g(e)f(\(ext)g(env)h(s)f(.<v>.)h(\)\)>.)-112
4794 y(|)f(A)h(\(f,e\))f(=>)g(.<.\230\(eval')i(f)e(env\))g
(.\230\(eval')h(e)g(env\)\)>.;)-150 4874 y Fv(Computing)16
b(the)g(application)g Fm(eval')39 b(\(L\("x",V)g("x"\)\))f(env0)16
b Fv(directly)-150 4957 y(yields)j(a)g(term)g Fm(.<fn)38
b(v)g(=>)h(v>.)p -150 5063 801 4 v -49 5124 a Fo(2)-16
5151 y Fv(Discussing)18 b(the)g(issue)f(of)h(ho)n(w)f(to)g(pro)o(v)o(e)
h(the)g(adequac)o(y)h(of)e(represen-)-150 5234 y(tations)22
b(or)f(correctness)i(of)f(implementations)g(of)g(interpreters)g(is)f
(be)o(yond)-150 5317 y(the)15 b(scope)h(of)f(this)g(paper)l(.)22
b(Examples)16 b(of)f(ho)n(w)g(this)g(can)h(done)g(can)f(be)h(found)-150
5400 y(else)n(where)k([54].)2132 83 y(No)n(w)j(there)f(are)h(no)g
(lefto)o(v)o(er)g(latent)f(recursi)n(v)o(e)h(calls)f(to)h
Fm(eval)p Fv(.)34 b(Multi-)2049 166 y(stage)24 b(languages)i(come)f
(with)e(a)h(run)g(annotation)i Fm(.!_)e Fv(that)g(allo)n(ws)g(us)g(to)
2049 249 y(e)o(x)o(ecute)18 b(such)g(a)f(code)h(fragment.)23
b(A)17 b(staged)h(interpreter)f(can)h(therefore)f(be)2049
332 y(vie)n(wed)i(as)g(user)o(-directed)g(w)o(ay)g(of)f(re\003ecting)h
(an)g(subject)g(program)g(into)g(a)2049 415 y(meta-program,)f(which)g
(then)g(can)g(be)f(handed)i(o)o(v)o(er)f(in)f(a)g(type)h(safe)f(w)o(ay)
h(to)2049 498 y(the)h(compiler)g(of)g(the)g(meta-language.)2049
629 y Ft(1.3)99 b(Staged)26 b(Inter)o(pr)n(eters)h(in)e(Hindley-Milner)
2132 730 y Fv(In)h(programming)h(languages,)h(such)e(as)g(Hask)o(ell)g
(or)f(ML,)g(which)h(use)2049 813 y(a)c(Hindle)o(y-Milner)h(type)f
(system,)h(the)g(abo)o(v)o(e)g Fm(eval)f Fv(function)h(\(staged)g(or)
2049 896 y(unstaged\))e(is)e(not)h(well-typed[48)q(].)25
b(Each)20 b(branch)h(of)f(the)g(case)g(statement)2049
979 y(has)f(a)g(dif)n(ferent)g(type,)g(and)h(these)f(types)g(cannot)h
(be)g(reconciled.)2132 1078 y(W)m(ithin)j(a)h(Hindle)o(y-Milner)h
(system,)g(we)f(can)g(circumv)o(ent)h(this)e(prob-)2049
1161 y(lem)18 b(by)h(using)g(a)f(uni)n(v)o(ersal)h(type.)k(A)18
b(uni)n(v)o(ersal)h(type)g(is)f(a)g(type)h(that)f(is)g(rich)2049
1244 y(enough)j(to)e(encode)i(v)n(alues)f(of)f(all)g(the)g(types)h
(that)f(appear)h(in)f(the)h(result)f(of)2049 1327 y(a)25
b(function)h(lik)o(e)f Fm(eval)p Fv(.)42 b(In)25 b(the)g(case)g(abo)o
(v)o(e,)i(this)e(includes)h(function)g(as)2049 1410 y(well)19
b(as)h(inte)o(ger)h(v)n(alues.)27 b(A)20 b(typical)g(de\002nition)g(a)g
(uni)n(v)o(ersal)h(type)f(for)g(this)2049 1494 y(e)o(xample)g(might)f
(be:)2049 1577 y Fm(datatype)39 b(V)f(=)g(I)h(of)f(int)g(|)h(F)f(of)g
(V)g(->)h(V)2132 1676 y Fv(The)19 b(interpreter)g(can)g(then)h(be)f(re)
n(written)f(as)h(a)g(well-typed)g(program:)2049 1757
y Fm(fun)38 b(unF)h(\(F)f(v\))g(=)h(v)2049 1923 y(fun)f(eval)h(e)f(env)
h(=)2087 2006 y(\(case)g(e)f(of)2163 2089 y(B)h(i)190
b(=>)38 b(I)h(i)2087 2172 y(|)f(V)h(s)190 b(=>)38 b(env)h(s)2087
2255 y(|)f(L)h(\(s,e\))f(=>)g(F)h(\(fn)f(v)g(=>)h(eval)f(e)g(\(ext)h
(env)f(s)h(v\)\))2087 2338 y(|)f(A)h(\(f,e\))f(=>)g(\(unF)h(\(eval)g(f)
f(env\)\))h(\(eval)f(e)g(env\)\);)2049 2419 y Fv(No)n(w)-5
b(,)30 b(when)f(we)e(compute)i Fm(\(eval)39 b(\(L\("x",V)g("x"\)\))g
(env0\))28 b Fv(we)g(get)2049 2502 y(back)20 b(a)f(v)n(alue)2049
2583 y Fm(\(F)38 b(\(fn)h(v)f(=>)g(eval)h(\(V)f("x"\))h(\(ext)f(env0)h
("x")f(v\)\)\).)2049 2664 y Fv(Just)24 b(as)h(we)f(did)h(for)f(the)h
(untyped)h Fm(eval)p Fv(,)f(we)g(can)g(stage)g(this)f(v)o(ersion)h(of)
2049 2747 y Fm(eval)p Fv(.)2132 2847 y(No)n(w)19 b(computing)h
Fm(\(eval)39 b(\(L\("x",V)g("x"\)\))g(env0\))19 b Fv(yields:)2049
2928 y Fm(.<\(F)39 b(\(fn)f(v)g(=>)g(v\)\)>.)2049 3059
y Ft(1.4)99 b(Pr)n(oblem:)32 b(Super\003uous)27 b(T)-9
b(ags)2132 3159 y Fv(Unfortunately)k(,)18 b(the)e(result)g(abo)o(v)o(e)
h(still)e(contains)i(the)f(tag)h Fm(F)p Fv(.)e(While)h(this)2049
3242 y(may)k(seem)g(lik)o(e)g(minor)g(issue)g(in)f(a)h(small)f(program)
i(lik)o(e)f(this)f(one,)h(the)g(ef-)2049 3325 y(fect)14
b(in)h(a)f(lar)o(ger)h(program)g(will)f(be)h(a)f(profusion)i(of)e
(tagging)i(and)f(untagging)2049 3408 y(operations.)54
b(Such)29 b(tags)g(w)o(ould)g(indeed)h(be)f(necessary)h(if)f(the)f
(subject-)2049 3491 y(language)f(w)o(as)e(untyped.)44
b(But)25 b(if)f(we)h(kno)n(w)h(that)f(the)h(subject-language)2049
3574 y(is)g(statically)h(typed)g(\(for)g(e)o(xample,)i(as)d(a)h
(simply-typed)h(lambda)f(calcu-)2049 3657 y(lus\))j(the)g(tagging)h
(and)g(untagging)g(operations)g(are)f(really)g(not)h(needed.)2049
3740 y(Benchmarks)23 b(indicate)f(that)g(these)g(tags)g(add)h(a)f(2-3)g
(time)g(o)o(v)o(erhead)h([54],)2049 3823 y(sometimes)c(as)g(lar)o(ge)g
(as)g(3-10)h(times)e([21)q(].)2132 3923 y(There)29 b(are)f(a)h(number)g
(of)g(approaches)h(for)e(dealing)i(with)e(this)g(prob-)2049
4006 y(lem.)50 b(None)29 b(of)e(these)i(approaches,)i(ho)n(we)n(v)o(er)
m(,)g(guarantee)f(\(at)d(the)h(time)2049 4089 y(of)g(writing)g(the)g
(staged)h(interpreter\))f(that)g(the)g(tags)g(will)f(be)i(eliminated)
2049 4172 y(before)c(runtime.)38 b(Ev)o(en)24 b(tag)g(elimination,)h
(which)f(guarantees)h(the)f(elim-)2049 4255 y(ination)30
b(of)f(tags)h(for)f(these)h(particular)f(e)o(xamples,)k(requires)d(a)f
(separate)2049 4338 y(meta-theoretic)19 b(proof)h(to)f(obtain)g(such)h
(a)f(guarantee)h([54].)2049 4469 y Ft(1.5)99 b(Contrib)n(utions)2132
4570 y Fv(In)22 b(this)g(paper)h(we)f(propose)i(an)e(alternati)n(v)o(e)
g(solution)h(to)f(the)g(super\003u-)2049 4653 y(ous)17
b(tags)g(problem.)24 b(Our)17 b(solution)g(is)g(based)g(on)h(the)f(use)
g(of)g(a)g(dependently)2049 4736 y(typed)28 b(multi-stage)g(language.)
50 b(This)27 b(w)o(ork)h(w)o(as)f(inspired)h(by)g(w)o(ork)g(on)2049
4819 y(writing)18 b(dependently)i(typed)f(interpreters)g(in)f(Cayenne)i
([2].)i(T)-6 b(o)18 b(illustrate)2049 4902 y(viability)24
b(of)g(combining)i(dependent)g(types)f(with)e(staging,)j(we)e(ha)o(v)o
(e)h(de-)2049 4985 y(signed)c(and)f(implemented)g(a)g(prototype)h
(language)g(we)e(call)h(Meta-D.)f(W)-6 b(e)2049 5068
y(use)29 b(this)g(language)h(as)e(a)h(v)o(ehicle)g(to)g(in)m(v)o
(estigate)g(the)f(issues)h(that)g(arise)2049 5151 y(when)18
b(taking)g(this)f(approach.)24 b(W)-6 b(e)17 b(b)o(uilt)g(a)g(compiler)
h(from)f(an)h(interpreter)m(,)2049 5234 y(from)23 b(be)o(ginning)h(to)f
(end,)h(with)e(Meta-D.)h(W)-6 b(e)22 b(also)h(report)f(on)i(the)e
(issues)2049 5317 y(that)k(arose)g(in)g(trying)g(to)g(de)n(v)o(elop)i
(a)d(dependently)j(typed)f(programming)2049 5400 y(language)20
b(\(as)f(opposed)i(to)e(a)g(type)g(theory\).)24 b(Meta-D)19
b(features)p eop
%%Page: 3 3
3 2 bop -63 83 a Fx(\017)42 b Fv(Basic)19 b(staging)g(operators)-63
203 y Fx(\017)42 b Fv(Dependent)19 b(types)f(\(with)e(help)i(for)f(a)o
(v)o(oiding)h(redundant)h(typing)f(an-)16 286 y(notations\))-63
407 y Fx(\017)42 b Fv(Dependently)21 b(typed)e(inducti)n(v)o(e)h(f)o
(amilies)f(\(dependent)h(datatypes\))-63 527 y Fx(\017)42
b Fv(Separation)17 b(between)g(v)n(alues)h(and)f(types)g(\(ensuring)h
(decidable)f(type)16 610 y(checking\))-63 731 y Fx(\017)42
b Fv(A)d(treatment)g(of)g(equality)h(and)g(representation)g(types)g
(using)g(a)16 814 y(equality-type-lik)o(e)20 b(mechanism)-150
895 y(The)k(technical)h(contrib)o(ution)h(of)e(this)g(paper)h(is)g(in)f
(formalizing)h(a)f(multi-)-150 978 y(stage)c(language,)h(and)f(pro)o
(ving)h(its)e(safety)g(under)i(a)e(sophisticated)i(depen-)-150
1061 y(dent)27 b(type)g(system.)47 b(W)-6 b(e)27 b(do)g(this)g(by)g
(capitalizing)g(on)g(the)g(recent)g(w)o(ork)-150 1144
y(by)c(Shao,)f(Saha,)h(T)m(rifono)o(v)g(and)f(P)o(apasp)o(yrou')l(s)i
(on)e(the)g(TL)f(system)i([44],)-150 1227 y(which)17
b(in)g(turn)h(b)o(uilds)f(on)g(a)g(number)h(of)f(recent)h(w)o(orks)f
(on)h(typed)g(interme-)-150 1310 y(diate)h(languages)h([20)q(,)e(7)q(,)
g(59)q(,)g(43)q(,)g(9)q(,)g(57)q(,)g(44)q(].)-150 1445
y Ft(1.6)99 b(Or)o(ganization)25 b(of)g(this)f(P)o(aper)-67
1545 y Fv(Section)c(2)h(sho)n(ws)g(ho)n(w)g(to)f(tak)o(e)h(our)g(moti)n
(v)n(ating)g(e)o(xample)g(and)g(turn)f(it)-150 1629 y(into)15
b(a)f(tagless)h(staged)g(interpreter)f(in)h(a)f(dependently)i(typed)g
(setting.)21 b(First,)-150 1712 y(we)16 b(present)g(the)g(syntax)g(and)
h(semantics)f(of)g(a)f(simple)h(typed)h(language)g(and)-150
1795 y(sho)n(w)j(ho)n(w)g(these)g(can)f(be)h(implemented)g(in)g(a)f
(direct)g(f)o(ashion)i(in)e(Meta-D.)-150 1878 y(The)i(\002rst)g(part)g
(of)h(this)f(\(writing)g(the)g(unstaged)i(interpreter\))e(is)g(similar)
g(to)-150 1961 y(what)15 b(has)g(been)g(done)h(in)f(Cayenne)g([2)q(],)g
(b)o(ut)f(is)g(simpli\002ed)h(by)g(the)g(presence)-150
2044 y(of)j(dependent)h(datatypes)g(in)f(Meta-D)g(\(see)g(Related)g(W)
-6 b(ork\).)22 b(The)c(k)o(e)o(y)g(ob-)-150 2127 y(serv)n(ation)h(here)
f(is)g(that)g(the)g(interpreter)g(needs)h(to)f(be)g(de\002ned)h(o)o(v)o
(er)f(typing)-150 2210 y(deri)n(v)n(ations)27 b(rather)f(than)h(e)o
(xpressions.)45 b(Dependently)28 b(typed)f(datatypes)-150
2293 y(are)f(needed)i(to)e(represent)g(such)h(typing)g(deri)n(v)n
(ations)g(accurately)-5 b(.)46 b(Ne)o(xt,)-150 2376 y(we)21
b(sho)n(w)g(ho)n(w)h(this)e(interpreter)h(can)h(be)f(easily)g(staged.)
30 b(This)20 b(step)h(is)g(e)o(x-)-150 2459 y(actly)e(the)g(same)g(as)g
(in)g(the)g(untyped)h(and)g(in)f(the)g(Hindle)o(y-Milner)g(setting.)-67
2558 y(In)f(Section)g(3)g(we)g(point)g(out)h(and)f(address)h(some)g
(basic)f(practical)g(prob-)-150 2641 y(lems)29 b(that)g(arise)h(in)f
(the)g(implementation)h(of)g(interpreters)f(in)g(a)h(depen-)-150
2724 y(dently)25 b(typed)h(programming)g(language.)41
b(First,)25 b(we)f(sho)n(w)i(ho)n(w)f(to)f(con-)-150
2807 y(struct)d(the)f(typing)i(judgments)g(that)e(are)h(consumed)i(by)e
(the)g(tagless)g(inter)o(-)-150 2890 y(preter)l(.)40
b(Then,)26 b(we)f(re)n(vie)n(w)g(why)g(it)e(is)i(important)g(to)f(ha)o
(v)o(e)h(a)g(clear)f(sepa-)-150 2973 y(ration)e(between)g(the)g
(computational)i(language)f(and)f(the)g(type)h(language.)-150
3056 y(This)e(moti)n(v)n(ates)i(the)f(need)g(for)g(representation)h
(types,)f(and)h(has)f(an)g(ef)n(fect)-150 3140 y(on)d(the)g(code)h(for)
f(the)g(tagless)g(staged)h(interpreter)l(.)-67 3239 y(Section)25
b(4)h(presents)g(a)f(formalization)h(of)f(a)h(core)g(subset)g(of)f
(Meta-D,)-150 3322 y(and)30 b(the)f(formal)g(proof)g(of)g(its)g(type)g
(safety)-5 b(.)54 b(Our)29 b(approach)h(b)o(uilds)f(on)-150
3405 y(Shao,)21 b(Saha,)h(T)m(rifono)o(v)f(and)h(P)o(apasp)o(yrou')l(s)
g(de)n(v)o(elopment)h(for)e(a)g(rich)g(de-)-150 3488
y(pendent)32 b(type)e(language)i(called)f(TL)e([44].)57
b(The)o(y)31 b(use)f(this)g(system)h(to)-150 3571 y(type)24
b(a)g(computational)h(language)g(that)e(includes)i(basic)f(ef)n(fects,)
g(such)h(as)-150 3654 y(non-termination.)31 b(In)21 b(this)g(paper)m(,)
h(we)f(de)n(v)o(elop)i(a)e(multi-stage)g(computa-)-150
3737 y(tional)e(language,)h(and)g(sho)n(w)f(ho)n(w)h(essentially)f(the)
g(same)g(techniques)h(can)-150 3820 y(be)27 b(used)h(to)f(v)o(erify)g
(its)g(soundness.)50 b(The)27 b(k)o(e)o(y)h(technical)f
(modi\002cations)-150 3903 y(needed)21 b(are)e(the)h(addition)g(of)f
(le)n(v)o(els)h(to)f(typing)i(judgments,)f(and)g(address-)-150
3986 y(ing)f(e)n(v)n(aluation)h(under)g(type)g(binders.)-67
4086 y(Section)25 b(5)g(discusses)h(related)f(w)o(ork,)h(and)g(Section)
e(6)h(outlines)h(direc-)-150 4169 y(tions)19 b(for)g(future)g(w)o(ork)g
(and)h(concludes.)-150 4304 y Ft(2)99 b(A)25 b(T)-9 b(agless)25
b(Staged)g(Inter)o(pr)n(eter)-67 4405 y Fv(In)j(this)g(section)g(we)g
(sho)n(w)g(ho)n(w)h(the)f(e)o(xample)g(discussed)h(in)f(the)g(in-)-150
4488 y(troduction)c(can)g(be)f(rede)n(v)o(eloped)i(in)e(a)g
(dependently)j(typed)d(setting.)36 b(W)-6 b(e)-150 4571
y(be)o(gin)21 b(by)g(considering)h(a)e(de\002nition)h(of)f(the)g
(syntax)i(and)f(semantics)g(of)f(\(a)-150 4654 y(simply)f(typed)h(v)o
(ersion\))f(of)g(the)g(subject)h(language.)-150 4789
y Ft(2.1)99 b(Subject-Language)28 b(Syntax)d(and)h(Semantics)-67
4890 y Fv(Figure)16 b(1)f(de\002nes)h(the)g(syntax,)h(type)f(system,)g
(and)g(semantics)h(of)e(a)h(sam-)-150 4973 y(ple)24 b(language)i(we)e
(shall)h(call)f(SL.)f(F)o(or)g(simplicity)i(of)f(the)g(de)n(v)o
(elopment,)-150 5056 y(we)e(use)g(de)h(Bruijn)e(indices)i(for)f(v)n
(ariables)g(and)h(binders.)33 b(The)22 b(semantics)-150
5139 y(de\002nes)e(ho)n(w)f(the)g(types)h(of)f(SL)f(are)h(mapped)i(to)e
(their)g(intended)h(meaning.)-150 5222 y(F)o(or)i(e)o(xample,)i(the)e
(meaning)i(of)f(the)f(type)h Fs(N)k Fv(is)22 b(the)h(set)f(of)g
(natural)h(num-)-150 5305 y(bers,)k(while)e(the)h(meaning)g(of)g(the)f
(arro)n(w)h(type)e Fs(t)1185 5318 y Fo(1)1238 5305 y
Fx(!)18 b Fs(t)1352 5318 y Fo(2)1410 5305 y Fv(is)25
b(the)h(function)-150 5400 y(space)g Fk([)-8 b([)n Fs(t)94
5413 y Fo(2)126 5400 y Fk(])g(])160 5373 y Fl([)i([)o
Fj(t)201 5382 y Fh(1)225 5373 y Fl(])g(])254 5400 y Fv(.)42
b(Furthermore,)27 b(we)e(map)h(the)f(meaning)h(of)g(type)f(assign-)2049
83 y(ments)i Fw(G)p Fv(,)h(into)f(a)f(product)i(of)e(the)h(sets)g
(denoting)g(the)g(\002nite)f(number)i(of)2049 166 y(types)19
b(in)f(the)h(assignment.)24 b(Note)19 b(that)f(the)g(semantics)h(of)g
(programs)g(is)g(de-)2049 249 y(\002ned)24 b(on)g Fs(typing)g
(judgments)p Fv(,)h(and)g(maps)f(to)f(elements)h(of)g(the)g(meanings)
2049 332 y(of)g(their)h(types.)40 b(This)24 b(is)g(the)g(standard)h(w)o
(ay)g(of)g(de\002ning)g(the)f(semantics)2049 415 y(of)18
b(typed)h(languages)h([56)q(,)e(18,)g(39)q(],)f(and)i(the)g
(implementation)g(in)f(the)g(ne)o(xt)2049 498 y(section)h(will)f(be)i
(a)e(direct)h(codi\002cation)h(of)f(this)f(de\002nition.)2049
631 y Ft(2.2)99 b(Inter)o(pr)n(eters)27 b(in)e(Meta-D)2132
732 y Fv(An)i(interpreter)h(for)f(SL)f(can)i(be)f(simply)h(an)f
(implementation)h(of)g(the)2049 815 y(de\002nition)20
b(in)g(Figure)f(1.)26 b(W)-6 b(e)19 b(be)o(gin)i(by)f(de\002ning)h(the)
e(datatypes)i(that)f(will)2049 898 y(be)27 b(used)g(to)g(interpret)g
(the)g(basic)g(types)g(\(and)g(typing)h(en)m(vironments\))g(of)2049
981 y(objlang.)c(T)-6 b(o)18 b(de\002ne)h(datatypes)h(Meta-D)e(uses)h
(an)g(alternati)n(v)o(e)g(notation)g(to)2049 1064 y(SML)e(or)h(Hask)o
(ell)g(datatype)h(de\002nitions.)k(F)o(or)17 b(e)o(xample,)i(to)f
(de\002ne)g(the)g(set)2049 1147 y(of)h(natural)g(numbers,)h(instead)f
(of)g(writing)2049 1244 y Fm(datatype)39 b(Nat)f(=)h(Z)f(|)g(S)g(of)h
(Nat)2049 1325 y Fv(we)19 b(write)2049 1423 y Fm(inductive)39
b(Nat)f(:)h(*1)76 b(=)38 b(Z)77 b(:)38 b(Nat)g(|)h(S)f(:)g(Nat)g(->)h
(Nat)2049 1504 y Fv(The)28 b(inducti)n(v)o(e)h(notation)g(is)f(more)h
(con)m(v)o(enient)h(when)f(we)f(are)g(de\002ning)2049
1587 y(dependent)17 b(datatypes)f(and)g(when)g(we)f(wish)g(to)g
(de\002ne)h(not)f(only)h(ne)n(w)f(types)2049 1670 y(b)o(ut)g(ne)n(w)g
(kinds)h(\(meaning)g(\223types)f(of)g(types\224\).)22
b(No)n(w)16 b(type)f(e)o(xpression)h(and)2049 1753 y(type)j
(assignments)h(are)f(represented)h(as)f(follo)n(ws:)2049
1851 y Fm(inductive)39 b(Typ)f(:)h(*1)76 b(=)38 b(NatT)115
b(:)38 b(Typ)2811 1934 y(|)g(ArrowT)h(:)f(Typ)h(->)f(Typ)g(->)h(Typ)
2049 2017 y(inductive)g(Exp)f(:)h(*1)76 b(=)38 b(EI)h(:)f(Nat)g(->)h
(Exp)2811 2100 y(|)f(EV)h(:)f(Nat)g(->)h(Exp)2811 2183
y(|)f(EL)h(:)f(Typ)g(->)h(Exp)f(->)g(Exp)2811 2266 y(|)g(EA)h(:)f(Exp)g
(->)h(Exp)f(->)g(Exp)2049 2349 y(inductive)h(Env)f(:)h(*1)76
b(=)38 b(EmptyE)77 b(:)38 b(Env)2811 2432 y(|)g(ExtE)h(:)f(Env)h(->)f
(Typ)76 b(->)39 b(Env)2049 2513 y Fv(The)21 b Fm(*1)g
Fv(in)h(these)f(de\002nitions)h(means)g(that)f(we)g(are)g(de\002ning)h
(a)f(ne)n(w)h(type.)2049 2596 y(T)-6 b(o)15 b(implement)g(the)g(type)g
(judgment)h(of)e(SL)g(we)h(need)g(a)g(dependently)i(typed)2049
2679 y(datatype)27 b Fs(inde)o(xed)f Fv(by)g(three)g(parameters:)38
b(a)25 b(type)h(assignment)h Fm(Env)p Fv(,)g(an)2049
2762 y(e)o(xpression)d Fm(Exp)p Fv(,)e(and)h(a)g(type)f
Fm(Typ)p Fv(.)34 b(W)-6 b(e)22 b(can)h(de\002ne)f(such)h(a)g(datatype)g
(as)2049 2845 y(sho)n(wn)f(in)g(Figure)f(2.)2615 2818
y Fo(3)2679 2845 y Fv(Each)g(constructor)h(in)g(this)f(datatype)h
(corresponds)2049 2928 y(to)g(one)g(of)g(the)g(rules)f(in)h(the)g(type)
g(system)g(for)g(our)g(object)g(language.)33 b(F)o(or)2049
3011 y(e)o(xample,)21 b(consider)g(the)f(rule)g(for)g(lambda)g
(abstraction)h(\(Lam\))e(from)h(Fig-)2049 3094 y(ure)k(1.)37
b(The)23 b(basic)h(idea)g(is)f(to)g(use)h(the)g(\223judgments)h(as)e
(types)h(principle\224)2049 3177 y([19)q(],)19 b(and)h(so)g(we)g(can)g
(vie)n(w)g(the)g(type)g(rule)g(as)f(a)h(constant)g(combinator)h(on)2049
3260 y(judgments.)27 b(This)20 b(combinator)h(tak)o(es)f(hypothesis)h
(judgments)h(\(and)e(their)2049 3343 y(free)d(v)n(ariables\))g(and)g
(returns)g(the)g(conclusion)h(judgment.)23 b(In)17 b(this)g(case)g(the)
2049 3426 y(rule)22 b(requires)g(an)g(en)m(vironment)h
Fw(G)p Fv(,)f(tw)o(o)g(types)e Fs(t)26 b Fv(and)21 b
Fs(t)3534 3399 y Fq(0)3554 3426 y Fv(,)h(a)f(body)i Fs(e)f
Fv(of)g(the)2049 3509 y(lambda)e(abstraction,)g(a)f(judgment)i(that)e
Fw(G)p Fr(;)6 b Fs(t)22 b Fx(`)16 b Fs(e)h Fv(:)e Fs(t)3428
3482 y Fq(0)3448 3509 y Fv(,)k(and)h(returns)g(a)f(judg-)2049
3592 y(ment)e Fw(G)d Fx(`)g Fw(l)n Fs(t)5 b Fr(:)p Fs(e)14
b Fv(:)e Fs(t)19 b Fx(!)12 b Fs(t)2653 3565 y Fq(0)2673
3592 y Fv(.)22 b(This)16 b(rule)h(is)f(codi\002ed)h(directly)f(by)h
(the)f(follo)n(wing)2049 3675 y(constructor)2049 3772
y Fm(JL)38 b(:)h(\(e1)f(:)g(Env\))h(->)f(\(t1)g(:)h(Typ\))f(->)h(\(t2)f
(:)g(Typ\))h(->)2240 3856 y(\(s2)f(:)g(Exp\))h(->)f(J\(ExtE)h(e1)f
(t1,s2,t2\))h(->)2240 3939 y(J\(e1,EL)f(t1)h(s2,)f(ArrowT)h(t1)f(t2\).)
2049 4019 y Fv(In)25 b(the)f(de\002nition)h(of)g Fm(J)f
Fv(we)g(see)h(a)g(dif)n(ferences)g(between)g(the)g(traditional)2049
4103 y(datatype)d(de\002nitions)g(and)h(inducti)n(v)o(e)f(datatypes:)30
b(each)22 b(of)f(the)h(construc-)2049 4186 y(tors)h(can)g(ha)o(v)o(e)g
(dependently)i(typed)f(ar)o(guments)f(and)h(a)e(range)i(type)f
Fm(J)g Fv(in-)2049 4269 y(de)o(x)o(ed)c(by)f(dif)n(ferent)g(indices.)23
b(It)17 b(is)h(this)f(v)n(ariablility)h(in)g(the)g(return)g(type)g(of)
2049 4352 y(the)24 b(constructors)h(that)f(dependent)i(datatypes)f(can)
f(pro)o(vide)h(more)f(infor)o(-)2049 4435 y(mation)19
b(about)h(their)f(v)n(alues.)2049 4560 y Fg(2.2.1)90
b(Interpr)m(eter)o(s)20 b(of)j(T)-7 b(ypes)21 b(and)h(J)m(udgments)2132
4660 y Fv(After)31 b(de\002ning)i(judgments,)j(we)c(are)g(ready)h(to)f
(implement)g(the)g(in-)2049 4743 y(terpretations.)67
b(Note,)36 b(ho)n(we)n(v)o(er)m(,)i(that)33 b(the)h(type)f(of)h(the)f
(result)g(of)h(the)2049 4826 y(interpretation)d(of)f(judgments,)k
(depends)e(on)f(the)f(interpretation)h(of)f(SL)2049 4909
y(types.)46 b(This)26 b(dependenc)o(y)i(is)e(captured)i(in)e(the)g
(interpretation)h(function)2049 4992 y Fm(typEval)p Fv(.)41
b(Figure)25 b(3)g(presents)g(the)g(implementation)h(of)f(the)g
(interpreta-)p 2049 5063 801 4 v 2150 5124 a Fo(3)2183
5151 y Fv(F)o(or)g(practical)f(reasons)i(that)e(we)h(will)e(discuss)j
(in)e(the)h(ne)o(xt)g(section,)2049 5234 y(this)f(datatype)h(is)e(not)h
(le)o(gal)g(in)g(Meta-D.)g(W)-6 b(e)23 b(will)g(use)h(it)g(in)g(this)f
(section)2049 5317 y(to)f(e)o(xplain)h(the)f(basic)h(ideas)g(before)g
(we)f(discuss)h(the)f(need)h(for)f(so-called)2049 5400
y(representation)e(types.)p eop
%%Page: 4 4
4 3 bop 489 548 a Fs(t)109 b Fx(2)17 b Fs(T)722 561 y
Fo(1)772 548 y Fk(=)101 b Fs(N)21 b Fx(j)14 b Fs(t)21
b Fx(!)15 b Fs(t)491 631 y Fw(G)83 b Fx(2)17 b Fs(G)740
644 y Fo(1)790 631 y Fk(=)83 b Fx(hi)16 b(j)h Fw(G)p
Fr(;)6 b Fs(t)491 714 y(e)95 b Fx(2)17 b Fs(E)732 727
y Fo(1)781 714 y Fk(=)92 b Fs(n)17 b Fx(j)f Fw(l)n Fs(t)5
b Fr(:)p Fs(e)16 b Fx(j)h Fs(e)f(e)h Fx(j)g Fv(#)p Fs(n)p
198 834 270 3 v 198 903 a Fw(G)g Fx(`)f Fs(n)h Fv(:)g
Fs(N)485 851 y Fv(\(Nat\))p 719 834 330 3 v 719 903 a
Fw(G)p Fr(;)6 b Fs(t)21 b Fx(`)16 b Fv(#0)i(:)c Fs(t)1065
851 y Fv(\(V)-8 b(ar\))322 1018 y Fw(G)17 b Fx(`)f Fv(#)p
Fs(n)h Fv(:)e Fs(t)p 198 1055 524 3 v 198 1123 a Fw(G)p
Fr(;)6 b Fs(t)296 1102 y Fq(0)333 1123 y Fx(`)16 b Fv(#)p
Fk(\()p Fs(n)10 b Fk(+)g Fv(1)p Fk(\))19 b Fv(:)14 b
Fs(t)739 1072 y Fv(\(W)-6 b(eak\))1116 1018 y Fw(G)p
Fr(;)6 b Fs(t)21 b Fx(`)16 b Fs(e)h Fv(:)e Fs(t)1404
991 y Fq(0)p 1033 1055 473 3 v 1033 1123 a Fw(G)i Fx(`)f
Fw(l)n Fs(t)5 b Fr(:)p Fs(e)17 b Fv(:)d Fs(t)22 b Fx(!)14
b Fs(t)1486 1102 y Fq(0)1523 1072 y Fv(\(Lam\))198 1239
y Fw(G)j Fx(`)f Fs(e)355 1252 y Fo(1)405 1239 y Fv(:)f
Fs(t)21 b Fx(!)15 b Fs(t)599 1212 y Fq(0)693 1239 y Fw(G)i
Fx(`)f Fs(e)850 1252 y Fo(2)900 1239 y Fv(:)f Fs(t)p
198 1276 764 3 v 394 1344 a Fw(G)i Fx(`)f Fs(e)551 1357
y Fo(1)601 1344 y Fs(e)634 1357 y Fo(2)684 1344 y Fv(:)f
Fs(t)746 1323 y Fq(0)978 1293 y Fv(\(App\))2435 559 y
Fk([)-8 b([)p Fs(N)t Fk(])g(])240 b(=)83 b Ff(N)2435
655 y Fk([)-8 b([)n Fs(t)2488 668 y Fo(1)2537 655 y Fx(!)15
b Fs(t)2648 668 y Fo(2)2681 655 y Fk(])-8 b(])82 b(=)h([)-8
b([)n Fs(t)2991 668 y Fo(2)3023 655 y Fk(])g(])3057 628
y Fl([)i([)o Fj(t)3098 637 y Fh(1)3121 628 y Fl(])g(])2435
738 y Fk([)e([)p Fx(hi)p Fk(])g(])236 b(=)83 b Fe(1)2435
821 y Fk([)-8 b([)p Fw(G)p Fr(;)6 b Fs(t)f Fk(])-8 b(])196
b(=)83 b([)-8 b([)p Fw(G)p Fk(])g(])10 b Fx(\002)g Fk([)-8
b([)n Fs(t)5 b Fk(])-8 b(])1909 904 y([)g([)p Fw(G)15
b Fx(`)i Fs(e)f Fv(:)f Fs(t)5 b Fk(])-8 b(])412 b Fv(:)120
b Fk([)-8 b([)p Fw(G)p Fk(])g(])15 b Fx(!)h Fk([)-8 b([)n
Fs(t)5 b Fk(])-8 b(])1909 987 y([)g([)p Fw(G)15 b Fx(`)i
Fs(n)g Fv(:)f Fs(N)t Fk(])-8 b(])p Fw(r)337 b Fk(=)83
b Fs(n)17 b Fx(2)f Ff(N)1909 1070 y Fk([)-8 b([)p Fw(G)p
Fr(;)6 b Fs(t)20 b Fx(`)d Fv(#0)g(:)d Fs(t)5 b Fk(])-8
b(])p Fw(r)277 b Fk(=)83 b Fw(p)2805 1083 y Fo(2)2838
1070 y Fk(\()p Fw(r)p Fk(\))1909 1154 y([)-8 b([)p Fw(G)p
Fr(;)6 b Fs(t)2041 1127 y Fq(0)2076 1154 y Fx(`)17 b
Fv(#)p Fk(\()p Fs(n)10 b Fk(+)g Fv(1)p Fk(\))18 b Fv(:)d
Fs(t)5 b Fk(])-8 b(])p Fw(r)82 b Fk(=)h([)-8 b([)p Fw(G)16
b Fx(`)g Fv(#)p Fs(n)h Fv(:)d Fs(t)5 b Fk(])-8 b(]\()p
Fw(p)3177 1167 y Fo(1)3210 1154 y Fw(r)p Fk(\))1909 1237
y([)g([)p Fw(G)15 b Fx(`)i Fw(l)n Fs(t)5 b Fr(:)p Fs(e)16
b Fv(:)e Fs(t)22 b Fx(!)14 b Fs(t)2394 1210 y Fq(0)2414
1237 y Fk(])-8 b(])p Fw(r)134 b Fk(=)83 b Fs(x)17 b Fx(7!)f
Fk(\([)-8 b([)p Fw(G)p Fr(;)6 b Fs(t)21 b Fx(`)16 b Fs(e)h
Fv(:)f Fw(t)3264 1210 y Fq(0)3284 1237 y Fk(])-8 b(])16
b(\()p Fw(r)p Fr(;)8 b Fs(x)p Fk(\)\))1909 1321 y([)-8
b([)p Fw(G)15 b Fx(`)i Fs(e)2099 1334 y Fo(1)2149 1321
y Fs(e)2182 1334 y Fo(2)2232 1321 y Fv(:)d Fs(t)5 b Fk(])-8
b(])p Fw(r)255 b Fk(=)83 b([)-8 b([)p Fw(G)16 b Fx(`)g
Fs(e)2954 1334 y Fo(1)3004 1321 y Fv(:)e Fs(t)3065 1294
y Fq(0)3102 1321 y Fx(!)g Fs(t)5 b Fk(])-8 b(])p Fw(r)p
Fk(\([)g([)p Fw(G)15 b Fx(`)h Fs(e)3510 1334 y Fo(2)3560
1321 y Fv(:)f Fs(t)3622 1294 y Fq(0)3642 1321 y Fk(])-8
b(])p Fw(r)p Fk(\))1539 1467 y Fd(Figur)o(e)18 b(1.)23
b(Semantics)18 b(of)h(SL)-150 2461 y Fm(inductive)39
b(J)f(:)g(\(Env,)h(Exp,)g(Typ\))f(->)h(*1)76 b(=)155
2544 y(JN)38 b(:)g(\(e1:Env\))h(->)g(\(n)f(:Nat\))h(->)76
b(J\(e1,EI)39 b(n,NatT\))79 2627 y(|)f(JV)g(:)g(\(e1:Env\))h(->)g
(\(t1:Typ\))g(->)f(J\(ExtE)h(e1)f(t1,EV)h(Z,t1\))79 2710
y(|)f(JW)g(:)g(\(e1:Env\))h(->)g(\(t1:Typ\))g(->)f(\(t2:Typ\))h(->)f
(\(i:Nat\))h(->)f(J\(e1,EV)h(i,t1\))g(->)f(J\(ExtE)h(e1)f(t2,EV)h(\(S)f
(i\),)h(t1\))79 2793 y(|)f(JL)g(:)g(\(e1:Env\))h(->)g(\(t1:Typ\))g(->)f
(\(t2:Typ\))h(->)f(\(s2:Exp\))h(->)g(J\(ExtE)f(e1)h(t1,s2,t2\))g(->)f
(J\(e1,EL)h(t1)f(s2,)h(ArrowT)f(t1)h(t2\))79 2876 y(|)f(JA)g(:)g
(\(e:Env\))h(->)g(\(s1:Exp\))g(->)f(\(s2:Exp\))h(->)f(\(t1:Typ\))h(->)f
(\(t2)h(:)f(Typ\))h(->)f(\(J\(e,s1,ArrowT)i(t1)e(t2\)\))76
b(->)345 2959 y(\(J\(e,s2,t1\)\))40 b(->)e(J\(e,)h(EA)f(s1)g(s2,)h
(t2\))938 3040 y Fd(Figur)o(e)18 b(2.)24 b(The)18 b(typing)g(judgment)g
Fc(J)g Fd(\(without)g(r)o(epr)o(esentation)g(types\))-150
4042 y Fm(fun)38 b(typEval)h(\(t)g(:)f(Typ\))g(:)h(*1)f(=)g(case)h(t)f
(of)g(NatT)h(=>)f(Nat)g(|)h(ArrowT)f(t1)h(t1)f(=>)g(\(typEval)h(t1\))g
(->)f(\(typEval)h(t2\))-150 4208 y(fun)f(envEval)h(\(e)g(:)f(Env\))g(:)
h(*1)f(=)g(case)h(e)f(of)g(EmptyE)77 b(=>)38 b(unit)h(|)76
b(ExtE)39 b(e2)f(t)g(=>)h(\(envEval)g(e2,)f(typEval)h(t\))-150
4374 y(fun)f(eval)h(\(e)f(:)g(Env\))h(\(rho:)g(envEval\(e\)\))g(\(s)f
(:)g(Exp\))h(\(t)f(:)h(Typ\))f(\(j)g(:)h(J\(e,s,t\)\))g(:)f(\(typEval)h
(t\)=)-74 4457 y(case)g(j)f(of)2 4540 y(JN)77 b(e1)38
b(n1)77 b(=>)38 b(n1)-74 4623 y(|)g(JV)77 b(e1)38 b(t1)77
b(=>)38 b(#2\(rho\))-74 4706 y(|)g(JW)77 b(e1)38 b(t1)g(t2)h(i)f(j1)g
(=>)h(eval)f(e1)h(\(#1\(rho\)\))g(\(EV)f(i\))g(t1)h(j1)-74
4789 y(|)f(JL)h(ee1)f(et1)h(et2)f(es2)g(ej1)h(=>)f(fn)h(v)f(:)g
(\(typEval)h(et1\))f(=>)h(\(eval)f(\(ExtE)h(ee1)f(et1\))h(\(rho,v\))g
(es2)f(et2)h(ej1)f(\))-74 4872 y(|)g(JA)h(e)f(s1)g(s2)h(t1)f(t2)g(j1)h
(j2)f(=>)g(\(eval)h(e)f(rho)g(s1)h(\(ArrowT)g(t1)f(t2\))g(j1\))h
(\(eval)f(e)h(rho)f(s2)g(t1)h(j2\))707 4953 y Fd(Figur)o(e)18
b(3.)23 b(Dependently)17 b(typed)h(tagless)i(inter)o(pr)o(eter)e
(\(without)g(r)o(epr)o(esentation)f(types\))p eop
%%Page: 5 5
5 4 bop -150 83 a Fv(tion)18 b(of)f(types)h Fm(typEval)p
Fv(;)g(the)g(mapping)h(of)e(type)h(assignments)h(into)f(Meta-)-150
166 y(D)h(types)g Fm(envEval)p Fv(;)g(and)h(the)f(interpretation)g(of)g
(judgments)h Fm(eval)p Fv(.)-67 266 y(The)k(function)h
Fm(eval)f Fv(is)g(de\002ned)h(by)g Fm(case)f Fv(analysis)h(on)f(typing)
h(judg-)-150 349 y(ments.)34 b(This)22 b(function)h(is)f(not)g
(signi\002cantly)h(computationally)h(dif)n(ferent)-150
432 y(from)g(the)h(one)g(presented)g(in)f(Section)g(1.2.)40
b(Its)24 b(relati)n(v)o(ely)g(minor)h(dif)n(fer)o(-)-150
515 y(ences)g(include)g(additional)g(typing)g(annotations,)h(and)f(the)
g(case)f(analysis)-150 598 y(o)o(v)o(er)j(typing)h(judgments.)47
b(Most)27 b(importantly)-5 b(,)29 b(writing)e(it)f(does)h(not)g(re-)
-150 681 y(quire)f(that)g(we)g(use)h(tags)f(on)g(the)h(result)e(v)n
(alues,)k(because)e(the)f(type)h(sys-)-150 764 y(tem)k(allo)n(ws)h(us)g
(to)f(specify)h(that)g(the)f(return)h(type)g(of)g(this)f(function)h(is)
-150 847 y Fm(typEval)39 b(t)p Fv(.)22 b(T)-6 b(ags)16
b(are)g(no)g(longer)h(needed)g(to)f(help)g(us)h(discriminate)f(what)
-150 930 y(type)22 b(of)f(v)n(alue)i(we)e(are)g(getting)h(back)g(at)g
(runtime:)28 b(the)22 b(type)f(system)h(no)n(w)-150 1013
y(tells)c(us,)h Fs(statically)p Fv(.)-150 1137 y Ft(2.3)99
b(Staged)26 b(Inter)o(pr)n(eters)h(in)e(Meta-D)-67 1238
y Fv(Figure)j(4)h(sho)n(ws)g(a)f(staged)h(v)o(ersion)g(of)f
Fm(eval)p Fv(.)52 b(As)28 b(we)g(sa)o(w)g(earlier)m(,)-150
1321 y(staging)d(is)f(not)g(complicated)i(by)e(either)h(Hindle)o
(y-Milner)g(or)f(dependent)-150 1404 y(types.)30 b(The)20
b(staged)i(interpreter)f Fm(evalS)p Fv(,)g(returns)g(a)g(v)n(alue)g(of)
g(type)g Fm(\(code)-150 1487 y(\(typEval)39 b(t\)\))p
Fv(.)55 b(Note)30 b(that)f(the)h(type)g(of)f(v)n(alue)i(assignments)f
(is)g(also)-150 1570 y(changed)22 b(\(see)d Fm(envEvalS)i
Fv(in)e(Figure)h(4\):)25 b(Rather)20 b(than)g(carrying)h(runtime)-150
1653 y(v)n(alues)c(for)f(SL,)e(it)i(carries)g(pieces)g(of)g(code)h
(representing)g(the)f(v)n(alues)h(in)f(the)-150 1736
y(v)n(ariable)24 b(assignment.)39 b(Ex)o(ecuting)25 b(this)f(program)g
(produces)i(the)e(tagless)-150 1819 y(code)c(fragments)f(that)g(we)g
(are)g(interested)g(in.)-67 1919 y(A)h(crucial)g(point)h(to)f(note)h
(here)f(is)g(that)g(while)g(the)g(e)n(v)n(al)h(function)g(ne)n(v)o(er)
-150 2002 y(performs)26 b(tagging)g(and)g(untagging,)j(the)c
(interpretati)n(v)o(e)h(o)o(v)o(erhead)h(from)-150 2085
y(tra)o(v)o(ersing)g(its)f(input)h(is)f(still)g(considerable.)48
b(Judgements)28 b(must)f(be)g(de-)-150 2168 y(constructed)20
b(by)f(e)n(v)n(al)g(at)f(run-time)g(which)h(may)g(require)g(e)n(v)o(en)
g(more)g(w)o(ork)-150 2251 y(than)h(deconstructing)i(tagged)f(v)n
(alues.)27 b(Ho)n(we)n(v)o(er)m(,)20 b(with)g(staging)g(all)f(these)
-150 2334 y(o)o(v)o(erheads)31 b(are)f(performed)h(in)f(the)f(\002rst)g
(stage,)k(and)d(an)g(o)o(v)o(erhead-free)-150 2417 y(term)19
b(is)f(generated)i(for)f(e)o(x)o(ecution)h(in)f(a)g(later)f(stage.)-67
2516 y(Staging)j(violations)h(are)f(pre)n(v)o(ented)h(in)f(a)g
(standard)h(w)o(ay)f(by)h(Meta-D')l(s)-150 2599 y(type)f(system)g
(\(See)f(technical)h(report)f([34)q(]\).)27 b(The)20
b(staging)i(constructs)f(are)-150 2682 y(those)29 b(of)g(Da)o(vies)f
([10)q(])g(with)g(the)h(addition)g(of)g(cross-stage)g(persistence)-150
2765 y([55)q(].)40 b(W)-6 b(e)24 b(refer)h(the)g(reader)g(to)g(these)g
(references)h(for)f(futher)g(details)f(on)-150 2848 y(the)f(nature)h
(of)f(staging)h(violations.)37 b(Adding)24 b(a)f(run)h(construct)g
(along)g(the)-150 2932 y(lines)19 b(of)g(pre)n(vious)h(w)o(orks)f([51)q
(,)f(30)q(])h(w)o(as)g(not)g(considered)h(here.)-67 3031
y(No)n(w)32 b(we)h(turn)f(to)g(addressing)i(some)f(practical)f
(questions)i(that)e(are)-150 3114 y(unique)27 b(to)e(the)h(dependent)i
(typing)e(setting,)h(including)g(ho)n(w)f(the)g(abo)o(v)o(e-)-150
3197 y(mentioned)20 b(judgements)g(are)f(constructed.)-150
3322 y Ft(3)99 b(Practical)25 b(Concer)o(ns)-67 3422
y Fv(Building)f(type)h(judgments)g(amounts)g(to)f(implementing)h
(either)e(type-)-150 3505 y(checking)32 b(or)e(type)g(inference)h(for)f
(the)g(language)i(we)e(are)g(interpreting.)-150 3588
y(Another)c(practical)f(concern)h(is)e(that)h(types)h(that)f(depend)h
(on)g(v)n(alues)f(can)-150 3671 y(lead)20 b(to)f(either)g(undecidable)i
(or)e(unsound)j(type)d(checking.)26 b(This)19 b(happens)-150
3754 y(when)26 b(v)n(alues)g(contain)g(di)n(v)o(er)o(ging)g(or)g(side)f
(ef)n(fecting)h(computations.)44 b(In)-150 3837 y(this)18
b(section)g(we)g(discuss)g(ho)n(w)g(both)h(of)f(these)g(concerns)h(are)
f(addressed)h(in)-150 3920 y(the)g(conte)o(xt)h(of)e(Meta-D.)-150
4045 y Ft(3.1)99 b(Constructing)26 b(T)-7 b(yping)25
b(J)o(udgments)-67 4145 y Fv(Requiring)16 b(the)f(user)g(of)h(a)f(DSL)f
(to)h(supply)h(a)f(typing)h(judgment)g(for)f(each)-150
4228 y(program)20 b(to)f(be)h(interpreted)f(is)g(not)h(lik)o(ely)f(to)g
(be)h(acceptable)g(\(although)g(it)-150 4311 y(can)27
b(depend)g(on)g(the)f(situation\).)45 b(The)26 b(user)h(should)g(be)g
(able)f(to)g(use)h(the)-150 4394 y(implementation)20
b(by)f(supplying)i(only)f(the)f(plain)g(te)o(xt)g(of)g(the)g(subject)h
(pro-)-150 4477 y(gram.)j(Therefore)17 b(the)g(implementation)h(needs)g
(to)e(include)i(at)f(least)f(a)h(type)-150 4560 y(checking)25
b(function.)38 b(This)23 b(function)h(tak)o(es)g(a)g(representation)g
(of)g(a)f(type-)-150 4643 y(annotated)h(program)f(and)g(produces)i(the)
d(appropriate)i(typing)f(judgment,)-150 4726 y(if)16
b(it)g(e)o(xists.)22 b(W)-6 b(e)16 b(might)h(e)n(v)o(en)g(w)o(ant)g(to)
f(implement)h(type)g(inference,)g(which)-150 4809 y(does)22
b(not)f(require)g(type)g(annotations)h(on)g(the)e(input.)30
b(Figure)20 b(4)h(presents)h(a)-150 4892 y(function)e
Fm(typeCheck)p Fv(.)k(This)19 b(function)h(is)e(useful)i(for)f
(illustrating)f(a)h(num-)-150 4976 y(ber)g(of)g(features)g(of)g
(Meta-D:)-63 5094 y Fx(\017)42 b Fv(The)30 b(type)h(of)f(the)g(result)
700 5067 y Fo(4)763 5094 y Fv(of)g Fm(typeCheck)h Fv(is)f(a)g
(dependent)i(sum,)16 5177 y(written)17 b Fm([t)38 b(:)76
b(Typ])39 b(J\(e,s,t\))p Fv(.)23 b(This)17 b(means)h(that)f(the)h
(result)f(of)p -150 5229 801 4 v -49 5290 a Fo(4)10 5317
y Fv(Actually)-5 b(,)27 b(the)f(result)g(of)f Fm(typeCheck)i
Fv(should)g(be)f Fm(option)38 b(\([t)h(:)-150 5400 y(Typ])g(\(J)f
(\(e,s,t\)\)\))p Fv(,)24 b(since)g(a)f(particular)g(term)f(gi)n(v)o(en)
i(to)f Fm(typeCheck)2215 83 y(typeCheck)d Fv(consists)f(of)g(an)g(SL)f
(type,)h(and)g(a)g(typing)h(judgment)g(for)2215 166 y(that)f
(particular)g(type.)2136 286 y Fx(\017)42 b Fv(Since)16
b(judgments)i(are)e(b)o(uilt)g(from)g(sub-judgments,)i(a)f
Fm(case)f Fv(\(strong)2215 369 y(dependent)27 b(sum)d(elimination\))h
(construct)g(is)g(need)g(to)g(deconstruct)2215 452 y(the)19
b(results)g(of)g(recursi)n(v)o(e)g(calls)g(to)g Fm(typeCheck)p
Fv(.)2136 573 y Fx(\017)42 b Fv(The)34 b(case)f(for)h(constructing)g
(application)h(judgments)f(illustrates)2215 656 y(an)26
b(interesting)g(subtlety)-5 b(.)45 b(Building)26 b(a)g(judgment)h(for)f
(the)g(e)o(xpres-)2215 739 y(sion)d Fm(\(EA)38 b(s1)h(s2\))22
b Fv(in)m(v)o(olv)o(es)h(\002rst)f(computing)i(the)e(judgments)i(for)
2215 822 y(the)37 b(sub-terms)h Fm(s1)f Fv(and)h Fm(s2)p
Fv(.)77 b(These)37 b(judgments)i(assign)e(types)2215
905 y Fm(\(ArrowT)i(tdom)f(tcod\))e Fv(and)h Fm(rt2)f
Fv(to)f(their)h(respecti)n(v)o(e)g(e)o(xpres-)2215 988
y(sions.)52 b(Ho)n(we)n(v)o(er)m(,)31 b(by)e(de\002nition)f(of)h(the)f
(inducti)n(v)o(e)h(f)o(amily)g Fm(J)p Fv(,)f(in)2215
1071 y(order)22 b(to)g(b)o(uild)g(the)g(lar)o(ger)f(application)i
(judgment,)g Fm(tdom)f Fv(and)h Fm(rt2)2215 1154 y Fv(must)33
b(be)h(the)f(same)h(SL)e(type)i(\(i.e.,)i(their)d Fm(Typ)g
Fv(v)n(alues)h(must)f(be)2215 1237 y(equal\).)2215 1357
y(W)-6 b(e)25 b(introduce)h(tw)o(o)f(language)i(constructs)f(to)f
(Meta-D)g(to)g(e)o(xpress)2215 1440 y(this)15 b(sort)h(of)f
(constraints)h(between)g(v)n(alues.)23 b(First,)15 b(the)g(e)o
(xpression)i(of)2215 1523 y(the)h(form)g Fm(assert)77
b(e1)39 b(=)f(e2)18 b Fv(introduces)h(an)g Fs(equality)f(judgment)p
Fv(,)2215 1606 y Fm(ID)38 b(e1)h(e2)19 b Fv(between)g(v)n(alues)h(of)f
(equality)g(types)3511 1579 y Fo(5)3545 1606 y Fv(.)2215
1727 y(An)g(elimination)g(construct)2215 1829 y Fm(cast[e1,T,e2])2215
1930 y Fv(is)36 b(used)i(to)f(cast)f(the)h(e)o(xpression)h
Fm(e2)f Fv(from)g(some)g(type)g Fm(T[v1])2215 2013 y
Fv(to)h Fm(T[v2])p Fv(,)43 b(where)38 b Fm(e1)g Fv(is)g(an)g(equality)h
(judgment)g(of)f(the)g(type)2215 2096 y Fm(ID)g(v1)h(v2)p
Fv(.)k(The)26 b(type)g(check)o(er)h(is)f(allo)n(wed)g(to)g(use)g(the)g
(Leibniz-)2215 2179 y(style)19 b(equality)g(to)f(pro)o(v)o(e)i(the)e
(cast)h(correct,)f(since)h Fm(e1)g Fv(is)f(an)h(equality)2215
2262 y(judgment)h(stating)f(that)g Fm(v1)g Fv(and)g Fm(v2)g
Fv(are)g(equal.)2215 2383 y(Operationally)-5 b(,)16 b(the)f(e)o
(xpression)g Fm(assert)39 b(e1=e2)15 b Fv(e)n(v)n(aluates)h(its)e(tw)o
(o)2215 2466 y(sube)o(xpressions)k(and)e(compares)h(them)f(for)g
(equality)-5 b(.)23 b(If)15 b(the)o(y)h(are)g(in-)2215
2549 y(deed)j(equal,)g(computation)h(proceeds)g(If,)d(ho)n(we)n(v)o(er)
m(,)j(the)e(tw)o(o)h(v)n(alues)2215 2632 y(are)f(not)f(equal,)h(the)g
(program)g(raises)g(an)f(e)o(xception)i(and)f(terminates.)2215
2715 y(The)j Fm(cast)h Fv(construct)g(mak)o(es)g(sure)f(that)g(its)g
(equality)h(judgment)g(in-)2215 2798 y(troduced)g(by)f(assert)g(is)f(e)
n(v)n(aluated)i(at)f(runtime,)g(and)g(if)f(the)h(equality)2215
2881 y(check)k(suceeds,)h(simply)e(proceeds)i(to)e(e)n(v)n(aluate)h
(its)e(ar)o(gument)i(e)o(x-)2215 2964 y(pression.)2215
3084 y(An)j(alternati)n(v)o(e)h(to)f(using)g Fm(assert/cast)i
Fv(is)d(to)h(include)h(equality)2215 3167 y(judgments)j(between)f
(types)h(as)f(part)f(of)h(typing)h(judgments,)i(and)2215
3250 y(b)o(uild)27 b(equality)h(proofs)g(as)f(a)g(part)g(of)g(the)g
Fm(typeCheck)h Fv(function.)4016 3223 y Fo(6)2215 3333
y Fv(This)22 b(approach,)i(while)e(possible,)h(pro)o(v)o(es)g(to)f(be)h
(e)o(xceedingly)g(v)o(er)o(-)2215 3416 y(bose)18 b(and)g(dif)n
(\002cult)f(to)g(read)h(for)f(our)h(e)o(xample,)g(and)g(will)e(be)i
(omitted)2215 3499 y(in)f(this)g(paper)l(.)24 b(The)17
b Fm(assert/cast)p Fv(,)h(ho)n(we)n(v)o(er)m(,)h(can)f(serv)o(e)f(as)h
(a)f(con-)2215 3582 y(v)o(enient)23 b(programming)h(shortcut)g(and)f
(relie)n(v)o(es)g(the)f(user)h(from)g(the)2215 3665 y(ef)n(fort)e
(formalizing)g(equality)g(at)f(the)h(type)g(le)n(v)o(el)f(and)i
(manipulating)2215 3748 y(equality)d(types.)2049 3888
y Ft(3.2)99 b(Repr)n(esentation)27 b(T)-7 b(ypes)2132
3988 y Fv(Combining)25 b(ef)n(fects)f(with)g(dependent)i(types)f
(requires)f(care.)39 b(F)o(or)24 b(e)o(x-)2049 4071 y(ample,)h(the)f
Fm(typeCheck)h Fv(function)f(is)g(partial,)g(because)h(there)f(are)g
(man)o(y)2049 4154 y(input)38 b(terms)g(which)g(are)g(just)f(not)h
(well)g(typed)g(in)g(SL.)e(Such)i(inputs)2049 4237 y(to)28
b Fm(typeCheck)g Fv(w)o(ould)h(cause)f(runtime)h(pattern)f(match)g(f)o
(ailures,)i(or)d(an)2049 4320 y(equality)h(assertion)h(e)o(xception.)51
b(W)-6 b(e)27 b(w)o(ould)i(lik)o(e)f(Meta-D)g(to)g(continue)2049
4403 y(to)i(ha)o(v)o(e)f(side-ef)n(fects)h(such)h(as)e(non-termination)
i(and)g(e)o(xceptions.)56 b(At)2049 4486 y(the)19 b(same)g(time,)g
(dependently)i(typed)e(languages)i(perform)e(computations)2049
4569 y(during)28 b(type)g(checking)h(\(to)e(determine)h(the)g(equality)
g(of)f(types\).)49 b(If)27 b(we)2049 4652 y(allo)n(w)21
b(ef)n(fectful)g(computations)h(to)f(leak)g(into)g(the)h(computations)g
(that)f(are)p 2049 4729 V 2049 4802 a(may)e(not)h(be)f(well-typed.)24
b(In)19 b(the)g(function)h(gi)n(v)o(en)g(in)f(this)g(paper)m(,)g(we)g
(omit)2049 4885 y(the)i Fm(option)p Fv(,)h(to)f(sa)o(v)o(e)g(on)h
(space)f(\(and)h(rely)f(on)h(incomplete)g(case)f(e)o(xpres-)2049
4968 y(sions)e(instead\).)2150 5032 y Fo(5)2183 5059
y Fv(This)25 b(feature)g(is)f(restricted)h(to)g(ground)h(types)f(whose)
h(v)n(alue)f(can)g(be)2049 5142 y(sho)n(wn)20 b(equal)f(at)g(runtime.)
2150 5207 y Fo(6)2200 5234 y Fv(Due)e(to)f(space)i(limination)e(we)h
(omit)f(this)h(approach)h(here,)f(b)o(ut)f(de\002ne)2049
5317 y(an)23 b(alternati)n(v)o(e)f(type-checking)i(function)f(in)g(the)
f(accompan)o(ying)j(techni-)2049 5400 y(cal)19 b(report[34)q(].)p
eop
%%Page: 6 6
6 5 bop -150 1227 a Fm(fun)38 b(envEvalS)h(\(e)g(:)f(Env\))g(:)h(*1)f
(=)g(case)h(e)f(of)g(EmptyE)h(=>)f(unit)h(|)f(ExtE)h(e2)f(t)g(=>)-36
1310 y(\(envEvalS)h(e2,)g(code)f(\(typEval)h(t\)\))-150
1476 y(fun)f(evalS)h(\(e)f(:)h(Env\))f(\(rho:)h(envEvalS)g(e\))f(\(s)g
(:)h(Exp\))f(\(t)g(:)h(Typ\))f(\(j)h(:)f(J\(e,s,t\)\))h(:)f(\(code)h
(\(typEval)g(t\)\))f(=)-74 1559 y(case)h(j)f(of)2 1642
y(JN)77 b(e1)38 b(n1)77 b(=>)38 b(.<n1>.)-74 1725 y(|)g(JV)77
b(e1)38 b(t1)77 b(=>)38 b(#2\(rho\))-74 1808 y(|)g(JW)77
b(e1)38 b(t1)g(t2)h(i)f(j1)g(=>)h(evalS)f(e1)h(\(#1\(rho\)\))g(\(EV)f
(i\))g(t1)h(j1)-74 1891 y(|)f(JL)h(ee1)f(et1)h(et2)f(es2)g(ej1)h(=>)f
(.<fn)h(v:\(typEval)g(et1\))f(=>)h(\(.\230\(evalS)g(\(ExtE)f(ee1)h
(et1\))f(\(rho,.<v>.\))i(es2)e(et2)h(ej1\)\)>.)-74 1974
y(|)f(JA)h(e)f(s1)g(s2)h(t1)f(t2)g(j1)h(j2)f(=>)g(.<\(.\230\(evalS)h(e)
g(rho)f(s1)g(\(ArrowT)h(t1)g(t2\))f(j1\)\))h(\(.\230\(evalS)g(e)f(rho)g
(s2)h(t1)f(j2\)\)>.)-150 2140 y(fun)g(typeCheck)h(\(e)g(:)f(Env\))h
(\(s)f(:)g(Exp\))77 b(:)38 b(\([t)g(:)h(Typ])f(J\(e,s,t\)\))h(=)-112
2223 y(case)g(s)f(of)-36 2306 y(EI)h(n)f(=>)g([t)g(=)h(NatT])f(\(JN)h
(e)f(n\))-112 2389 y(|)g(EV)h(nn)f(=>)g(\(case)h(nn)f(of)77
b(Z)38 b(=>)g(\(case)h(e)f(of)g(ExtE)h(ee)f(t2)h(=>)f([t)g(=)g(t2]\(JV)
h(ee)f(t2\)\))726 2472 y(|)h(S)f(n)g(=>)g(\(case)h(e)f(of)h(ExtE)f(e2)g
(t2)h(=>)1108 2555 y(\(\(fn)f(x)g(:)g(\([rt:Typ]J\(e2,EV)i(n,rt\)\))f
(=>)1336 2638 y(case)77 b(x)38 b(of)g([rx)h(:)f(Typ]j2)h(=>)f(\([t)g(=)
h(rx]\(JW)f(e2)77 b(rx)38 b(t2)h(n)f(j2\)\))76 b(\))1108
2721 y(\(typeCheck)39 b(e2)f(\(EV)g(n\)\)\)\)\))-112
2804 y(|)g(EL)h(targ)f(s2)g(=>)-74 2887 y(\(\(fn)h(x)f(:)g(\([rt)h(:)f
(Typ]\(J\(ExtE)h(e)f(targ,s2,rt\)\)\))i(=>)41 2971 y(case)e(x)g(of)h
([rt)f(:)g(Typ])h(j2)f(=>)g([t)h(=)f(ArrowT)h(targ)f(rt])h(\(JL)f(e)g
(targ)h(rt)f(s2)g(j2\)\))-74 3054 y(\(typeCheck)h(\(ExtE)g(e)f(targ\))h
(s2\)\))-112 3137 y(|)f(EA)h(s1)f(s2)g(=>)-74 3220 y(\(\(fn)h(x1)f(:)g
([rt1)h(:)f(Typ]\(J\(e,s1,rt1\)\))i(=>)e(\(fn)h(x2)f(:)g([rt2)h(:)f
(Typ]\(J\(e,s2,rt2\)\))i(=>)-36 3303 y(case)f(x1)f(of)g([rt1)h(:)f
(Typ]j1)h(=>)f(case)h(x2)f(of)g([rt2)h(:)f(Typ]j2)h(=>)41
3386 y(\(case)f(rt1)h(of)f(ArrowT)h(tdom)f(tcod)h(=>)155
3469 y([t)f(=)g(tcod])h(\(JA)f(e)h(s1)f(s2)g(tdom)h(tcod)f(j1)726
3552 y(\(cast)h([assert)g(rt2=tdom,J\(e,s,tdom\),)h(j2]\)\))f
(end\)\)\))-74 3635 y(\(typeCheck)g(e)g(s1\))f(\(typeCheck)h(e)f
(s2\)\))-150 3801 y(fun)g(typeAndRunNat)i(\(s)e(:)g(Exp\))h(:)f(Nat)h
(=)-150 3884 y(\(\(fn)g(x)f(:)g(\([t1)g(:)h(Typ])f(J\(EmptyE,s,t1\)\))i
(=>)e(case)h(x)f(of)g([t1)h(:)f(Typ])h(j)f(=>)269 3967
y(\(case)h(t1)f(of)g(NatT)h(=>)f(eval)h(EmptyE)g(\(\))f(s)g(NatT)h(j)
650 4050 y(|)f(ArrowT)h(t2)g(t3)f(=>)g(Z)g(\)\))-150
4133 y(\(typeCheck)h(EmptyE)g(s\)\))417 4214 y Fd(Figur)o(e)18
b(4.)23 b(Staged)18 b(tagless)i(inter)o(pr)o(eter)e(and)g(the)h
(function)e Fc(typeCheck)g Fd(\(without)h(r)o(epr)o(esentation)f
(types\))p eop
%%Page: 7 7
7 6 bop -150 83 a Fv(done)25 b(during)g(type)f(checking,)i(then)f(we)e
(risk)h(non-termination,)i(or)e(e)n(v)o(en)-150 166 y(unsoundness,)30
b(at)c(typechecking)j(time.)44 b(This)26 b(is)g(called)g(preserving)i
(the)-150 249 y(phase)20 b(distinction)f(between)h(compile)f(time)g
(and)g(runtime)g([5)q(].)-67 349 y(The)d(basic)h(approach)h(to)e
(dealing)h(with)f(this)g(problem)h(is)f(to)g(allo)n(w)g(types)-150
432 y(to)f(only)i(depend)g(on)f(other)f(types,)i(and)f(not)g(v)n
(alues.)22 b(Disallo)n(wing)16 b(an)o(y)g(kind)-150 515
y(of)27 b(such)h(dependenc)o(y)-5 b(,)31 b(ho)n(we)n(v)o(er)m(,)f(w)o
(ould)e(not)f(allo)n(w)g(us)g(to)g(e)o(xpress)g(our)-150
598 y(type)c(checking)i(function,)f(as)f(it)f(produces)i(a)f(term)f
(whose)i(type)f(depends)-150 681 y(on)17 b(the)f(v)n(alue)h(of)f(its)f
(ar)o(gument.)23 b(A)16 b(standard)h(solution)g(to)f(is)g(to)g
(introduce)h(a)-150 764 y(mechanism)k(that)f(allo)n(ws)g(only)h(a)e
(limited)h(kind)h(of)f(dependenc)o(y)i(between)-150 847
y(v)n(alues)e(and)f(types.)24 b(This)19 b(limited)g(dependenc)o(y)i
(uses)e(so-called)h(singleton)-150 930 y(or)27 b(representation)h
(types)g([60,)f(7,)g(9,)g(57].)48 b(The)27 b(basic)g(idea)g(is)g(to)g
(allo)n(w)-150 1013 y(bijections)19 b(on)h(ground)g(terms)f(between)g
(the)g(v)n(alue)h(and)g(type)f(w)o(orld.)-67 1112 y(No)n(w)-5
b(,)21 b(we)f(can)h(re)n(write)f(our)h(interpreter)g(so)f(that)h(its)f
(type)h(does)g(not)g(de-)-150 1196 y(pend)f(on)g(runtime)f(v)n(alues,)h
(which)f(may)h(introduce)g(ef)n(fects)f(into)g(the)g(type-)-150
1279 y(checking)25 b(phase.)36 b(An)o(y)24 b(computation)h(in)e(the)g
(type)h(checking)g(phase)g(can)-150 1362 y(no)n(w)e(be)g(guaranteed)g
(to)g(be)f(completely)i(ef)n(fect-free.)30 b(The)21 b(run-time)h(v)n
(al-)-150 1445 y(ues)h(are)g(no)n(w)g(forced)g(to)g(ha)o(v)o(e)g
(representation)h(types)f(that)f(re\003ect,)h(in)g(the)-150
1528 y(w)o(orld)c(of)f(v)n(alues,)h(the)g(v)n(alues)g(of)f(inducti)n(v)
o(e)i(kinds.)j(In)c(Meta-D,)f(a)h(special)-150 1611 y(type)k
(constructor)g Fm(R)f Fv(is)g(used)h(to)g(e)o(xpress)g(this)f(kind)h
(of)f(dependenc)o(y)-5 b(.)36 b(F)o(or)-150 1694 y(e)o(xample,)19
b(we)g(can)h(de\002ne)f(an)g(inducti)n(v)o(e)h Fs(kind)f
Fm(Nat)-150 1791 y(inductive)39 b(Nat)f(:)h(*2)76 b(=)38
b(Z)153 b(:)38 b(Nat)h(|)f(S)g(:)g(Nat)h(->)f(Nat)-150
1872 y Fv(Note)23 b(that)g(this)g(de\002nition)g(is)g(e)o(xactly)g(the)
g(same)g(as)g(the)h(one)f(we)g(had)h(for)-150 1955 y(the)f(type)h
Fm(Nat)p Fv(,)g(e)o(xcept)g(it)e(is)h(not)g(classi\002ed)g(by)h
Fm(*2)f Fv(instead)g(of)h Fm(*1)p Fv(.)35 b(Once)-150
2038 y(this)17 b(de\002nition)h(is)g(encountered,)h(we)f(ha)o(v)o(e)g
(introduced)h(not)f(only)g(the)g(con-)-150 2121 y(structors)24
b(for)g(this)f(type,)j(b)o(ut)d(also)h(the)g(possibility)g(of)g(using)h
(the)f(special)-150 2204 y(type)c(constructor)g Fm(R)p
Fv(.)f(No)n(w)h(we)f(can)h(write)e Fm(R\(S\(S)39 b(Z\)\))19
b Fv(to)h(refer)f(to)g(a)g(type)-150 2287 y(that)g(has)g(a)g(unique)h
(inhabitant,)f(which)g(we)g(also)g(call)g Fm(rep)38 b(\(S\(S)h(Z\)\))p
Fv(.)-67 2387 y(Figure)21 b(5)h(presents)g(the)f(implementation)h(with)
f(representation)i(types.)-150 2470 y(Introducing)16
b(this)f(restriction)g(on)g(the)g(type)h(system)f(requires)h(us)f(to)g
(turn)g(the)-150 2553 y(de\002nition)20 b(of)g Fm(Exp)p
Fv(,)f Fm(Env)p Fv(,)h(and)g Fm(Typ)g Fv(into)f(de\002nitions)h(of)g
(kinds)g(\(again)g(this)-150 2636 y(is)g(just)g(a)g(change)i(of)e(one)h
(character)f(in)h(each)f(de\002nition\).)28 b(Because)20
b(these)-150 2719 y(terms)25 b(are)g(no)n(w)g(kinds,)i(we)e(cannot)h
(use)g(general)f(recursion)h(in)f(de\002ning)-150 2802
y(their)f(interpretation.)40 b(Therefore,)26 b(we)e(use)h(special)g
(primiti)n(v)o(e)f(recursion)-150 2885 y(constructs)19
b(pro)o(vided)h(by)f(the)f(type)h(language)h(to)e(de\002ne)h(these)g
(interpreta-)-150 2968 y(tions.)k(Judgments,)d(ho)n(we)n(v)o(er)m(,)g
(remain)f(a)g(type.)k(But)18 b(no)n(w)-5 b(,)20 b(the)o(y)f(are)g(a)f
(type)-150 3051 y(inde)o(x)o(ed)i(by)f(other)h(types,)f(not)g(by)g(v)n
(alues.)-67 3151 y(F)o(or)f(the)g(most)h(part,)f(the)h(de\002nition)f
(of)h(judgments)g(and)g(the)g(interpreta-)-150 3234 y(tion)k(function)h
(do)g(not)f(change.)38 b(W)-6 b(e)22 b(need)j(to)e(change)h(judgments)h
(in)e(the)-150 3317 y(case)d(of)h(natural)f(numbers)h(by)g(augmenting)h
(them)e(with)g(a)g(representation)-150 3400 y(for)f(the)g(v)n(alue)g
(of)g(that)g(number)l(.)24 b(The)19 b(constructor)h Fm(JN)f
Fv(no)n(w)g(becomes)-150 3497 y Fm(JN)38 b(:)h(\(e1)f(:)g(Env\))h(->)f
(\(n)76 b(:)39 b(Nat\))f(->)41 3580 y(\(rn)g(:)g(R)g(n\))h(->)76
b(J\(e1,EI)39 b(n,NatT\))-150 3661 y Fv(and)27 b(the)f(de\002nition)h
(of)f Fm(eval)g Fv(is)g(changed)i(accordingly)-5 b(.)47
b(The)26 b(modi\002ed)-150 3744 y Fm(eval)20 b Fv(uses)g(a)f(helper)i
(function)f(to)g(con)m(v)o(ert)g(a)g(representation)g(of)g(a)g(natural)
-150 3827 y(type)f(to)g(a)g(natural)g(number)579 3800
y Fo(7)614 3827 y Fv(.)-67 3927 y(The)d(de\002nition)g(of)g(the)g
Fm(typeCheck)h Fv(function)g(requires)g(more)f(substan-)-150
4010 y(tial)f(changes)i(\(Figure)e(5\).)22 b(In)16 b(particular)m(,)g
(this)f(function)h(no)n(w)g(requires)g(car)o(-)-150 4093
y(rying)k(out)g(case)g(analysis)g(on)g(types)g([20,)f(7)q(,)g(59)q(,)g
(43,)g(9)q(].)24 b(F)o(or)19 b(this)g(purpose)-150 4176
y(Meta-D)g(pro)o(vides)h(a)f(special)g(case)g(construct)-150
4274 y Fm(tycase)39 b(x)f(by)g(y)g(of)h(C_n)f(x_n)h(=>)f(e_n.)-67
4355 y Fv(A)18 b(pattern)g Fm(\(C_n)39 b(x_n\))18 b Fv(matches)h
(against)f(a)g(v)n(alue)g Fm(x)g Fv(of)g(type)h Fm(K)p
Fv(,)e(where)-150 4438 y Fm(K)f Fv(is)g(some)g(sinducti)n(v)o(e)h
(kind,)g(only)g(if)e(we)h(ha)o(v)o(e)g(pro)o(vided)i(a)e
(representation)-150 4521 y(v)n(alue)25 b Fm(y)f Fv(of)h(type)f
Fm(R\(x\))p Fv(.)40 b(P)o(attern)23 b(matching)j(o)o(v)o(er)e(inducti)n
(v)o(e)h(kinds)g(can-)-150 4604 y(not)c(be)h(performed)g(without)f(the)
g(presence)h(of)f(a)g(corresponding)j(runtime)-150 4687
y(v)n(alue)c(of)g(the)g(appropriate)g(representation)h(type.)26
b(Inside)20 b(the)f(body)i(of)f(the)-150 4770 y(case)e(\()p
Fm(e_n)p Fv(\),)g(the)f(e)o(xpression)i Fm(rep)39 b(x_n)18
b Fv(pro)o(vides)h(a)e(representation)i(v)n(alue)-150
4853 y(for)g(the)g(part)g(of)g(the)g(inducti)n(v)o(e)g(constructor)h
(that)f Fm(x_n)g Fv(is)f(bound)j(to.)p -150 5146 801
4 v -49 5207 a Fo(7)-16 5234 y Fv(In)28 b(practice,)h(we)e(see)h(no)g
(fundamental)g(reason)g(to)g(distinguish)g(the)-150 5317
y(tw)o(o.)e(Identifying)21 b(them,)f(ho)n(we)n(v)o(er)m(,)h(requires)g
(add)f(some)h(special)f(support)-150 5400 y(for)f(syntactic)g(sugar)g
(for)g(this)g(particular)g(representation)h(type.)2049
83 y Ft(4)99 b(F)n(ormal)24 b(De)o(v)o(elopment)2132
183 y Fv(In)19 b(this)g(section)g(we)g(report)g(our)g(main)h(technical)
f(result,)f(which)i(is)e(type)2049 267 y(safety)27 b(for)g(a)g
(formalized)g(core)g(subset)g(of)g(Meta-D.)g(This)f(result)h(sho)n(ws)
2049 350 y(that)d(multi-stage)h(programming)h(constructs)g(can)f(be)g
(safely)f(used,)j(e)n(v)o(en)2049 433 y(when)f(inte)o(grated)h(with)e
(a)h(sophisticated)h(dependent)h(type)e(system)g(such)2049
516 y(as)e(that)g(of)g(TL)e([44)q(].)38 b(W)-6 b(e)23
b(follo)n(w)h(the)g(same)g(approach)i(used)e(by)h(the)f(de-)2049
599 y(v)o(elopers)29 b(of)f(TL,)f(and)h(b)o(uild)g(a)g(computation)i
(language)f Fw(l)3673 614 y Fj(H)5 b Fq(\015)3781 599
y Fv(that)28 b(uses)2049 682 y(TL)21 b(as)i(its)e(type)i(language.)35
b(Inte)o(grating)23 b(our)f(formalization)h(into)f(the)h(TL)2049
765 y(frame)n(w)o(ork)18 b(ga)o(v)o(e)e(us)h(signi\002cant)g(practical)
g(adv)n(antages)h(in)f(formal)f(de)n(v)o(el-)2049 848
y(opment)k(of)f Fw(l)2414 863 y Fj(H)5 b Fq(\015)2522
848 y Fv(:)2136 966 y Fx(\017)42 b Fv(Important)25 b(meta-theoretic)g
(properties)g(of)g(the)g(type)g(language)h(we)2215 1049
y(use,)34 b(TL,)29 b(ha)o(v)o(e)i(already)g(been)h(pro)o(v)o(en)g
([44].)58 b(Since)31 b(we)f(do)i(not)2215 1132 y(change)27
b(an)o(ything)f(about)h(the)e(type)h(language)h(itself,)f(all)e(these)i
(re-)2215 1215 y(sults)d(\(e.g.,)g(the)g(Church-Rosser)h(property)g(of)
f(the)g(type)h(language,)2215 1298 y(decidable)34 b(equality)g(on)f
(type)h(terms\))e(are)i(easily)f(reused)g(in)g(our)2215
1381 y(proofs.)2136 1501 y Fx(\017)42 b Fw(l)2256 1516
y Fj(H)5 b Fq(\015)2364 1501 y Fv(is)16 b(based)h(on)f(the)g
(computational)h(language)h Fw(l)3583 1513 y Fj(H)3633
1501 y Fv([44].)k(W)-6 b(e)16 b(ha)o(v)o(e)2215 1584
y(tried)24 b(to)f(mak)o(e)i(the)f(dif)n(ference)g(between)h(these)f(tw)
o(o)f(languages)j(as)2215 1667 y(small)k(as)g(possible.)59
b(As)30 b(a)g(result,)j(the)d(proof)h(of)f(type)h(safety)g(of)2215
1751 y Fw(l)2256 1766 y Fj(H)5 b Fq(\015)2364 1751 y
Fv(is)26 b(v)o(ery)h(similar)f(to)g(the)g(type)h(safety)g(proof)g(for)f
Fw(l)3735 1763 y Fj(H)3785 1751 y Fv(.)45 b(Again,)2215
1834 y(we)21 b(were)h(able)f(to)h(reuse)f(certain)h(lemmata)f(and)i
(techniques)f(de)n(v)o(el-)2215 1917 y(oped)e(for)f Fw(l)2526
1929 y Fj(H)2595 1917 y Fv(to)f(our)i(o)n(wn)f(proof.)2049
1998 y(A)26 b(detailed)h(proof)h(of)e(the)h(type)g(safety)g(of)g
Fw(l)3277 2013 y Fj(H)5 b Fq(\015)3385 1998 y Fv(is)26
b(presented)i(in)f(an)g(e)o(x-)2049 2081 y(tended)20
b(technical)f(report)g([34)q(].)2132 2180 y(Figure)26
b(6)g(de\002nes)h Fw(l)2695 2195 y Fj(H)5 b Fq(\015)2803
2180 y Fv(computational)28 b(types,)g(and)f(is)e(the)h(\002rst)g(step)
2049 2263 y(needed)c(to)f(inte)o(grate)g Fw(l)2682 2278
y Fj(H)5 b Fq(\015)2790 2263 y Fv(into)21 b(the)g(TL)f(frame)n(w)o
(ork.)29 b(The)21 b(syntax)h(of)f(the)2049 2346 y(computational)29
b(language)h Fw(l)2843 2361 y Fj(H)5 b Fq(\015)2951 2346
y Fv(is)28 b(gi)n(v)o(en)h(in)f(Figure)g(7.)51 b(The)28
b(language)2049 2429 y Fw(l)2090 2444 y Fj(H)5 b Fq(\015)2198
2429 y Fv(contains)20 b(recursion)f(and)h(staging)f(constructs.)24
b(It)18 b(contains)i(tw)o(o)f(pre-)2049 2512 y(de\002ned)26
b(representation)g(types:)36 b(naturals)25 b(and)h(booleans.)42
b(The)25 b Fm(if)g Fv(con-)2049 2595 y(struct,)33 b(as)d(in)g
Fw(l)2488 2607 y Fj(H)2569 2595 y Fv(pro)o(vides)h(for)f(propagating)i
(proof)f(information)g(into)2049 2678 y(branches)c(\(analogous)h(to)e
(the)g Fm(tycase)h Fv(construct)g(of)f(MetaD\);)g(full)f(im-)2049
2761 y(plementation)k(of)g(inducti)n(v)o(e)g(datatypes)g(in)g(the)f
(style)g(of)h(MetaD)f(is)g(left)2049 2844 y(for)23 b(future)g(w)o(ork.)
37 b(Since)23 b(arbitrary)g(dependent)i(types)f(are)f(prohibited)h(in)
2049 2927 y Fw(l)2090 2942 y Fj(H)5 b Fq(\015)2198 2927
y Fv(,)19 b(we)h(use)g(uni)n(v)o(ersal)g(and)g(e)o(xistential)g
(quanti\002cation)g(to)f(e)o(xpress)i(de-)2049 3010 y(pendencies)h(of)e
(v)n(alues)g(on)h(types)f(and)h(kinds.)27 b(F)o(or)19
b(e)o(xample,)i(the)f(identity)2049 3093 y(function)g(on)f(naturals)g
(is)g(e)o(xpressed)h(in)f Fw(l)3164 3108 y Fj(H)5 b Fq(\015)3272
3093 y Fv(as)19 b(follo)n(ws:)2304 3285 y Fk(\()p Fw(L)p
Fs(n)f Fv(:)e Fs(N)t(a)n(t)5 b Fr(:)j Fw(l)p Fs(x)18
b Fv(:)e(snat)h Fs(n)p Fr(:)p Fs(x)p Fk(\))g Fv(:)f Fx(8)p
Fs(n)h Fv(:)f Fs(N)t(a)n(t)5 b Fr(:)j Fv(snat)18 b Fs(n)f
Fx(!)f Fv(snat)h Fs(n)2132 3493 y Fv(In)26 b Fw(l)2261
3508 y Fj(H)5 b Fq(\015)2369 3493 y Fv(,)27 b(we)f(also)g(formalize)g
(the)g Fm(assert/cast)g Fv(construct,)i(which)2049 3576
y(requires)18 b(e)o(xtending)h(the)f(language)h(of)e(computational)i
(types)f(with)f(equal-)2049 3659 y(ity)j(judgment)h(types.)26
b(Similarly)-5 b(,)19 b(we)h(add)g(the)g(appropriate)h(constructs)g(to)
2049 3742 y(the)e(syntax)h(of)f Fw(l)2495 3757 y Fj(H)5
b Fq(\015)2603 3742 y Fv(.)2132 3842 y(T)-6 b(o)26 b(be)g(able)h(to)f
(de\002ne)g(the)g(small-step)g(semantics)h(for)f(a)g(staged)h(lan-)2049
3925 y(guage,)38 b(we)c(had)g(to)f(de\002ne)h(the)g(syntax)h(of)e
Fw(l)3342 3940 y Fj(H)5 b Fq(\015)3496 3925 y Fv(in)34
b(terms)f(of)h(le)n(v)o(el-)2049 4008 y(inde)o(x)o(ed)24
b(f)o(amilies)e(of)g(e)o(xpressions)i(and)f(v)n(alues)h([48].)34
b(The)22 b(typing)h(judg-)2049 4091 y(ment)g(has)g(been)h
(appropriately)g(e)o(xtended)g(with)f(le)n(v)o(el)g(annotations)h
([55].)2049 4174 y(Due)19 b(to)h(lack)f(of)g(space)h(we)f(do)h(not)g
(sho)n(w)f(all)g(the)g(rele)n(v)n(ant)h(de\002nitions)g(for)2049
4257 y(the)g(type-system)h(and)g(small-step)f(semantics)h(of)f
Fw(l)3434 4272 y Fj(H)5 b Fq(\015)3542 4257 y Fv(.)27
b(These,)20 b(together)2049 4340 y(with)i(proofs)h(of)f(the)h(rele)n(v)
n(ant)g(theorems,)h(are)e(included)h(in)g(a)f(companion)2049
4423 y(technical)d(report[34)q(].)k(Here,)c(we)g(list)f(the)h(most)g
(important)g(theorems.)2051 4550 y(L)t Fb(E)t(M)t(M)t(A)i
Fv(1)83 b(\()t(P)t Fb(R)r(O)t(G)t(R)t(E)t(S)t(S)t Fv(\).)43
b Fs(If)36 b Fw(D)p Fv(;)8 b Fw(G)3099 4523 y Fl(+)3175
4550 y Fx(`)3221 4523 y Fj(n)3281 4550 y Fs(e)3314 4523
y Fj(n)3374 4550 y Fv(:)26 b Fs(A,)41 b(then)d(e)3726
4523 y Fj(n)3786 4550 y Fx(2)22 b Fs(V)3913 4523 y Fj(n)3984
4550 y Fs(or)2049 4633 y Fx(9)p Fs(e)2124 4606 y Fq(0)2144
4633 y Fr(:)p Fs(e)17 b Fx(7\000)-12 b(!)17 b Fs(e)2386
4606 y Fq(0)2406 4633 y Fs(.)28 b(Pr)m(oof)21 b(is)f(by)h(structur)o
(al)g(induction)h(on)f(e)3547 4606 y Fj(n)3598 4633 y
Fx(2)c Fs(E)3716 4606 y Fj(n)3749 4633 y Fs(,)k(and)g(then)2049
4716 y(by)e(e)o(xamination)h(of)f(cases)g(of)g(the)g(typing)g
(judgment.)p 3551 4666 57 4 v 3551 4716 4 50 v 3604 4716
V 3551 4719 57 4 v 2051 4843 a Fv(L)t Fb(E)t(M)t(M)t(A)i
Fv(2)83 b(\()t(S)t Fb(U)t(B)t(J)t(E)t(C)t(T)19 b Fv(R)t
Fb(E)t(D)t(U)t(C)t(T)t(I)t(O)t(N)t Fv(\).)43 b Fx(8)p
Fs(n)p Fr(:)23 b Fs(if)15 b Fw(D)p Fr(;)8 b Fw(G)13 b
Fx(`)3612 4815 y Fj(n)3659 4843 y Fs(e)h Fv(:)f Fs(A)i(and)i(e)c
Fx(!)2049 4926 y Fs(e)2082 4898 y Fq(0)2102 4926 y Fs(,)20
b(then)g Fw(D)p Fr(;)8 b Fw(G)17 b Fx(`)2472 4898 y Fj(n)2523
4926 y Fs(e)2556 4898 y Fq(0)2593 4926 y Fv(:)g Fs(A.)26
b(Pr)m(oof)19 b(is)h(by)g(cases)h(of)f(possible)g(r)m(eductions)i(e)17
b Fx(!)2049 5009 y Fs(e)2082 4982 y Fq(0)2102 5009 y
Fs(.)p 2201 4959 V 2201 5009 4 50 v 2254 5009 V 2201
5012 57 4 v 2051 5136 a Fv(T)t Fb(H)t(E)t(O)t(R)t(E)t(M)j
Fv(1)83 b(\()t(T)t Fb(Y)t(P)t(E)20 b(S)t(A)t(F)t(E)t(T)t(Y)t
Fv(\))r(.)43 b Fs(If)17 b Fw(D)p Fv(;)8 b Fw(G)3256 5108
y Fl(+)3322 5136 y Fx(`)3368 5108 y Fj(n)3416 5136 y
Fs(e)3449 5108 y Fj(n)3499 5136 y Fv(:)16 b Fs(A)h(then)i(e)3841
5093 y Fj(n)3795 5136 y Fx(7\000)-12 b(!)3916 5083 y
Fq(\003)3965 5136 y Fs(v)3998 5108 y Fj(n)4031 5136 y
Fs(,)2049 5219 y(and)22 b Fw(D)p Fr(;)8 b Fw(G)2302 5191
y Fl(+)2369 5219 y Fx(`)2415 5191 y Fj(n)2466 5219 y
Fs(v)18 b Fv(:)f Fs(A,)k(or)g(e)d Fx(*)p Fs(.)30 b(T)-6
b(ype)21 b(safety)h(follows)e(fr)m(om)h(subject)h(r)m(educ-)2049
5302 y(tion)c(\(Lemma)g(2\))h(and)g(pr)m(o)o(gr)m(ess)h(\(Lemma)e(1\))g
(lemmas.)23 b(The)18 b(de)o(velopment)2049 5385 y(is)h(based)h(on)f
(Wright)g(and)h(F)-6 b(elleisen')m(s)19 b(syntactic)g(tec)o(hnique)h
([58)q(].)p 3922 5335 V 3922 5385 4 50 v 3976 5385 V
3922 5388 57 4 v eop
%%Page: 8 8
8 7 bop -150 314 a Fm(inductive)39 b(nat)f(:)h(*1)76
b(=)38 b(zero)h(:)f(nat)h(|)f(succ)g(:)g(\(nat)h(->)f(nat\))-150
397 y(inductive)h(Nat)f(:)h(*2)76 b(=)38 b(Z)153 b(:)38
b(Nat)h(|)f(S)g(:)g(\(Nat)h(->)f(Nat\))-150 563 y(inductive)h(Typ)f(:)h
(*2)f(=)g(ArrowT)h(:)f(Typ)h(->)f(Typ)g(->)h(Typ)76 b(|)38
b(NatT)115 b(:)38 b(Typ)-150 729 y(inductive)h(Exp)f(:)h(*2)76
b(=)38 b(EI)h(:)f(Nat)g(->)h(Exp)f(|)g(EV)h(:)f(Nat)g(->)h(Exp)612
812 y(|)f(EL)h(:)f(Typ)g(->)h(Exp)f(->)g(Exp)77 b(|)38
b(EA)g(:)h(Exp)f(->)g(Exp)h(->)f(Exp)-150 978 y(inductive)h(Env)f(:)h
(*2)76 b(=)38 b(EmptyE)77 b(:)38 b(Env)77 b(|)38 b(ExtE)h(:)f(Env)g(->)
h(Typ)76 b(->)39 b(Env)-150 1144 y(inductive)g(J)f(:)g(\(Env,)h(Exp,)g
(Typ\))f(->)h(*1)76 b(=)-74 1227 y(JN)39 b(:\(e1)f(:)g(Env\))h(->)f
(\(n)77 b(:)38 b(Nat\))g(->)h(\(rn)f(:)g(R)g(n\))h(->)76
b(J\(e1,EI)39 b(n,NatT\))-150 1310 y(|)f(JV)h(:\(e1)f(:)g(Env\))h(->)f
(\(t1)77 b(:)38 b(Typ\))g(->)h(J\(ExtE)f(e1)h(t1,EV)f(Z,t1\))-150
1393 y(|)g(JW)h(:\(e1)f(:)g(Env\))h(->)f(\(t1)h(:)f(Typ\))g(->)h(\(t2)f
(:)g(Typ\))h(->)f(\(i)g(:)h(Nat\))f(->)h(J\(e1,EV)f(i,t1\))h(->)f
(J\(ExtE)h(e1)f(t2,EV)h(\(S)f(i\),)h(t1\))-150 1476 y(|)f(JL)h(:\(e1)f
(:)g(Env\))h(->)f(\(t1)h(:)f(Typ\))g(->)h(\(t2)f(:)g(Typ\))h(->)f(\(s2)
h(:)f(Exp\))g(->)h(J\(ExtE)f(e1)h(t1,s2,t2\))g(->)f(J\(e1,EL)h(t1)f
(s2,ArrowT)h(t1)g(t2\))-150 1559 y(|)f(JA)h(:\(e)f(:)g(Env\)->)h(\(s1)f
(:)h(Exp\)->)f(\(s2)h(:)f(Exp\)->)h(\(t1)f(:)g(Typ\)->)h(\(t2)g(:)f
(Typ\))g(->)79 1642 y(J\(e,s1,ArrowT)h(t1)f(t2\)->)h(J\(e,s2,t1\)->)g
(J\(e,EA)g(s1)g(s2,t2\))-150 1891 y(val)f(typEval)h(:)f(Typ)h(->)f(*1)h
(=)2 1974 y(primrec)g(Typ)g(nat)f(\(fn)h(c)f(:)g(*1)g(=>)h(fn)76
b(d)38 b(:)g(*1)h(=>)f(c)g(->)h(d\))-150 2140 y(val)f(envEval)h(:)f
(Env)h(->)f(*1)h(=)-36 2223 y(primrec)g(Env)g(unit)f(\(fn)h(r)f(:)g(*1)
g(=>)h(fn)f(t)g(:)g(Typ)h(=>)f(\(r,typEval)77 b(t\))-150
2389 y(fun)38 b(cast)h(\(n)f(:)g(Nat\))77 b(\(rn)39 b(:)f(R\(n\)\))77
b(:)38 b(nat)g(=)g(tycase)h(n)f(by)h(rn)f(of)g(Z)h(=>)f(zero)2022
2472 y(|)g(S)h(n2)76 b(=>)38 b(succ)h(\(cast)f(n2)h(\(rep)f(n2\)\))-150
2638 y(fun)g(eval)h(\(e)f(:)g(Env\))h(\(rho:)g(envEval)g(e\))f(\(s)g(:)
g(Exp\))h(\(t)f(:)g(Typ\))h(\(j)f(:)h(J\(e,s,t\)\))g(:)f(\(typEval)h
(t\))f(=)-112 2721 y(case)h(j)f(of)-74 2804 y(JN)77 b(e1)38
b(n1)g(rn1)h(=>)f(cast)h(n1)f(rn1)-150 2887 y(|)g(JV)77
b(e1)38 b(t1)76 b(=>)39 b(#2\(rho\))-150 2971 y(|)f(JW)77
b(e1)38 b(t1)g(t2)h(i)f(j1)g(=>)g(eval)h(e1)f(\(#1\(rho\)\))h(\(EV)g
(i\))f(t1)g(j1)-150 3054 y(|)g(JL)h(ee1)f(et1)g(et2)h(es2)f(ej1)h(=>fn)
f(v)g(:)h(\(typEval)g(et1\))f(=>)g(\(eval)h(\(ExtE)g(ee1)f(et1\))h
(\(rho,v\))g(es2)f(et2)g(ej1\))-150 3137 y(|)g(JA)h(e)f(s1)g(s2)g(t1)h
(t2)f(j1)g(j2)h(=>)f(\(eval)h(e)f(rho)g(s1)h(\(ArrowT)f(t1)h(t2\))f
(j1\))h(\(eval)f(e)g(rho)h(s2)f(t1)h(j2\))-150 3303 y(fun)f(typeCheck)h
(\(e)g(:)f(Env\))h(\(re:)f(R\(e\)\))h(\(s)f(:)g(Exp\))77
b(\(rs:)38 b(R\(s\)\))77 b(:)38 b(\([t)h(:)f(Typ])h
(\(R\(t\),J\(e,s,t\)\)\))g(=)-150 3386 y(tycase)g(s)f(by)g(rs)h(of)-74
3469 y(EI)g(n)f(=>)g([t)g(=)h(NatT])f(\(NatT',\(JN)h(e)g(n)f(\(rep)g
(n\)\)\))-150 3552 y(|)g(EV)h(n)f(=>)-112 3635 y(\(tycase)h(n)f(by)g
(\(rep)h(n\))f(of)h(Z)f(=>)g(\(tycase)h(e)f(by)h(re)f(of)g(ExtE)h(ee)76
b(t2)39 b(=>)f([t)g(=)g(t2]\(rep)h(t2,)g(JV)f(ee)g(t2\)\))688
3718 y(|)h(S)f(n)g(=>)g(\(tycase)h(e)f(by)h(re)f(of)g(ExtE)h(\(e2\))f
(\(t2\))h(=>)1222 3801 y(\(\(fn)f(x)h(:)f(\([t:Typ])h(\(R\(t\),)g
(J\(e2,EV)f(n,t\)\)\))h(=>)1336 3884 y(case)g(x)f(of)g([rx)h(:)f
(Typ]j2)h(=>)f(\([t)g(=)h(rx])2365 3967 y(\(#1)f(j2,)h(JW)f(e2)h(rx)f
(t2)g(n)g(\(#2)h(j2\)\)\))1222 4050 y(\(typeCheck)g(e2)f(\(rep)h(e2\))f
(\(EV)h(n\))f(\(rep)h(\(EV)f(n\)\)\)\)\)\)\))-150 4133
y(|)g(EL)h(targ)f(s2)g(=>)-112 4216 y(\(\(fn)h(x)f(:)g(\([t)g(:)h
(Typ]\(R\(t\),\(J\(ExtE)h(e)e(targ,s2,t\)\)\)\))h(=>)79
4299 y(case)f(x)g(of)h([t)f(:)g(Typ])h(j2)f(=>)g([t)h(=)f(ArrowT)h
(targ)f(t])h(\(rep)f(\(ArrowT)h(targ)f(\(#1)h(t\)\)\),)g(\(JL)f(e)g
(targ)h(t)f(s2)g(\(#2)h(j2\)\))f(\))-112 4382 y(\(typeCheck)h(\(ExtE)g
(e)f(targ\))h(\(rep)f(\(ExtE)h(e)f(targ\)\))h(s2)f(\(rep)h(s2\)\)\))
-150 4465 y(|)f(EA)h(s1)f(s2)g(=>)-112 4548 y(\(\(fn)h(x1)f(:)g([t1)h
(:)f(Typ]\(R\(t1\),\(J\(e,s1,t1\)\)\))i(=>)f(\(fn)f(x2)h(:)f([t2)g(:)g
(Typ]\(R\(t2\),\(J\(e,s2,t2\)\)\))j(=>)2 4631 y(case)e(x1)f(of)h([t1)f
(:)g(Typ]j1)h(=>)f(case)h(x2)f(of)g([t2)h(:)f(Typ]j2)h(=>)41
4714 y(\(tycase)f(t1)h(by)f(\(#1)g(\(j1\)\))h(of)117
4797 y(ArrowT)f(tdom)h(tcod)g(=>)155 4880 y([t)f(=)g(tcod])h(\(rep)g
(tcod,)f(\(JA)h(e)f(s1)g(s2)g(tdom)h(tcod)g(j1)1108 4963
y(\(cast)f([assert)h(t2=tdom,J\(e,s,tdom\),j2]\)\)\))i(end\)\)\))-112
5046 y(\(typeCheck)e(e)f(\(rep)h(e\))f(s1)h(\(rep)f(s1\)\))h
(\(typeCheck)g(e)f(\(rep)h(e\))f(s2)g(\(rep)h(s2\)\)\))924
5127 y Fd(Figur)o(e)18 b(5.)23 b(T)-7 b(agless)20 b(inter)o(pr)o(eter)e
(with)g(r)o(epr)o(esentation)f(types)i(in)f(MetaD)p eop
%%Page: 9 9
9 8 bop 939 126 a Fv(inducti)n(v)o(e)18 b Fw(W)1288 99
y Fq(\015)1367 126 y Fv(:)e(Kind)84 b(::)p Fk(=)182 b
Fv(snat)17 b(:)f(Nat)h Fx(!)f Fw(W)2366 99 y Fq(\015)1637
219 y Fx(j)g Fv(sbool)84 b(:)16 b(Bool)h Fx(!)g Fw(W)2267
192 y Fq(\015)1637 312 y Fx(j!)-33 b(!)144 b Fv(:)16
b Fw(W)2013 285 y Fq(\015)2093 312 y Fx(!)g Fw(W)2241
285 y Fq(\015)2320 312 y Fx(!)h Fw(W)2469 285 y Fq(\015)1637
405 y Fx(j)f Fv(tup)150 b(:)16 b(Nat)h Fx(!)f Fk(\()p
Fv(Nat)h Fx(!)f Fw(W)2474 377 y Fq(\015)2537 405 y Fk(\))g
Fx(!)h Fw(W)2731 377 y Fq(\015)1637 497 y Fx(j)f(8)1716
511 y Fj(k)1919 497 y Fv(:)g Fw(P)p Fs(k)j Fv(:)d(Kind)q
Fr(:)p Fk(\()p Fs(k)h Fx(!)g Fw(W)2501 470 y Fq(\015)2563
497 y Fk(\))g Fx(!)f Fw(W)2757 470 y Fq(\015)1637 590
y Fx(j)g(9)1716 604 y Fj(k)1919 590 y Fv(:)g Fw(P)p Fs(k)j
Fv(:)d(Kind)q Fr(:)p Fk(\()p Fs(k)h Fx(!)g Fw(W)2501
563 y Fq(\015)2563 590 y Fk(\))g Fx(!)f Fw(W)2757 563
y Fq(\015)1637 683 y Fx(j)g(8)1716 696 y Fj(K)t(S)1919
683 y Fv(:)g Fw(P)p Fs(k)j Fv(:)d(KScheme)q Fr(:)p Fk(\()p
Fs(k)h Fx(!)g Fw(W)2642 656 y Fq(\015)2704 683 y Fk(\))g
Fx(!)f Fw(W)2898 656 y Fq(\015)1637 776 y Fx(j)g(9)1716
789 y Fj(K)t(S)1919 776 y Fv(:)g Fw(P)p Fs(k)j Fv(:)d(KScheme)q
Fr(:)p Fk(\()p Fs(k)h Fx(!)g Fw(W)2642 749 y Fq(\015)2704
776 y Fk(\))g Fx(!)f Fw(W)2898 749 y Fq(\015)1637 869
y Fx(j)g(\015)170 b Fv(:)16 b Fw(W)2013 842 y Fq(\015)2093
869 y Fx(!)g Fw(W)2241 842 y Fq(\015)1637 961 y Fx(j)g
Fv(EQ)145 b(:)16 b(Nat)h Fx(!)f Fv(Nat)h Fx(!)f Fw(W)2445
934 y Fq(\015)1197 1100 y Fd(Figur)o(e)i(6.)23 b(The)c(TL)f
(de\002nition)f(of)i(the)f(types)h(of)g Fw(l)2595 1115
y Fj(H)5 b Fq(\015)519 1342 y Fs(X)98 b Fx(\021)83 b
Fv(type)20 b(v)n(ariables)f(of)g(TL)526 1425 y Fs(A)91
b Fx(\021)83 b Fv(type)20 b(e)o(xpressions)g(of)f(TL)297
1516 y Fs(e)o(x)6 b(p)405 1489 y Fo(0)454 1516 y Fx(2)17
b Fs(E)572 1489 y Fo(0)622 1516 y Fv(::)p Fk(=)82 b Fs(x)17
b Fx(j)g Fs(n)g Fx(j)f Fu(tt)27 b Fx(j)16 b Fu(ff)28
b Fx(j)f Fs(f)1231 1489 y Fo(0)1281 1516 y Fx(j)16 b
Fu(\002x)7 b Fs(x)18 b Fv(:)e Fs(A)p Fr(:)11 b Fs(f)1591
1489 y Fo(0)1640 1516 y Fx(j)16 b Fs(e)1710 1489 y Fo(0)1710
1540 y(1)1760 1516 y Fs(e)1793 1489 y Fo(0)1793 1540
y(1)1843 1516 y Fx(j)h Fs(e)1914 1489 y Fo(0)1947 1516
y Fk([)p Fs(A)p Fk(])f Fx(j)g Fk(\()-17 b([)p Fs(X)23
b Fk(=)17 b Fs(A)2311 1529 y Fo(1)2344 1516 y Fr(;)8
b Fs(e)2406 1489 y Fo(0)2456 1516 y Fv(:)16 b Fs(A)2539
1529 y Fo(2)2572 1516 y Fk(])-17 b(\))701 1607 y Fx(j)82
b Fv(open)22 b Fs(e)1003 1580 y Fo(0)1053 1607 y Fv(as)17
b Fs(X)7 b Fr(;)h Fs(x)17 b Fu(in)g Fs(e)1366 1580 y
Fo(0)1416 1607 y Fx(j)f Fk(\()p Fs(e)1515 1580 y Fo(0)1515
1631 y(0)1548 1607 y Fr(;)8 b(:)g(:)g(:)g Fs(e)1697 1580
y Fo(0)1697 1631 y Fj(n)p Fq(\000)p Fo(1)1805 1607 y
Fk(\))17 b Fx(j)f Fu(sel)21 b Fk([)p Fs(A)p Fk(]\()p
Fs(e)2145 1580 y Fo(0)2145 1631 y(1)2177 1607 y Fr(;)8
b Fs(e)2239 1580 y Fo(0)2239 1631 y(2)2272 1607 y Fk(\))17
b Fx(j)f Fs(e)2388 1580 y Fo(0)2388 1631 y(1)2432 1607
y Fx(\010)10 b Fs(e)2533 1580 y Fo(0)2533 1631 y(2)2584
1607 y Fx(j)16 b Fu(if)k Fk([)p Fs(A)2742 1620 y Fo(1)2775
1607 y Fr(;)8 b Fs(A)2850 1620 y Fo(2)2883 1607 y Fk(]\()p
Fs(e)2966 1580 y Fo(0)2999 1607 y Fr(;)g Fs(X)3072 1620
y Fo(1)3105 1607 y Fr(:)p Fs(e)3159 1580 y Fo(0)3159
1631 y(1)3192 1607 y Fr(;)g Fs(X)3265 1620 y Fo(2)3298
1607 y Fr(:)p Fs(e)3352 1580 y Fo(0)3352 1631 y(2)3385
1607 y Fk(\))16 b Fx(j)h(h)p Fs(e)3530 1580 y Fo(1)3563
1607 y Fx(i)701 1702 y(j)82 b Fd(assert)18 b Fs(e)1041
1675 y Fo(0)1041 1727 y(1)1091 1702 y Fv(:)e Fs(A)1174
1715 y Fo(1)1224 1702 y Fk(=)g Fs(e)1331 1675 y Fo(0)1331
1727 y(2)1381 1702 y Fv(:)h Fs(A)1465 1715 y Fo(2)1514
1702 y Fx(j)f Fd(cast)h Fk(\()p Fs(e)1754 1675 y Fo(0)1754
1727 y(1)1788 1702 y Fr(;)8 b Fs(A)p Fr(;)g Fs(e)1925
1675 y Fo(0)1925 1727 y(2)1958 1702 y Fk(\))540 1785
y Fs(f)572 1758 y Fj(n)622 1785 y Fv(::)p Fk(=)82 b Fw(L)p
Fs(X)24 b Fv(:)16 b Fs(A)p Fr(:)p Fs(e)1062 1758 y Fj(n)1112
1785 y Fx(j)g Fw(l)p Fs(x)h Fv(:)f Fs(A)p Fr(:)p Fs(e)1377
1758 y Fj(n)419 1876 y Fs(e)o(x)6 b(p)527 1849 y Fj(n)p
Fl(+)622 1876 y Fv(::)p Fk(=)82 b Fs(x)17 b Fx(j)g Fs(m)f
Fx(j)h Fu(tt)27 b Fx(j)16 b Fu(ff)27 b Fx(j)h Fs(f)1248
1849 y Fj(n)p Fl(+)1342 1876 y Fx(j)17 b Fu(\002x)7 b
Fs(x)17 b Fv(:)g Fs(A)p Fr(:)11 b Fs(f)1653 1849 y Fj(n)p
Fl(+)p Fo(1)1776 1876 y Fx(j)16 b Fs(e)1846 1849 y Fj(n)p
Fl(+)1941 1876 y Fs(e)1974 1849 y Fj(n)p Fl(+)2069 1876
y Fx(j)h Fs(e)2140 1849 y Fj(n)p Fl(+)2235 1876 y Fk([)p
Fs(A)p Fk(])f Fx(j)g Fk(\()-17 b([)p Fs(X)23 b Fk(=)17
b Fs(A)2599 1889 y Fo(1)2632 1876 y Fr(;)8 b Fs(e)2694
1849 y Fj(n)p Fl(+)2789 1876 y Fv(:)16 b Fs(A)2872 1889
y Fo(2)2905 1876 y Fk(])-17 b(\))17 b Fx(j)f Fv(open)22
b Fs(e)3191 1849 y Fj(n)p Fl(+)3286 1876 y Fv(as)17 b
Fs(X)7 b Fr(;)h Fs(x)17 b Fu(in)g Fs(e)3599 1849 y Fj(n)p
Fl(+)701 1971 y Fx(j)82 b Fk(\()p Fs(e)866 1940 y Fj(n)p
Fl(+)866 1996 y Fo(0)945 1971 y Fr(;)8 b(:)g(:)g(:)g(;)g
Fs(e)1123 1940 y Fj(n)p Fl(+)p Fo(1)1123 1996 y Fj(m)p
Fq(\000)p Fo(1)1243 1971 y Fk(\))17 b Fx(j)f Fu(sel)21
b Fk([)p Fs(A)p Fk(]\()p Fs(e)1583 1940 y Fj(n)p Fl(+)1583
1996 y Fo(1)1661 1971 y Fr(;)8 b Fs(e)1723 1940 y Fj(n)p
Fl(+)1723 1996 y Fo(2)1801 1971 y Fk(\))17 b Fx(j)f Fs(e)1917
1940 y Fj(n)p Fl(+)1917 1996 y Fo(1)2006 1971 y Fx(\010)10
b Fs(e)2107 1940 y Fj(n)p Fl(+)2107 1996 y Fo(2)2202
1971 y Fx(j)17 b(h)p Fs(e)2302 1944 y Fj(n)p Fl(++)2425
1971 y Fx(i)g(j)d Fa(~)n Fs(e)2575 1944 y Fj(n)2625 1971
y Fx(j)i Fu(if)k Fk([)p Fs(A)2783 1984 y Fo(1)2816 1971
y Fr(;)8 b Fs(A)2891 1984 y Fo(2)2924 1971 y Fk(]\()p
Fs(e)3007 1944 y Fj(n)p Fl(+)3085 1971 y Fr(;)g Fs(X)3158
1984 y Fo(1)3191 1971 y Fr(:)p Fs(e)3245 1940 y Fj(n)p
Fl(+)3245 1996 y Fo(1)3323 1971 y Fr(;)g Fs(X)3396 1984
y Fo(2)3429 1971 y Fr(:)p Fs(e)3483 1940 y Fj(n)p Fl(+)3483
1996 y Fo(2)3561 1971 y Fk(\))701 2065 y Fx(j)82 b Fd(assert)18
b Fs(e)1041 2034 y Fl(+)1041 2090 y Fo(1)1107 2065 y
Fv(:)e Fs(A)1190 2078 y Fo(1)1240 2065 y Fk(=)g Fs(e)1347
2034 y Fl(+)1347 2090 y Fo(2)1413 2065 y Fv(:)h Fs(A)1497
2078 y Fo(2)1546 2065 y Fx(j)g Fd(cast)g Fk(\()p Fs(e)1787
2034 y Fl(+)1787 2090 y Fo(1)1836 2065 y Fr(;)8 b Fs(A)p
Fr(;)g Fs(e)1973 2034 y Fl(+)1973 2090 y Fo(2)2022 2065
y Fk(\))371 2156 y Fs(v)404 2129 y Fo(0)454 2156 y Fx(2)13
b Fs(V)572 2129 y Fo(0)622 2156 y Fv(::)p Fk(=)82 b Fs(n)17
b Fx(j)g Fu(tt)27 b Fx(j)16 b Fu(ff)27 b Fx(j)h Fs(f)1144
2129 y Fo(0)1193 2156 y Fx(j)17 b Fu(\002x)7 b Fs(x)17
b Fv(:)g Fs(A)p Fr(:)11 b Fs(f)1504 2129 y Fo(0)1553
2156 y Fx(j)16 b Fk(\()-17 b([)p Fs(X)23 b Fk(=)17 b
Fs(A)1813 2169 y Fo(1)1846 2156 y Fr(;)8 b Fs(v)1908
2129 y Fo(0)1958 2156 y Fv(:)16 b Fs(A)2041 2169 y Fo(2)2074
2156 y Fk(])-17 b(\))17 b Fx(j)f Fk(\()p Fs(v)2223 2129
y Fo(0)2223 2181 y(1)2256 2156 y Fr(;)8 b(:)g(:)g(:)g(;)g
Fs(v)2434 2129 y Fo(0)2434 2181 y Fj(m)p Fq(\000)p Fo(1)2555
2156 y Fk(\))16 b Fx(j)h(h)p Fs(v)2700 2129 y Fo(1)2733
2156 y Fx(i)701 2252 y(j)82 b Fd(assert)18 b Fs(v)1041
2225 y Fo(0)1091 2252 y Fv(:)e Fs(A)g Fk(=)h Fs(v)1298
2225 y Fo(0)1348 2252 y Fv(:)f Fs(B)223 2343 y(v)256
2316 y Fj(n)p Fl(+)p Fo(1)380 2343 y Fx(2)c Fs(V)498
2316 y Fj(n)p Fl(+)p Fo(1)622 2343 y Fv(::)p Fk(=)82
b Fs(E)855 2316 y Fj(n)1561 2481 y Fd(Figur)o(e)18 b(7.)24
b(Syntax)18 b(of)h Fw(l)2230 2496 y Fj(H)5 b Fq(\015)-150
2756 y Ft(5)99 b(Related)26 b(W)-7 b(ork)-67 2857 y Fv(Barendre)o(gt)21
b([3])f(is)g(a)g(good)h(high-le)n(v)o(el)g(introduction)h(to)e(the)g
(theory)h(of)-150 2940 y(dependent)29 b(type)e(systems.)47
b(There)27 b(are)g(a)g(number)h(of)f(other)g(references)-150
3023 y(to)20 b(\(strictly)f(terminating\))h(functional)g(programming)i
(in)e(dependent)h(type)-150 3106 y(theory)f(literature)e([32)q(,)g(31)q
(,)g(6].)-67 3206 y(Cayenne)25 b(is)d(a)i(dependently)h(typed)f
(programming)h(language)g([1].)36 b(In)-150 3289 y(essence,)22
b(it)f(is)g(a)g(direct)g(combination)h(of)g(a)f(dependent)i(type)e
(theory)h(with)-150 3372 y(\(potentially\))g(non-terminating)h
(recursion.)32 b(It)21 b(has)h(in)f(f)o(act)h(been)h(used)f(to)-150
3455 y(implement)30 b(an)f(\(unstaged\))i(interpreter)e(similar)g(to)g
(the)h(one)g(discussed)-150 3538 y(in)23 b(this)g(paper)g([2)q(].)34
b(The)23 b(w)o(ork)h(presented)g(here)f(e)o(xtends)h(the)f(w)o(ork)h
(done)-150 3621 y(in)k(Cayenne)h(in)e(three)h(respects:)41
b(First,)29 b(Cayenne)g(allo)n(ws)f(types)g(to)g(de-)-150
3704 y(pend)20 b(on)f(v)n(alues,)g(and)g(thus,)g(does)g(not)g(ensure)g
(that)f(type)h(checking)h(termi-)-150 3787 y(nates.)j(Second,)c
(Cayenne)g(does)f(not)g(support)h(dependent)h(datatypes)f(\(lik)o(e)
-150 3870 y Fm(J\(e,s,t\))p Fv(\),)g(and)g(so,)g(writing)f(an)h
(interpreter)g(in)m(v)o(olv)o(es)g(the)g(use)g(of)g(a)g(sep-)-150
3953 y(arate)g(proof)g(object)g(to)g(encode)h(the)f(information)g
(carried)g(by)h Fm(J\(e,s,t\))p Fv(\),)-150 4036 y(which)g(is)f(mostly)
h(just)f(threaded)h(through)h(the)e(program.)26 b(The)19
b(number)i(of)-150 4119 y(parameters)16 b(passed)g(to)f(both)h(the)g
(Meta-D)f(and)h(Cayenne)h(implementation)-150 4202 y(of)24
b(the)g(e)n(v)n(al)g(function)h(is)e(the)h(same,)h(b)o(ut)f(using)g
(dependent)i(datatypes)f(in)-150 4285 y(Meta-D)j(allo)n(ws)g(direct)h
(analogy)g(with)f(the)g(standard)h(de\002nition)g(of)f(the)-150
4368 y(semantics)33 b(o)o(v)o(er)g(typing)g(judgments)h(rather)e(than)h
(ra)o(w)g(terms.)63 b(Third,)-150 4451 y(Cayenne)29 b(does)g(not)g(pro)
o(vide)g(e)o(xplicit)f(support)h(for)f(staging,)j(an)d(essen-)-150
4534 y(tial)f(component)j(for)d(achie)n(ving)i(the)f(performance)h
(results)f(that)f(can)h(be)-150 4617 y(achie)n(v)o(ed)20
b(using)g(tagless)f(staged)g(interpreters.)-67 4717 y(Xi)14
b(and)i(Pfenning)f(study)h(a)e(number)i(of)f(dif)n(ferent)g(practical)g
(approaches)-150 4800 y(to)28 b(introducing)h(dependent)h(types)e(into)
g(programming)h(languages)h([59,)-150 4883 y(60)q(].)52
b(Their)28 b(w)o(ork)h(concentrates)h(on)f(limiting)g(the)f(e)o
(xpressi)n(vity)i(of)f(the)-150 4966 y(dependent)e(types,)g(and)f(thus)
f(limiting)g(the)g(constraints)h(that)f(need)h(to)f(be)-150
5049 y(solv)o(ed)d(to)f(Presber)o(ger)g(arithmetic)f(problems.)31
b(Singleton)21 b(types)h(seem)f(to)-150 5132 y(ha)o(v)o(e)k(been)h
(\002rst)e(used)i(by)f(Xi)g(in)g(the)g(conte)o(xt)g(of)g(DML)g([60)q
(].)41 b(The)25 b(idea)-150 5215 y(w)o(as)19 b(later)e(used)i(in)g(a)f
(number)h(of)f(w)o(orks)h(that)g(further)f(de)n(v)o(eloped)i(the)f
(idea)-150 5298 y(of)g(representation)h(types)f(and)h(intensional)f
(type)h(analysis.)-67 5397 y(Logical)i(frame)n(w)o(orks)i([19,)e(37)q
(])g(use)h(dependent)h(types)f(as)f(a)g(basis)h(for)2049
2756 y(proof)29 b(systems.)52 b(While)28 b(this)g(is)g(related)h(to)f
(our)h(w)o(ork,)i(logical)e(frame-)2049 2839 y(w)o(orks)18
b(alone)h(are)e(not)h(suf)n(\002cient)g(for)f(our)i(purposes,)g(as)e
(we)h(are)f(interested)2049 2922 y(in)j(computational)i(programming)g
(languages)h(that)d(ha)o(v)o(e)h(ef)n(fects)f(such)i(as)2049
3005 y(termination.)53 b(It)28 b(is)g(only)h(with)g(the)g(recent)g(w)o
(ork)g(of)g(Shao,)i(Saha,)f(T)m(ri-)2049 3088 y(fono)o(v)20
b(and)g(P)o(apasp)o(yrou)h(that)f(we)f(ha)o(v)o(e)h(a)f(generic)h
(frame)n(w)o(ork)g(for)g(safely)2049 3171 y(inte)o(grating)33
b(a)f(computation)i(base)f(language,)k(with)32 b(a)h(rich)f(dependent)
2049 3254 y(type)f(system,)j(without)d(losing)g(decidability)g(\(or)g
(soundness\))i(of)d(type-)2049 3338 y(checking.)2132
3437 y(Dybjer)e(e)o(xtensi)n(v)o(ely)i(studies)e(the)g(semantics)h(of)f
(inducti)n(v)o(e)h(sets)f(and)2049 3520 y(f)o(amilies)21
b([11)q(,)f(12)q(,)h(13)q(,)f(14)q(,)h(16)q(])g(and)h(simultaneous)g
(inducti)n(v)o(e-)g(recursi)n(v)o(e)2049 3603 y(de\002nitions)k([15].)
43 b(TL)25 b(uses)h(only)g(the)g(former)f(\(in)h(the)f(type)h(le)n(v)o
(el\),)h(and)2049 3686 y(we)g(also)h(use)g(them)f(at)h(the)f(v)n(alue)h
(le)n(v)o(el)g(\()p Fm(J\(e,s,t\))p Fv(\).)49 b(The)27
b(Coq)h(proof)2049 3769 y(assistant)21 b(pro)o(vides)h(f)o(airly)g(e)o
(xtensi)n(v)o(e)g(support)g(for)f(both)h(kinds)g(of)f(de\002ni-)2049
3852 y(tions)28 b([17,)f(35)q(,)g(36].)49 b(In)27 b(the)h(future,)h(it)
e(will)f(be)i(interesting)g(to)f(e)o(xplore)2049 3935
y(the)19 b(inte)o(gration)g(of)g(the)g(second)h(of)f(these)g
(techniques)h(into)f(programming)2049 4018 y(languages.)2132
4118 y(One)d(interesting)g(problem)g(is)g(whether)g
(self-interpretation)g(is)f(possible)2049 4201 y(in)27
b(a)g(gi)n(v)o(en)h(programming)h(language.)49 b(This)26
b(is)h(possible)h(with)f(simply-)2049 4284 y(typed)e(languages)g([54)q
(].)37 b(It)23 b(is)h(not)g(clear)m(,)h(ho)n(we)n(v)o(er)m(,)g(that)f
(it)f(can)i(be)f(done)2049 4367 y(in)j(a)g(dependently)h(typed)g
(language)g([38)q(].)46 b(Exploring)28 b(this)f(problem)g(is)2049
4450 y(interesting)19 b(future)g(w)o(ork.)2132 4550 y(Finally)-5
b(,)24 b(staged)f(type)h(inference)g([46])f(can)h(also)f(be)g(used)h
(as)f(a)g(means)2049 4633 y(of)c(obtaining)h(programs)g(without)f
(tags.)k(Of)c(the)g(techniques)h(discussed)g(in)2049
4716 y(this)f(paper)m(,)i(it)d(is)i(probably)h(closest)e(in)h(spirit)f
(to)g(tag)h(elimination.)25 b(In)20 b(f)o(act,)2049 4799
y(in)30 b(a)f(multi-stage)h(setting)g(the)g(tag)f(elimination)h(is)g
(applied)g(at)g(runtime)2049 4882 y(and)d(is)g(nothing)g(b)o(ut)g(a)f
(non-standard)j(type)e(analysis.)47 b(K)n(e)o(y)27 b(dif)n(ferences)
2049 4965 y(are)g(that)g(in)f(the)h(staged)h(type)f(inference)h(system)
f(the)g(code)h(type)f(that)g(is)2049 5048 y(used)h(does)h(not)f
(re\003ect)f(an)o(y)h(type)g(information,)i(and)e(type)g(information)
2049 5131 y(can)e(only)g(be)g(determined)g(by)g(dynamic)h(type)f
(checking.)44 b(More)26 b(impor)o(-)2049 5214 y(tantly)-5
b(,)23 b(the)f(success)h(and)g(f)o(ailure)f(of)g(staged)h(type)g
(inference)g(can)f(depend)2049 5297 y(on)29 b(whether)g(the)f(v)n(alue)
h(in)g(the)f(code)h(type)g(has)g(under)o(gone)h(simpli\002ca-)2049
5380 y(tion,)22 b(and)g(it)f(is)g(easy)h(to)g(return)g(a)f(v)n(alue)i
(that)e(tells)g(us)h(\(at)f(runtime,)h(in)g(the)p eop
%%Page: 10 10
10 9 bop -150 83 a Fv(language\))28 b(whether)f(this)f(dynamic)h
(inference)g(succeeded)i(or)d(not.)46 b(T)-6 b(ag)-150
166 y(elimination,)24 b(on)g(the)f(other)h(hand,)h(w)o(orks)f(on)g
(code)g(that)f(has)g(an)h(e)o(xplicit)-150 249 y(static)16
b(type.)22 b(Additionally)-5 b(,)18 b(by)e(using)h(carefully)g(crafted)
f(\223f)o(all-back)h(plan\224)-150 332 y(projection/embedding)26
b(pairs,)e(runtime)f(tag)h(elimination)f(is)g(guaranteed)-150
415 y(to)h(al)o(w)o(ays)h(ha)o(v)o(e)f(the)g(same)g(denotational)h
(semantics)g(\(b)o(ut)e(certainly)i(not)-150 498 y(operational)f
(semantics\))f(independently)i(of)e(the)g(test)f(of)h(the)g(code)h
(being)-150 581 y(analysed)k(and)g(an)o(y)f(simpli\002cations)g(that)g
(may)g(be)g(done)h(to)f(the)g(subject)-150 664 y(program)20
b([54].)-150 866 y Ft(6)99 b(Conclusions)25 b(and)h(Futur)n(e)g(W)-7
b(ork)-67 967 y Fv(In)20 b(this)f(paper)h(we)g(ha)o(v)o(e)g(sho)n(wn)g
(ho)n(w)g(a)g(dependently)i(typed)e(program-)-150 1050
y(ming)d(language)i(can)e(be)h(used)f(to)g(e)o(xpress)h(a)f(staged)h
(interpreter)f(that)f(com-)-150 1133 y(pletely)h(circumv)o(ents)h(the)f
(need)h(for)f(runtime)g(tagging)h(and)g(untagging)g(op-)-150
1216 y(erations)24 b(associated)h(with)f(uni)n(v)o(ersal)g(datatypes.)
40 b(In)24 b(doing)h(so)f(we)g(ha)o(v)o(e)-150 1299 y(highlighted)j(tw)
o(o)g(k)o(e)o(y)g(practical)f(issues)h(that)f(arise)g(when)h(trying)f
(to)h(de-)-150 1382 y(v)o(elop)h(staged)g(interpreters)f(in)h(a)f
(dependently)i(typed)f(language.)50 b(First,)-150 1465
y(the)19 b(need)g(for)g(functions)g(that)g(b)o(uild)g(the)f
(representations)i(of)f(typing)g(judg-)-150 1548 y(ments)j(that)g(the)f
(interpretation)i(function)f Fs(should)h Fv(be)f(de\002ned)h(o)o(v)o
(er)l(.)31 b(And)-150 1631 y(second,)18 b(the)f(need)g(for)f
(representation)i(types)f(to)f(a)o(v)o(oid)h(polluting)g(the)f(type)
-150 1714 y(language)21 b(with)f(the)g(impure)g(terms)g(of)g(the)f
(computational)j(language.)27 b(T)-6 b(o)-150 1797 y(demonstrate)33
b(that)g(staging)g(constructs)g(and)g(dependent)i(types)e(can)f(be)-150
1880 y(safely)21 b(combined,)g(we)g(formalize)f(our)h(language)h(as)e
(a)g(multi-stage)g(com-)-150 1963 y(putational)26 b(language)g(typed)g
(by)g(Shao,)h(Saha,)f(T)m(rifono)o(v)-5 b(,)27 b(and)f(P)o(apasp)o(y-)
-150 2046 y(rou')l(s)i(TL)f(system.)51 b(This)28 b(allo)n(ws)g(us)g(to)
g(pro)o(v)o(e)g(type)h(safety)f(in)g(a)g(f)o(airly)-150
2129 y(straightforw)o(ard)c(manner)m(,)h(and)f(without)g(ha)o(ving)g
(to)f(duplicate)i(the)e(w)o(ork)-150 2212 y(done)d(for)f(the)g(TL)f
(system.)-67 2312 y(A)j(practical)h(concern)h(about)f(using)g
(dependent)h(types)f(for)g(writing)f(in-)-150 2395 y(terpreters)c(is)f
(that)h(such)g(systems)h(do)f(not)g(ha)o(v)o(e)g(decidable)h(type)f
Fs(infer)m(ence)p Fv(,)-150 2478 y(which)f(some)g(vie)n(w)g(as)f(a)h
(highly-v)n(alued)h(feature)f(for)f(an)o(y)h(typed)h(language.)-150
2561 y(W)-6 b(e)20 b(did)h(not)g(\002nd)g(that)g(the)f(annotations)i
(were)f(a)g(b)o(urden,)h(and)f(some)g(sim-)-150 2644
y(ple)f(tricks)g(in)g(the)h(implementation)g(were)f(enough)i(to)e(a)o
(v)o(oid)g(the)g(need)h(for)-150 2727 y(redundant)f(annotations.)-67
2827 y(In)29 b(carrying)g(out)h(this)e(w)o(ork)i(we)e(de)n(v)o(eloped)j
(a)e(deeper)h(appreciation)-150 2910 y(for)20 b(the)f(subtleties)h(in)m
(v)o(olv)o(ed)g(in)g(both)g(dependently)i(typed)e(programming)-150
2993 y(and)k(in)f(the)g(implementation)g(of)g(type)h(check)o(ers)g(for)
f(dependently)i(typed)-150 3076 y(languages.)38 b(Our)23
b(current)h(implementation)g(is)f(a)g(prototype)h(system)g(that)-150
3159 y(we)f(ha)o(v)o(e)h(made)g(a)o(v)n(ailable)g(online)g([27].)36
b(Our)24 b(ne)o(xt)g(step)f(is)g(to)h(study)g(the)-150
3242 y(inte)o(gration)j(of)g(such)g(a)g(dependently)i(typed)e(language)
h(into)f(a)g(practical)-150 3325 y(implementation)d(of)f(multi-stage)h
(programming,)h(such)f(as)g(MetaOCaml)-150 3408 y([28)q(].)d(W)-6
b(e)16 b(ha)o(v)o(e)h(also)f(found)h(that)g(there)f(a)g(lot)g(of)g
(opportunities)i(in)e(the)g(con-)-150 3491 y(te)o(xt)22
b(of)g(dependently)i(typed)f(languages)h(that)e(we)h(w)o(ould)g(lik)o
(e)f(to)g(e)o(xplore)-150 3574 y(in)30 b(the)f(future.)56
b(Examples)30 b(include)h(syntactically)f(lighter)o(-support)g(for)-150
3657 y(representation)25 b(types,)h(formalizing)e(some)h(simple)f
(tricks)g(that)g(we)g(ha)o(v)o(e)-150 3740 y(used)19
b(in)f(our)h(implementation)g(to)f(help)h(alle)n(viate)f(the)h(need)g
(for)f(redundant)-150 3823 y(type)i(annotations.)26 b(W)-6
b(e)19 b(are)g(also)h(interested)g(in)f(e)o(xploring)i(the)e(use)h(of)g
(de-)-150 3906 y(pendent)25 b(types)g(to)e(re\003ect)h(the)f(resource)i
(needs)g(of)f(generated)h(programs)-150 3989 y([8,)19
b(24,)g(52].)-150 4191 y Ft(7)99 b(Refer)n(ences)-113
4292 y Fv([1])42 b(Lennart)114 b(Augustsson.)333 b(Cayenne)116
b(\226)e(a)g(lan-)16 4375 y(guage)91 b(with)e(dependent)j(types.)254
b(A)-6 b(v)n(ailable)91 b(from)16 4458 y Fm(http://www.cs.chalmers.se/)
41 b(augustss/cayenne)p Fv(.)-113 4578 y([2])h(Lennart)79
b(Augustsson)h(and)g(Magnus)h(Carlsson.)219 b(An)16 4661
y(e)o(x)o(ercise)76 b(in)g(dependent)i(types:)137 b(A)75
b(well-typed)i(inter)o(-)16 4744 y(preter)l(.)162 b(In)62
b Fs(W)-7 b(orkshop)63 b(on)f(Dependent)g(T)-6 b(ypes)62
b(in)f(Pr)m(o-)16 4827 y(gr)o(amming)p Fv(,)f(Gothenb)o(ur)o(g,)h
(1999.)133 b(A)-6 b(v)n(ailable)52 b(online)h(from)16
4910 y Fm(www.cs.chalmers.se/\230augustss/cayenne/interp.ps)p
Fv(.)-113 5031 y([3])42 b(Henk)18 b(P)-8 b(.)15 b(Barendre)o(gt.)24
b(Lambda)18 b(calculi)f(with)f(types.)24 b(In)17 b(S.)f(Abram-)16
5114 y(sk)o(y)-5 b(,)19 b(D.)f(M.)h(Gabbay)-5 b(,)19
b(and)h(T)-6 b(.)18 b(S.)g(E.)g(Maibaum,)h(editors,)g
Fs(Handbook)16 5197 y(of)k(Lo)o(gic)g(in)g(Computer)g(Science)p
Fv(.)h(Oxford)g(Uni)n(v)o(ersity)f(Press,)g(Ox-)16 5280
y(ford,)c(1991.)-113 5400 y([4])42 b(Jon)19 b(Bentle)o(y)-5
b(.)28 b(Little)17 b(languages.)28 b Fs(CA)n(CM)p Fv(,)18
b(29\(8\):711\226721,)k(1986.)2086 83 y([5])42 b(L.)26
b(Cardelli.)53 b(Phase)27 b(distinctions)h(in)f(type)h(theory)-5
b(.)54 b(Manuscript,)2215 166 y(1988.)2086 286 y([6])42
b(Thierry)g(Coquand,)49 b(Bengt)43 b(Nordstr)6 b(\250)-31
b(om,)48 b(Jan)43 b(M.)f(Smith,)47 b(and)2215 369 y(Bjorne)16
b(v)o(on)g(Sydo)n(w)-5 b(.)21 b(T)-6 b(ype)17 b(theory)f(and)h
(programming.)22 b Fs(Bulletin)15 b(of)2215 452 y(the)22
b(Eur)m(opean)h(Association)f(for)g(Theor)m(etical)g(Computer)g
(Science)p Fv(,)2215 535 y(52:203\226228,)31 b(February)d(1994.)53
b(Columns:)40 b(Logic)26 b(in)h(Computer)2215 619 y(Science.)2086
739 y([7])42 b(Karl)20 b(Crary)g(and)h(Stephanie)f(W)-6
b(eirich.)31 b(Fle)o(xible)20 b(type)g(analysis.)32 b(In)2215
822 y Fs(Pr)m(oceedings)18 b(of)f(the)g(F)-8 b(ourth)17
b(A)n(CM)g(SIGPLAN)e(International)k(Con-)2215 905 y(fer)m(ence)h(on)g
(Functional)g(Pr)m(o)o(gr)o(amming)g(\(ICFP-99\))p Fv(,)e(v)o(olume)h
(34.9)2215 988 y(of)31 b Fs(A)n(CM)f(Sigplan)h(Notices)p
Fv(,)j(pages)d(233\226248,)36 b(N.Y)-10 b(.,)32 b(September)2215
1071 y(27\22629)20 b(1999.)g(A)m(CM)f(Press.)2086 1191
y([8])42 b(Karl)19 b(Crary)h(and)g(Stephanie)g(W)-6 b(eirich.)29
b(Resource)20 b(bound)h(certi\002ca-)2215 1274 y(tion.)44
b(In)24 b Fs(the)g(Symposium)h(on)g(Principles)f(of)g(Pr)m(o)o(gr)o
(amming)h(Lan-)2215 1357 y(gua)o(g)o(es)32 b(\(POPL)c('00\))p
Fv(,)33 b(pages)e(184\226198,)k(N.Y)-10 b(.,)31 b(January)61
b(19\22621)2215 1440 y(2000.)20 b(A)m(CM)f(Press.)2086
1561 y([9])42 b(Karl)21 b(Crary)-5 b(,)21 b(Stephanie)h(W)-6
b(eirich,)21 b(and)h(J.)f(Gre)o(gory)h(Morrisett.)34
b(In-)2215 1644 y(tensional)24 b(polymorphism)h(in)f(type-erasure)g
(semantics.)42 b(In)23 b Fs(Inter)o(-)2215 1727 y(national)33
b(Confer)m(ence)h(on)f(Functional)g(Pr)m(o)o(gr)o(amming)g(\(ICFP\))e
(,)2215 1810 y(Baltimor)m(e)o(,)19 b(Maryland,)h(USA)p
Fv(,)e(pages)i(301\226312,)h(1998.)2049 1930 y([10])42
b(Ro)n(w)o(an)34 b(Da)o(vies)f(and)h(Frank)g(Pfenning.)74
b(A)33 b(modal)h(analysis)g(of)2215 2013 y(staged)22
b(computation.)37 b(In)21 b Fs(the)h(Symposium)h(on)f(Principles)f(of)g
(Pr)m(o-)2215 2096 y(gr)o(amming)16 b(Langua)o(g)o(es)i(\(POPL)c('96\))
p Fv(,)i(pages)h(258\226270,)h(St.)d(Peters-)2215 2179
y(b)o(ur)o(g)k(Beach,)g(1996.)2049 2300 y([11])42 b(Peter)31
b(Dybjer)l(.)69 b(Inducti)n(v)o(ely)33 b(de\002ned)g(sets)e(in)h
(Martin-L)6 b(\250)-31 b(of)t(')l(s)32 b(set)2215 2383
y(theory)-5 b(.)58 b(In)29 b(A.)e(A)-6 b(vron,)32 b(R.)c(Harper)m(,)i
(F)-6 b(.)28 b(Honsell,)j(I.)c(Mason,)32 b(and)2215 2466
y(G.)g(Plotkin,)i(editors,)i Fs(W)-7 b(orkshop)34 b(on)e(Gener)o(al)h
(Lo)o(gic)p Fv(,)i(February)2215 2549 y(1987.)2049 2669
y([12])42 b(Peter)50 b(Dybjer)l(.)130 b(Inducti)n(v)o(e)52
b(sets)f(and)g(f)o(amilies)g(in)g(Martin-)2215 2752 y(L)6
b(\250)-31 b(of)t(')l(s)43 b(type)h(theory)g(and)g(their)f
(set-theoretic)g(semantics.)106 b(In)2215 2835 y(G.)62
b(Huet)h(and)h(G.)e(Plotkin,)74 b(editors,)f Fs(Pr)m(eliminary)63
b(Pr)m(oc.)2215 2918 y(of)69 b(1st)f(Int.)g(W)-7 b(orkshop)71
b(on)e(Lo)o(gical)g(F)l(r)o(ame)o(works,)81 b(An-)2215
3001 y(tibes,)58 b(F)l(r)o(ance)o(,)h(7\22611)52 b(May)g(1990)p
Fv(,)59 b(pages)52 b(213\226230.)h(1990.)2215 3084 y
(ftp://ftp.inria.fr/INRIA/Projects/coq/types/Proceedings/book90.ps.Z)p
(.)2049 3205 y([13])42 b(Peter)33 b(Dybjer)l(.)73 b(Inducti)n(v)o(e)34
b(sets)f(and)h(f)o(amilies)g(in)f(Martin-L)6 b(\250)-31
b(of)t(')l(s)2215 3288 y(type)34 b(theory)g(and)h(their)e
(set-theoretic)h(semantics.)74 b(In)34 b(G.)f(Huet)2215
3371 y(and)19 b(G.)g(Plotkin,)f(editors,)g Fs(Lo)o(gical)i(F)l(r)o(ame)
o(works)p Fv(,)e(pages)i(280\226306.)2215 3454 y(Cambridge)g(Uni)n(v)o
(ersity)f(Press,)f(1991.)2049 3574 y([14])42 b(Peter)19
b(Dybjer)l(.)30 b(Inducti)n(v)o(e)21 b(f)o(amilies.)29
b Fs(F)-8 b(ormal)20 b(Aspects)g(of)f(Comput-)2215 3657
y(ing)p Fv(,)g(6\(4\):440\226465,)i(1994.)2049 3777 y([15])42
b(Peter)49 b(Dybjer)l(.)127 b(A)50 b(general)h(formulation)g(of)f
(simultaneous)2215 3861 y(inducti)n(v)o(e-recursi)n(v)o(e)18
b(de\002nitions)f(in)f(type)h(theory)-5 b(.)22 b Fs(J)n(ournal)c(of)f
(Sym-)2215 3944 y(bolic)i(Lo)o(gic)p Fv(,)g(65\(2\):525\226549,)i
(2000.)2049 4064 y([16])42 b(Peter)59 b(Dybjer)g(and)h(Anton)g(Setzer)l
(.)155 b(Finite)58 b(axiomatiza-)2215 4147 y(tions)68
b(of)g(inducti)n(v)o(e)h(and)g(inducti)n(v)o(e-recursi)n(v)o(e)h
(de\002nitions.)2215 4230 y(In)e(R.)g(Backhouse)h(and)g(T)-6
b(.)68 b(Sheard,)80 b(editors,)g Fs(Informal)2215 4313
y(Pr)m(oc.)47 b(of)h(W)-7 b(orkshop)50 b(on)e(Generic)g(Pr)m(o)o(gr)o
(amming)o(,)56 b(WGP'98,)2215 4396 y(Mar)o(str)o(and,)61
b(Sweden,)g(18)53 b(J)m(une)g(1998)p Fv(.)g(Dept.)e(of)h(Comput-)2215
4479 y(ing)f(Science,)59 b(Chalmers)51 b(Uni)n(v)-5 b(.)51
b(of)g(T)-5 b(echn.,)59 b(and)51 b(G)6 b(\250)-31 b(otebor)o(g)2215
4562 y(Uni)n(v)-5 b(.,)75 b(June)65 b(1998.)174 b(Electronic)64
b(v)o(ersion)h(a)o(v)n(ailable)f(at)2215 4645 y
(http://wsinwp01.win.tue.nl:1234/WGPProceedings/.)2049
4765 y([17])42 b(Eduardo)17 b(Gim)t(\264)-29 b(enez.)20
b(A)c(tutorial)g(on)g(recursi)n(v)o(e)g(types)h(in)e(Coq.)21
b(T)-5 b(ech-)2215 4848 y(nical)19 b(Report)g(TR-0221,)g(INRIA)f
(Rocquencourt,)j(May)f(1998.)2049 4969 y([18])42 b(Carl)19
b(A.)g(Gunter)l(.)29 b Fs(Semantics)20 b(of)g(Pr)m(o)o(gr)o(amming)g
(Langua)o(g)o(es)p Fv(.)31 b(MIT)2215 5052 y(Press,)18
b(1992.)2049 5172 y([19])42 b(Robert)20 b(Harper)m(,)h(Furio)f
(Honsell,)g(and)h(Gordon)g(Plotkin.)31 b(A)20 b(frame-)2215
5255 y(w)o(ork)d(for)g(de\002ning)g(logics.)22 b(In)16
b Fs(Pr)m(oceedings)i(Symposium)f(on)h(Lo)o(gic)2215
5338 y(in)38 b(Computer)g(Science)p Fv(,)43 b(pages)c(194\226204,)44
b(W)-6 b(ashington,)43 b(1987.)p eop
%%Page: 11 11
11 10 bop 16 83 a Fv(IEEE)25 b(Computer)i(Society)f(Press.)49
b(The)26 b(conference)i(w)o(as)e(held)h(at)16 166 y(Cornell)19
b(Uni)n(v)o(ersity)-5 b(,)19 b(Ithaca,)g(Ne)n(w)g(Y)-8
b(ork.)-150 286 y([20])42 b(Robert)18 b(Harper)h(and)g(Gre)o(g)f
(Morrisett.)25 b(Compiling)19 b(polymorphism)16 369 y(using)36
b(intentional)g(type)g(analysis.)80 b(In)35 b Fs(Confer)m(ence)i(Recor)
m(d)f(of)16 452 y(POPL)30 b('95:)49 b(22nd)32 b(Annual)g(A)n(CM)f
(SIGPLAN-SIGA)n(CT)e(Sympo-)16 535 y(sium)h(on)h(Principles)f(of)h(Pr)m
(o)o(gr)o(amming)g(Langua)o(g)o(es,)k(San)c(F)l(r)o(an-)16
619 y(cisco,)c(Calif)o(.)p Fv(,)e(pages)h(130\226141,)j(Ne)n(w)c(Y)-8
b(ork,)27 b(NY)-10 b(,)25 b(January)h(1995.)16 702 y(A)m(CM.)-150
822 y([21])42 b(Liwen)18 b(Huang)i(and)f(W)-6 b(alid)19
b(T)-6 b(aha.)26 b(A)18 b(practical)h(implementation)h(of)16
905 y(tag)f(elimination.)27 b(In)19 b(preperation.)-150
1025 y([22])42 b(P)o(aul)22 b(Hudak.)38 b(Building)22
b(domain)h(speci\002c)g(embedded)h(languages.)16 1108
y Fs(A)n(CM)18 b(Computing)i(Surve)n(ys)p Fv(,)f(28A:\(electronic\),)h
(December)f(1996.)-150 1229 y([23])42 b(P)o(aul)26 b(Hudak.)50
b(Modular)27 b(domain)g(speci\002c)g(languages)g(and)g(tools.)16
1312 y(In)19 b Fs(Pr)m(oceedings)g(of)g(F)m(ifth)e(International)j
(Confer)m(ence)g(on)f(Softwar)m(e)16 1395 y(Reuse)p Fv(,)g(pages)h
(134\226142.)g(IEEE)e(Computer)i(Society)-5 b(,)18 b(June)i(1998.)-150
1515 y([24])42 b(R.J.M.)30 b(Hughes,)35 b(Lars)30 b(P)o(areto,)j(and)f
(Amr)e(Sabry)-5 b(.)66 b(Pro)o(ving)31 b(the)16 1598
y(correctness)h(of)f(reacti)n(v)o(e)h(systems)g(using)g(sized)f(types.)
67 b(In)31 b(Guy)16 1681 y(L.)18 b(Steele)g(Jr)m(,)g(editor)m(,)g
Fs(In)h(pr)m(oceedings)h(of)f(the)g(A)n(CM)f(Symposium)h(on)16
1764 y(Principles)26 b(of)h(Pr)m(o)o(gr)o(amming)g(Langua)o(g)o(es)i
(\(POPL\))p Fv(,)c(v)o(olume)i(23,)16 1847 y(St)18 b(Petersb)o(ur)o(g,)
g(Florida,)g(1996.)i(A)m(CM)f(Press.)-150 1968 y([25])42
b(Neil)28 b(D.)f(Jones,)32 b(Carsten)c(K)g(Gomard,)j(and)e(Peter)e
(Sestoft.)57 b Fs(P)-6 b(ar)o(-)16 2051 y(tial)15 b(Evaluation)i(and)f
(A)o(utomatic)f(Pr)m(o)o(gr)o(am)h(Gener)o(ation)p Fv(.)21
b(Prentice-)16 2134 y(Hall,)d(1993.)-150 2254 y([26])42
b(Henning)g(Makholm.)98 b(On)41 b(Jones-optimal)h(specialization)g(for)
16 2337 y(strongly)20 b(typed)f(languages.)29 b(In)19
b Fs([49])p Fv(,)g(pages)h(129\226148,)h(2000.)-150 2457
y([27])42 b(Meta-D:)14 b(A)h(dependently)h(typed)g(multi-stage)e
(language.)19 b(A)-6 b(v)n(ailable)16 2540 y(online)19
b(from)g Fu(http://www)l(.cse)o(.ogi.edu/)e(pasalic/metad/)p
Fv(,)i(2002.)-150 2661 y([28])42 b(MetaOCaml:)107 b(A)61
b(compiled,)71 b(type-safe)62 b(multi-stage)f(pro-)16
2744 y(gramming)c(language.)146 b(A)-6 b(v)n(ailable)56
b(online)g(from)g Fu(http://cs-)16 2827 y(www)l(.cs)o(.y)o(ale)o
(.edu/homes/taha/MetaOCaml/)p Fv(,)18 b(2001.)-150 2947
y([29])42 b(T)-6 b(orben)28 b(Mogensen.)56 b(Inherited)27
b(limits.)53 b(In)27 b Fs(P)-6 b(artial)27 b(Evaluation:)16
3030 y(Pr)o(actice)21 b(and)g(Theory)p Fv(,)h(v)o(olume)f(1706)h(of)f
Fs(Lectur)m(e)g(Notes)g(in)g(Com-)16 3113 y(puter)e(Science)p
Fv(,)h(pages)g(189\226202.)h(Springer)o(-V)-8 b(erlag,)18
b(1999.)-150 3234 y([30])42 b(Eugenio)25 b(Moggi,)g(W)-6
b(alid)23 b(T)-6 b(aha,)25 b(Zine)f(El-Abidine)f(Benaissa,)i(and)16
3317 y(T)m(im)h(Sheard.)49 b(An)26 b(idealized)h(MetaML:)f(Simpler)m(,)
h(and)f(more)h(e)o(x-)16 3400 y(pressi)n(v)o(e.)35 b(In)22
b Fs(Eur)m(opean)g(Symposium)h(on)f(Pr)m(o)o(gr)o(amming)g(\(ESOP\))p
Fv(,)16 3483 y(v)o(olume)29 b(1576)h(of)f Fs(Lectur)m(e)g(Notes)g(in)g
(Computer)g(Science)p Fv(,)j(pages)16 3566 y(193\226207.)21
b(Springer)o(-V)-8 b(erlag,)18 b(1999.)-150 3686 y([31])42
b(Bengt)d(Nordstr)6 b(\250)-31 b(om.)91 b(Programming)40
b(in)e(constructi)n(v)o(e)i(set)f(the-)16 3769 y(ory:)44
b(Some)29 b(e)o(xamples.)60 b(In)29 b Fs(Pr)m(oceedings)h(of)f(the)h(A)
n(CM)e(Confer)o(-)16 3852 y(ence)15 b(on)g(Functional)g(Pr)m(o)o(gr)o
(amming)h(and)f(Computer)g(Ar)m(c)o(hitectur)m(e)o(,)16
3935 y(P)-6 b(ortsmouth,)19 b(NH)p Fv(,)f(pages)i(141\226154,)h(Ne)n(w)
e(Y)-8 b(ork,)19 b(1981.)g(A)m(CM.)-150 4056 y([32])42
b(Bengt)30 b(Nordstr)6 b(\250)-31 b(om,)32 b(K)n(ent)e(Peterson,)i(and)
e(Jan)g(M.)f(Smith.)60 b Fs(Pr)m(o-)16 4139 y(gr)o(amming)19
b(in)f(Martin-Lof)7 b(')m(s)18 b(T)-6 b(ype)19 b(Theory)p
Fv(,)f(v)o(olume)h(7)f(of)g Fs(Interna-)16 4222 y(tional)26
b(Series)g(of)g(Mono)o(gr)o(aphs)j(on)d(Computer)h(Science)p
Fv(.)50 b(Oxford)16 4305 y(Uni)n(v)o(ersity)26 b(Press,)h(Ne)n(w)e(Y)-8
b(ork,)27 b(NY)-10 b(,)26 b(1990.)50 b(Currently)26 b(a)o(v)n(ailable)
16 4388 y(online)19 b(from)g(\002rst)f(authors)i(homepage.)-150
4508 y([33])42 b(Ore)o(gon)52 b(Graduate)f(Institute)g(T)-5
b(echnical)51 b(Reports.)f(P)-8 b(.O.)49 b(Box)16 4591
y(91000,)17 b(Portland,)e(OR)f(97291-1000,USA.)19 b(A)-6
b(v)n(ailable)16 b(online)f(from)16 4674 y Fu(ftp://cse)o
(.ogi.edu/pub/tech-repor)s(ts/README.html)p Fv(.)-150
4795 y([34])42 b(Emir)27 b(P)o(asalic,)h(W)-6 b(alid)27
b(T)-6 b(aha,)29 b(and)f(T)m(im)f(Sheard.)55 b(T)-6 b(agless)27
b(staged)16 4878 y(interpreters)19 b(for)g(typed)h(languages)h
(\(formal)e(de)n(v)o(elopment\).)30 b(T)-5 b(ech-)16
4961 y(nical)19 b(Report)g(02-006,)h(OGI,)e(2002.)28
b(A)-6 b(v)n(ailable)20 b(from)f([33)q(].)-150 5081 y([35])42
b(Christine)29 b(P)o(aulin-Mohring.)59 b(Inducti)n(v)o(e)30
b(de\002nitions)f(in)g(the)g(sys-)16 5164 y(tem)c(Coq:)37
b(Rules)26 b(and)g(properties.)49 b(Research)26 b(report)g(RR)f(92-49,)
16 5247 y(Laboratoire)18 b(de)f(l'Informatique)h(du)g(P)o(arall)t(\264)
-29 b(elisme,)17 b(Ecole)g(normale)16 5330 y(sup)t(\264)-29
b(erieure)20 b(de)f(L)l(yon,)g(December)h(1992.)2049
83 y([36])42 b(Christine)18 b(P)o(aulin-Mohring.)26 b(Inducti)n(v)o(e)
19 b(de\002nitions)f(in)g(the)g(system)2215 166 y(Coq:)23
b(Rules)18 b(and)h(properties.)25 b(In)18 b(M.)g(Bezem)g(and)h(J.)e(F)
-6 b(.)17 b(Groote,)i(ed-)2215 249 y(itors,)d Fs(Pr)m(oc.)g(of)g(1st)g
(Int.)g(Conf)o(.)f(on)i(T)-6 b(yped)17 b(Lambda)g(Calculi)f(and)h(Ap-)
2215 332 y(plications,)h(TLCA)m('93,)f(Utr)m(ec)o(ht,)h(The)g
(Netherlands,)g(16\22618)i(Mar)m(c)o(h)2215 415 y(1993)p
Fv(,)38 b(v)o(olume)c(664)h(of)e Fs(Lectur)m(e)h(Notes)f(in)h(Computer)
g(Science)p Fv(,)2215 498 y(pages)20 b(328\226345.)h(Springer)o(-V)-8
b(erlag,)18 b(Berlin,)g(1993.)2049 619 y([37])42 b(Frank)18
b(Pfenning.)26 b(Logic)19 b(programming)h(in)e(the)g(LF)f(logical)i
(frame-)2215 702 y(w)o(ork.)48 b(In)26 b(G)t(\264)-29
b(erard)26 b(Huet)f(and)h(Gordon)h(Plotkin,)f(editors,)h
Fs(Lo)o(gical)2215 785 y(F)l(r)o(ame)o(works)p Fv(,)38
b(pages)d(149\226181.)h(Cambridge)f(Uni)n(v)o(ersity)g(Press,)2215
868 y(1991.)2049 988 y([38])42 b(Frank)36 b(Pfenning)h(and)g(Peter)f
(Lee.)82 b(LEAP:)34 b(A)i(language)i(with)2215 1071 y(e)n(v)n(al)29
b(and)g(polymorphism.)59 b(In)29 b(Josep)g(D)n(\264)-23
b(\021az)28 b(and)i(Fernando)f(Ore-)2215 1154 y(jas,)d(editors,)h
Fs(T)l(APSOFT'89:)36 b(Pr)m(oceedings)26 b(of)f(the)h(International)
2215 1237 y(J)n(oint)d(Confer)m(ence)g(on)g(Theory)g(and)g(Pr)o(actice)
f(of)g(Softwar)m(e)h(De)o(vel-)2215 1320 y(opment,)p
Fv(,)h(v)o(olume)f(352)h(of)e Fs(Lectur)m(e)h(Notes)g(in)g(Computer)g
(Science)p Fv(,)2215 1403 y(pages)d(345\226359.)h(Springer)o(-V)-8
b(erlag,)18 b(1989.)2049 1523 y([39])42 b(Benjamin)29
b(C.)g(Pierce.)58 b Fs(Basic)29 b(Cate)m(gory)h(Theory)f(for)g
(Computer)2215 1606 y(Scientists)p Fv(.)e(MIT)18 b(Press,)h(Cambridge,)
g(Mass.,)g(1991.)2049 1727 y([40])42 b(Calton)d(Pu,)k(Andre)n(w)c
(Black,)44 b(Crispin)39 b(Co)n(w)o(an,)44 b(and)39 b(Jonathan)2215
1810 y(W)-6 b(alpole.)67 b(Microlanguages)33 b(for)e(operating)i
(system)f(specializa-)2215 1893 y(tion.)65 b(In)31 b
Fs(Pr)m(oceedings)h(of)f(the)g(W)-7 b(orkshop)33 b(on)e
(Domain-Speci\002c)2215 1976 y(Langua)o(g)o(es)p Fv(,)21
b(P)o(aris,)c(1997.)2049 2096 y([41])42 b(John)26 b(C.)e(Re)o(ynolds.)
47 b(De\002nitional)24 b(interpreters)h(for)g(higher)o(-order)2215
2179 y(programming)18 b(languages.)k(In)16 b Fs(A)n(CM)g(National)g
(Confer)m(ence)p Fv(,)i(pages)2215 2262 y(717\226740.)j(A)m(CM,)d
(1972.)2049 2383 y([42])42 b(John)26 b(C.)e(Re)o(ynolds.)47
b(De\002nitional)24 b(interpreters)h(for)g(higher)o(-order)2215
2466 y(programming)h(languages.)47 b Fs(Higher)o(-Or)m(der)26
b(and)g(Symbolic)f(Com-)2215 2549 y(putation)p Fv(,)19
b(11\(4\),)f(1998.)25 b(\(Reprinted)19 b(from)e(the)h(proceedings)i(of)
e(the)2215 2632 y(25th)i(A)m(CM)e(National)h(Conference)h(\(1972\))g
([41)q(]\).)2049 2752 y([43])42 b(Zhong)26 b(Shao)f(and)g(Andre)n(w)g
(W)-7 b(.)24 b(Appel.)46 b(A)24 b(type-based)i(compiler)2215
2835 y(for)g(standard)g(ML.)49 b(In)26 b Fs(Pr)m(oceedings)h(of)f(the)f
(A)n(CM)h(SIGPLAN'95)2215 2918 y(Confer)m(ence)33 b(on)f(Pr)m(o)o(gr)o
(amming)h(Langua)o(g)o(e)g(Design)g(and)f(Imple-)2215
3001 y(mentation)26 b(\(PLDI\))p Fv(,)d(pages)j(116\226129,)j(La)c
(Jolla,)h(California,)g(18\226)2215 3084 y(21)19 b(June)h(1995.)2049
3205 y([44])42 b(Zhong)23 b(Shao,)f(Bratin)f(Saha,)i(V)-8
b(alery)21 b(T)m(rifono)o(v)-5 b(,)23 b(and)g(Nik)o(olaos)g(P)o(a-)2215
3288 y(pasp)o(yrou.)55 b(A)27 b(type)h(system)g(for)f(certi\002ed)g
(binaries.)53 b Fs(A)n(CM)27 b(SIG-)2215 3371 y(PLAN)17
b(Notices)p Fv(,)i(31\(1\):217\226232,)i(January)f(2002.)2049
3491 y([45])42 b(T)m(im)34 b(Sheard,)k(Zine)c(El-Abidine)h(Benaissa,)j
(and)d(Emir)f(P)o(a)r(\020)-27 b(sali)t(\264)e(c.)2215
3574 y(DSL)26 b(implementation)h(using)g(staging)h(and)f(monads.)53
b(In)26 b Fs(Second)2215 3657 y(Confer)m(ence)17 b(on)f
(Domain-Speci\002c)i(Langua)o(g)o(es)g(\(DSL)m('99\))p
Fv(,)e(Austin,)2215 3740 y(T)-5 b(e)o(xas,)18 b(1999.)i(USEUNIX.)2049
3861 y([46])42 b(Mark)23 b(Shields,)f(T)m(im)f(Sheard,)i(and)g(Simon)e
(L.)g(Pe)o(yton)i(Jones.)37 b(Dy-)2215 3944 y(namic)26
b(typing)g(through)h(staged)f(type)h(inference.)49 b(In)25
b Fs(In)h(pr)m(oceed-)2215 4027 y(ings)h(of)f(the)h(A)n(CM)f(Symposium)
i(on)f(Principles)f(of)h(Pr)m(o)o(gr)o(amming)2215 4110
y(Langua)o(g)o(es)21 b(\(POPL\))p Fv(,)c(pages)j(289\226302,)h(1998.)
2049 4230 y([47])42 b(Y)-7 b(annis)19 b(Smaragdakis)h(and)g(Don)g
(Batory)-5 b(.)28 b(DiST)m(iL:)17 b(A)i(transforma-)2215
4313 y(tion)29 b(library)g(for)h(data)f(structures.)60
b(In)29 b Fs(USENIX)g(Confer)m(ence)h(on)2215 4396 y(Domain-Speci\002c)
21 b(Langua)o(g)o(es)p Fv(,)f(October)g(1997.)2049 4516
y([48])42 b(W)-6 b(alid)24 b(T)-6 b(aha.)44 b Fs(Multi-Sta)o(g)o(e)26
b(Pr)m(o)o(gr)o(amming:)35 b(Its)24 b(Theory)h(and)g(Ap-)2215
4599 y(plications)p Fv(.)36 b(PhD)21 b(thesis,)h(Ore)o(gon)g(Graduate)g
(Institute)f(of)h(Science)2215 4682 y(and)e(T)-5 b(echnology)g(,)20
b(1999.)28 b(A)-6 b(v)n(ailable)20 b(from)f([33].)2049
4803 y([49])42 b(W)-6 b(alid)22 b(T)-6 b(aha,)24 b(editor)l(.)41
b Fs(Semantics,)24 b(Applications,)h(and)f(Implemen-)2215
4886 y(tation)19 b(of)g(Pr)m(o)o(gr)o(am)g(Gener)o(ation)p
Fv(,)h(v)o(olume)f(1924)i(of)e Fs(Lectur)m(e)g(Notes)2215
4969 y(in)g(Computer)g(Science)p Fv(,)h(Montr)t(\264)-29
b(eal,)19 b(2000.)h(Springer)o(-V)-8 b(erlag.)2049 5089
y([50])42 b(W)-6 b(alid)23 b(T)-6 b(aha.)42 b(A)23 b(sound)i(reduction)
g(semantics)f(for)f(untyped)i(CBN)2215 5172 y(multi-stage)i
(computation.)h(Or)m(,)g(the)f(theory)g(of)g(MetaML)h(is)e(non-)2215
5255 y(tri)n(vial.)f(In)19 b Fs(Pr)m(oceedings)g(of)f(the)h(W)-7
b(orkshop)20 b(on)f(P)-6 b(artial)18 b(Evaluation)2215
5338 y(and)f(Semantics-Based)h(Pr)m(o)o(gr)o(am)e(Maniplation)i
(\(PEPM\))p Fv(,)d(Boston,)p eop
%%Page: 12 12
12 11 bop 16 83 a Fv(2000.)20 b(A)m(CM)f(Press.)-150
203 y([51])42 b(W)-6 b(alid)41 b(T)-6 b(aha,)48 b(Zine-El-Abidine)42
b(Benaissa,)47 b(and)c(T)m(im)f(Sheard.)16 286 y(Multi-stage)32
b(programming:)51 b(Axiomatization)33 b(and)f(type-safety)-5
b(.)16 369 y(In)27 b Fs(25th)h(International)h(Colloquium)f(on)g(A)o
(utomata,)h(Langua)o(g)o(es,)16 452 y(and)19 b(Pr)m(o)o(gr)o(amming)g
(\(ICALP\))p Fv(,)d(v)o(olume)j(1443)h(of)e Fs(Lectur)m(e)h(Notes)f(in)
16 535 y(Computer)i(Science)p Fv(,)f(pages)h(918\226929,)h(Aalbor)o(g,)
e(1998.)-150 656 y([52])42 b(W)-6 b(alid)24 b(T)-6 b(aha,)25
b(P)o(aul)f(Hudak,)i(and)e(Zhan)o(yong)i(W)-6 b(an.)44
b(Directions)24 b(in)16 739 y(functional)k(programming)g(for)f
(real\(-time\))f(applications.)53 b(In)27 b Fs(the)16
822 y(International)19 b(W)-7 b(orkshop)19 b(on)f(Embedded)h(Softwar)m
(e)f(\(ES)f('01\))p Fv(,)h(v)o(ol-)16 905 y(ume)24 b(221)h(of)f
Fs(Lectur)m(e)g(Notes)f(in)h(Computer)g(Science)p Fv(,)i(pages)f
(185\226)16 988 y(203,)19 b(Lak)o(e)h(T)-6 b(ahoe,)19
b(2001.)h(Springer)o(-V)-8 b(erlag.)-150 1108 y([53])42
b(W)-6 b(alid)25 b(T)-6 b(aha)26 b(and)g(Henning)h(Makholm.)50
b(T)-6 b(ag)26 b(elimination)g(\226)g(or)g(\226)16 1191
y(type)20 b(specialisation)g(is)f(a)h(type-inde)o(x)o(ed)h(ef)n(fect.)
29 b(In)20 b(Subtyping)g(and)16 1274 y(Dependent)j(T)-6
b(ypes)22 b(in)f(Programming,)i(APPSEM)d(W)-6 b(orkshop.)22
b(IN-)16 1357 y(RIA)c(technical)i(report,)f(2000.)-150
1478 y([54])42 b(W)-6 b(alid)19 b(T)-6 b(aha,)20 b(Henning)h(Makholm,)f
(and)h(John)f(Hughes.)31 b(T)-6 b(ag)19 b(elim-)16 1561
y(ination)25 b(and)g(Jones-optimality)-5 b(.)46 b(In)24
b(Oli)n(vier)h(Dan)m(vy)g(and)g(Andrzej)16 1644 y(Filinksi,)c(editors,)
i Fs(Pr)m(o)o(gr)o(ams)f(as)g(Data)g(Objects)p Fv(,)g(v)o(olume)h(2053)
g(of)16 1727 y Fs(Lectur)m(e)c(Notes)g(in)g(Computer)g(Science)p
Fv(,)h(pages)g(257\226275,)h(2001.)-150 1847 y([55])42
b(W)-6 b(alid)22 b(T)-6 b(aha)23 b(and)h(T)m(im)e(Sheard.)40
b(Multi-stage)23 b(programming)h(with)16 1930 y(e)o(xplicit)15
b(annotations.)20 b(In)15 b Fs(Pr)m(oceedings)h(of)f(the)g(Symposium)h
(on)g(P)-6 b(ar)o(-)16 2013 y(tial)28 b(Evaluation)i(and)f
(Semantic-Based)h(Pr)m(o)o(gr)o(am)f(Manipulation)16
2096 y(\(PEPM\))p Fv(,)17 b(pages)j(203\226217,)h(Amsterdam,)e(1997.)h
(A)m(CM)f(Press.)-150 2217 y([56])42 b(Robert)26 b(D.)g(T)-5
b(ennent.)51 b Fs(Semantics)27 b(of)f(Pr)m(o)o(gr)o(amming)h(Langua)o
(g)o(es)p Fv(.)16 2300 y(Prentice)19 b(Hall,)f(Ne)n(w)g(Y)-8
b(ork,)19 b(1991.)-150 2420 y([57])42 b(V)-8 b(alery)22
b(T)m(rifono)o(v)-5 b(,)23 b(Bratin)f(Saha,)g(and)h(Zhong)g(Shao.)37
b(Fully)21 b(re\003e)o(x-)16 2503 y(i)n(v)o(e)e(intensional)g(type)g
(analysis.)27 b(In)18 b Fs(Pr)m(oceedings)i(of)e(the)h(A)n(CM)f(Sig-)16
2586 y(plan)31 b(International)g(Confer)m(ence)h(on)e(Functional)h(Pr)m
(o)o(gr)o(amming)16 2669 y(\(ICFP-00\))p Fv(,)22 b(v)o(olume)g(35.9)h
(of)f Fs(A)n(CM)f(Sigplan)i(Notices)p Fv(,)g(pages)g(82\226)16
2752 y(93,)c(N.Y)-10 b(.,)18 b(September)38 b(18\22621)20
b(2000.)g(A)m(CM)f(Press.)-150 2873 y([58])42 b(Andre)n(w)27
b(K.)g(Wright)f(and)i(Matthias)f(Felleisen.)52 b(A)26
b(syntactic)i(ap-)16 2956 y(proach)35 b(to)e(type)h(soundness.)76
b Fs(Information)35 b(and)f(Computation)p Fv(,)16 3039
y(115\(1\):38\22694,)21 b(1994.)-150 3159 y([59])42 b(Hongwei)29
b(Xi)e(and)i(Frank)f(Pfenning.)56 b(Eliminating)28 b(array)g(bound)16
3242 y(checking)34 b(through)g(dependent)h(types.)72
b(In)33 b Fs(Pr)m(oceedings)h(of)f(the)16 3325 y(A)n(CM)d(SIGPLAN'98)g
(Confer)m(ence)j(on)e(Pr)m(o)o(gr)o(amming)h(Langua)o(g)o(e)16
3408 y(Design)g(and)g(Implementation)h(\(PLDI\))p Fv(,)d(pages)i
(249\226257,)37 b(Mon-)16 3491 y(treal,)18 b(Canada,)i(17\22619)g(June)
g(1998.)-150 3611 y([60])42 b(Ho)n(wgwei)20 b(Xi)f(and)i(Frank)f
(Pfenning.)30 b(Dependent)21 b(types)f(in)g(practi-)16
3694 y(cal)27 b(programming.)53 b(In)26 b Fs(Confer)m(ence)i(Recor)m(d)
g(of)e(POPL)g(99:)39 b(The)16 3777 y(26th)33 b(A)n(CM)e(SIGPLAN-SIGA)n
(CT)f(Symposium)j(on)g(Principles)f(of)16 3861 y(Pr)m(o)o(gr)o(amming)h
(Langua)o(g)o(es,)38 b(San)c(Antonio,)i(T)-7 b(e)o(xas)p
Fv(,)35 b(pages)f(214\226)16 3944 y(227,)19 b(Ne)n(w)g(Y)-8
b(ork,)19 b(NY)-10 b(,)19 b(January)h(1999.)f(A)m(CM.)p
eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
