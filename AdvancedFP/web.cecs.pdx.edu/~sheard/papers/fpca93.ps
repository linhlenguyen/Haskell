%!PS-Adobe-2.0
%%Creator: dvipsk 5.55a Copyright 1986, 1994 Radical Eye Software
%%Title: fpca93.dvi
%%Pages: 10
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%EndComments
%DVIPSCommandLine: dvips -f fpca93.dvi
%DVIPSParameters: dpi=300, compressed, comments removed
%DVIPSSource:  TeX output 1993.05.27:1218
%%BeginProcSet: texc.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR[matrix currentmatrix{dup dup round sub abs 0.00001 lt{round}if}
forall round exch round exch]setmatrix}N /@landscape{/isls true N}B
/@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B
/FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{
/nn 8 dict N nn begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N
string /base X array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N
end dup{/foo setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{
/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]
N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data dup
length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{
128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub
get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data
dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N
/rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup
/base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx
0 ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff
setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff
.1 sub]/id ch-image N /rw ch-width 7 add 8 idiv string N /rc 0 N /gp 0 N
/cp 0 N{rc 0 ne{rc 1 sub /rc X rw}{G}ifelse}imagemask restore}B /G{{id
gp get /gp gp 1 add N dup 18 mod S 18 idiv pl S get exec}loop}B /adv{cp
add /cp X}B /chg{rw cp id gp 4 index getinterval putinterval dup gp add
/gp X adv}B /nd{/cp 0 N rw exit}B /lsh{rw cp 2 copy get dup 0 eq{pop 1}{
dup 255 eq{pop 254}{dup dup add 255 and S 1 and or}ifelse}ifelse put 1
adv}B /rsh{rw cp 2 copy get dup 0 eq{pop 128}{dup 255 eq{pop 127}{dup 2
idiv S 128 and or}ifelse}ifelse put 1 adv}B /clr{rw cp 2 index string
putinterval adv}B /set{rw cp fillstr 0 4 index getinterval putinterval
adv}B /fillstr 18 string 0 1 17{2 copy 255 put pop}for N /pl[{adv 1 chg}
{adv 1 chg nd}{1 add chg}{1 add chg nd}{adv lsh}{adv lsh nd}{adv rsh}{
adv rsh nd}{1 add adv}{/rc X nd}{1 add set}{1 add clr}{adv 2 chg}{adv 2
chg nd}{pop nd}]dup{bind pop}forall N /D{/cc X dup type /stringtype ne{]
}if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup
length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{
cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul
add .99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore showpage
userdict /eop-hook known{eop-hook}if}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 .1 TR 1 1 scale rulex ruley false
RMat{BDot}imagemask grestore}}{{gsave TR -.1 .1 TR rulex ruley scale 1 1
false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave newpath transform
round exch round exch itransform moveto rulex 0 rlineto 0 ruley neg
rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N /tail
{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{
4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{
p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p
a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 300 300 (fpca93.dvi)
@start /Fa 3 72 df<1208121CA21238A312301270A21260A212C0A2060D7E8D09>48
D<EA03FE120FEA1C0012305AA25AA2EAFFFEA2EAC000A21260A27E121CEA0FFE12030F12
7D8E15>50 D<13FEEA0707EA0803EA1002EA2004EA6008EA400012C0130213061304EAE0
0CEA601CEA7868EA1F98EA00101320EA2040EA7F8010137E9013>71
D E /Fb 2 87 df<1470EB01F0EB03C0EB0780EB0E005B5B5BA213F05BB3AC485AA3485A
48C7FC1206120E12385A12C012707E120E120612076C7E6C7EA36C7EB3AC7F1370A27F7F
7FEB0780EB03C0EB01F0EB007014637B811F>26 D<1303801307A2497EA3EB1CE0A3EB38
70A3497EA3497EA348487EA348487EA33907000380A2000EEB01C0A348EB00E0A3481470
A3481438A348141CA248140C1E2A7E7F23>86 D E /Fc 1 51 df<387FFFF0B512F838C0
0018B1B512F8A215157D971C>50 D E /Fd 5 122 df<124012E012601220A31240A212
8003097D820A>59 D<381FFFF838381C18EA2038140812401410EA807000001300A35BA4
485AA4485AEA3FF81514809314>84 D<EA0C78EA168CEA1304EA2606A21206A2EA0C0CA2
13081310EA1A20EA19C0EA1800A25AA312FC0F13818C11>112 D<EA0E3CEA13CEEA238E
EA430C13001203A21206130812C6EAE610EACA20EA71C00F0D7F8C13>120
D<EA380C124CA2EA8C1812981218A2EA3030A31370EA18E0EA0F60120013C012E0EAE180
EA4300123C0E137F8C11>I E /Fe 7 118 df<131C13661364136013C0A3EA07F8EA00C0
EA0180A5EA0300A512021206A312C412C812700F1A81930B>102
D<120212061200A51238124CA2128C12981218A212301232A21264A2123807147D930B>
105 D<3830F87838590D8C384E0E0C129CEA980C1218A238301818141914311432EA6030
141C180D7D8C1C>109 D<EA30F0EA5B18124C129C12981218A2EA30301332A213641260
13380F0D7D8C13>I<EA0380EA0C60EA1820EA30301260A3EAC060A2EA40C0EA6080EA23
00121E0C0D7C8C12>I<EA31F0EA5A18EA4C10EA9C0012981218A25AA45AA20D0D7D8C0F>
114 D<EA3818124CA2EA8C3012981218A2EA30601364A213E4EA11E8EA0E300E0D7D8C12
>117 D E /Ff 5 116 df<1208A21200A41270129812B01230A21260126412681270060F
7D8E0B>105 D<12381218A35A13C0EA3360EA3440EA7800127E12631320EAC340EAC180
0B0E7E8D10>107 D<EA7380EA9C40EA9860EA30C0A3EA3188EA6190EA60E00D097D8812>
110 D<EAE780EAB8C0EAB080EA6000A45AA20A097D880E>114 D<123E12431242127012
3C120612C21284127808097D880E>I E /Fg 1 50 df<121812F81218AA12FF080D7D8C
0E>49 D E /Fh 32 123 df<EA07C0EA1862EA30321260133CEAC01C1318A2EA4038EA20
DAEA1F0E0F0B7E8A14>11 D<124012E0124003037D8209>58 D<124012E012601220A212
40A2128003087D8209>I<380FFFC0380180601430EA0300A314E038060380EA07FF3806
01C013005AA3EB018038180700EAFFFC14117E9017>66 D<EBFC40380302C0EA0C013818
00805A5A14005AA41302A2EA4004EA6008EA1830EA0FC012117D9016>I<EA0FF0EA0180
A2EA0300A41206A45AA45AB4FC0C117E900E>73 D<EA0FE0EA0300A21206A45AA4EA1802
A21304130CEA301CEAFFF80F117D9015>76 D<380F80FE3801C010A238026020A21330A2
38041840A2130CA238080680A21303A23818010012FE17117E9018>78
D<EA0FFF380180C01460EA0300A314C0380603803807FC00EA06077F120CA31408001813
1038FF01E015117E9017>82 D<EA01F9EA0607EA0803EA1002A213001218EA0F80EA03F0
EA00381308A21240A21310EAE060EA9F8010117D9013>I<383FFFC0EA30600040134013
C01280A200001300485AA448C7FCA41206EA3FE012117E9012>I<EA0720EA18E0EA3060
1260A2EAC0C0A213C81241EA62D0EA3C600D0B7E8A11>97 D<12781218A25AA31237EA78
C0EA60401360A2EAC0C0A3EA4180EA6300123C0B117E900E>I<EA0780EA1840EA30C0EA
6000A25AA3EA4020EA60C0EA1F000B0B7E8A0E>I<13781318A21330A31207EA18E0EA30
601260A2EAC0C0A213C81241EA62D0EA3C600D117E9010>I<EA0780EA184012301260EA
7F80EAC000A3EA4020EA20C0EA1F000B0B7E8A0F>I<13E0EA01B013A0EA0300A3EA1FE0
EA03001206A65AA41208125812D012600C167D900F>I<123C120CA25AA3EA1BE0EA3430
12381230A2EA6060A2136413C4EAC0C813700E117E9012>104 D<1204120C1200A51230
12581298A21230A212601264A21268123006127E910B>I<1320A21300A5EA0380EA04C0
1208A21200EA0180A4EA0300A4124612CC12780B1780910D>I<123C120CA25AA31370EA
3190EA3230EA34001238127FEA61801390A2EAC1A0EAC0C00C117E9010>I<12781218A2
1230A41260A412C0A212C8A212D0126005117E900A>I<3871F1F0389A1A18EA9C1CEA98
18121838303030A214321462386060641438170B7E8A1B>I<EA71F0EA9A18129C129812
18EA3030A213321362EA606413380F0B7E8A13>I<EA07C0EA1820EA3030EA60101318EA
C030A21320EA4060EA2180EA1F000D0B7E8A0F>I<EA1C70EA278CEA260413061206EA0C
0CA31318EA1E30EA19C0EA1800A25AA212FC0F10808A10>I<EA0710EA18A0EA30601260
A2EAC0C0A31241EA6380123D1201A2EA0300A2EA0FC00C107E8A0E>I<EA73C0EA5C20EA
9860130012185AA45AA20B0B7E8A0E>I<120FEA10801221EA2000123E7EEA01801280EA
C0001283127C090B7D8A0F>I<12081218A312FF1230A41260A212621264A21238080F7E
8E0C>I<EA0F38EA1144EA218C13801201EA0300A21308EA4310EAC730EA79C00E0B7F8A
11>120 D<EA0E10EA1FE0EA2040EA0080EA010012061208EA1020EA2040EA7FC0EA8380
0C0B7E8A0F>122 D E /Fi 7 94 df<1218127812981218AC12FF08107D8F0F>49
D<121FEA6180EA40C0EA806012C01200A213C0EA0180EA030012065AEA10201220EA7FC0
12FF0B107F8F0F>I<121FEA2180EA60C0A212001380EA0100121FEA00801340136012C0
A2EA8040EA6080EA1F000B107F8F0F>I<EA0180A212031205120D121912111221124112
C1EAFFE0EA0180A4EA0FE00B107F8F0F>I<EA20C0EA3F80EA2E001220A3122FEA3080EA
2040EA0060A312C0EA80C0EA6180EA1F000B107F8F0F>I<12F8A212C0B3A312F8A20519
7E9209>91 D<12F8A21218B3A312F8A20519809209>93 D E /Fj
44 123 df<EA01F038070C08380C0E10EA1807123000701320126000E01340A214801400
A3EA601B383063A0380F81C015107F8F19>11 D<EB03C0EB0C301310EB203813401380EA
0100A2000213701460EB1FC0131138041F60EB0070A35AA31460001813E014C0EB018038
140300EA230EEA20F890C7FCA25AA45A1521809916>I<000F1340383F8080EA7FC0387B
C100EAC061EA802212001314A21318A31310A31330A35BA4134012177E8F14>I<EA01F0
EA0600121C5A5AA2EAFFC0EAE000A51260EA3008EA1830EA0FC00D107F8F10>15
D<EA703EEA58C7389D0380129E129CA238380700A4EA700EA4485A12601200A25BA41330
11177E8F13>17 D<120FEA03807F1201A27F1200A27F1370A213781338A2133C137C13DE
EA018EEA030EEA060F487E121C00381380EA700312E038C001C0121A7E9916>21
D<1378EA01C6EA0306EA07031206120EEA1C07A4EA380E130C131C1318EA7470EA73C0EA
7000A25AA45A10177E8F14>26 D<1302A25BA45BA413FE38039180380E10C00018136038
3820701270126012E01340146014E0EB41C03860818038308700EA189CEA07F00001C7FC
A41202A314217F9917>30 D<126012F0A2126004047D830B>58 D<126012F0A212701210
A31220A21240A2040B7D830B>I<1304130C1318A31330A31360A313C0A3EA0180A3EA03
00A31206A35AA35AA35AA35AA35AA20E257E9B13>61 D<903807E04090383C18C0EBE005
3801C0033903800180EA0700120E5A003C14001238007890C7FCA25AA41404A35C00705B
1230003813606C1380D80703C7FCEA01FC1A1A7E991B>67 D<0003B512C0380070011400
15405BA43901C02000A3146048B45A13801440A248485A1401A21402120E14061404140C
481338B512F81A1A7E991C>69 D<0003B512C038007001140015405BA43901C02000A314
6048B45A13801440A248485A91C7FCA3120EA4121EEAFFE01A1A7E9919>I<D803FF13FF
D800701338156015C09038E00100140214085C48485A14C0EBC18013C3380385C0139113
A1EBC0E0EA07001470A280120EA280A248131E39FFC07F80201A7E9921>75
D<3803FFFC3800700FEC0380A201E013C0A43901C00780A2EC0F00141E38038038EBFFE0
0180C7FCA248C8FCA4120EA45AEAFFC01A1A7E9919>80 D<3803FFF83800700FEC078014
0301E013C0A43901C007801500141E14783803FFC0EB8060801438EA0700A4000E1378A2
1540158048133C39FFC01F001A1A7E991D>82 D<EB1F08EB60D8EB8038EA010048131012
06A31400120713C0EA03FC6CB4FC38007F80EB0FC01301A213001220A238600180A2EB03
00EA7006EACC1CEA83F0151A7E9917>I<003FB5128038380E010020130012405B1280A3
48481300A45BA45BA4485AA41203EA7FFC191A7F9916>I<EA03E6EA0617EA1C0E123812
301270EA601C12E0A3133912C012E0EA6079EA219AEA1E0E10107F8F14>97
D<127E120EA35AA45AA2EA39E0EA3E10EA7818EA701C130C131C12E0A313181338EAC030
EAE070EA60E0EA2180EA1F000E1A7F9910>I<EA01F0EA070C120CEA181CEA3008EA7000
126012E0A413041308EA6010EA3060EA0F800E107F8F11>I<EB0FC01301A3EB0380A4EB
0700A2EA03E7EA0617EA1C0E123812301270EA601C12E0A3133912C012E0EA6079EA219A
EA1E0E121A7F9914>I<EA01F0EA0608EA1C04123812701308EAFFF0EAE000A41304EA60
081310EA3060EA0F800E107F8F12>I<EB07C0EB0C60EB1CE0EB18C0EB3800A45BA2EA07
FFEA0070A25BA5485AA6485AA390C7FCA2126712E65A127813217E9913>I<EBF9803801
85C038070380120E120C121C381807001238A3130E12301238EA181EEA087CEA079CEA00
1CA25B1260EAE070485AEA7F801217808F12>I<EA1F801203A348C7FCA4120EA2133E13
C7381D0380121E121CA238380700A3130E00701340A2131C1480EAE00C38600700121A7F
9916>I<120313801300C7FCA7123C124EA2128EA2129C121CA25AA212391271A21272A2
123C091A7E990D>I<1302130713061300A71370EA0198EA021CA21204A2EA0038A41370
A413E0A4EA01C01261EAE380EAC700127C1021809910>I<EA1F801203A348C7FCA4120E
A21307EB1980EA1C231341EB8000001DC7FC123EEA3FC0EA38E01370EA7071A31372EAE0
32EA601C111A7F9914>I<123F1207A3120EA4121CA41238A41270A412E2A312E4126412
38081A7F990B>I<39383E0F80394CC330C0398F03C0E0A2008E1380A2391C0701C0A3EC
0380D8380E1388A2EC0708151039701C032039300C01C01D107E8F22>I<EA703EEA58C7
389D0380129E129CA238380700A3130E00701340A2131C1480EAE00C3860070012107E8F
17>I<EA01F0EA070CEA0C06EA180712301270126012E0A21306130E130C1318EA6030EA
30E0EA0F8010107F8F13>I<38070780380598403809E060EBC07014301470EA0380A314
60380700E014C01301EB0380380E8600137C90C7FCA25AA4B4FC1417828F13>I<EA30F0
EA5918EA9E38EA9C181300A25AA45AA45A12600D107E8F11>114
D<EA03E0EA06181208EA18381330EA1C00EA1FC0EA0FE0EA07F0EA0070133012E0A2EA80
60EA40C0EA3F000D107E8F12>I<1206120EA45AA2EAFFE0EA1C005AA45AA4EAE080A2EA
E100A2126612380B177E960E>I<EA3803004C1380384E0700128E129CA2EA1C0E1238A3
38701C80A3EA303C38184D00EA0F8711107E8F16>I<EA380CEA4C0E124EEA8E06129CA2
EA1C041238A213081270A2EA3010EA3820EA1840EA0F800F107E8F13>I<381C03060026
13873847070700871303128EA2380E0E02121CA338381C04A200181308001C1310380C26
303807C3C018107E8F1C>I<380787803808C8C0EA10F1EA20E01400A2EA01C0A4EA0381
A212C3EAE582EAC584EA787812107F8F16>I<EA3803004C1380384E0700128E129CA2EA
1C0E1238A3485AA3EA303C6C5AEA0FB8EA00385B1260EAE0E0485AEA4380003EC7FC1117
7E8F13>I<EA0381EA07C2EA0FFCEA10041308EA003013401380EA01001202EA0C041210
EA200CEA3FF8EA41F0EA80E010107F8F12>I E /Fk 49 123 df<EB7F803801E0C03807
80E0380F01F0A3EB00E01400A2B512F0A2EA0F00AD383FC3FCA2161A809919>12
D<13401380EA0300120212065A121C12181238A25AA412F0A91270A47EA21218121C120C
7E12021203EA008013400A257C9B11>40 D<7E12401230121012187E120E12061207A2EA
0380A413C0A91380A4EA0700A21206120E120C5A1210123012405A0A257E9B11>I<EAFF
F0A30C0380890F>45 D<127812FCA4127806067D850C>I<EA07F0EA1E3C487EEA380EEA
780FA300F81380AB00781300A2EA380EEA3C1E6C5AEA07F011187E9716>48
D<EA0180120712FFA21207B2EAFFFCA20E187C9716>I<EA0FF0EA3FFCEA787EEAFC1F14
80130FA21278EA001F1400131E5B5B13705BEA0180380301801206120CEA1003383FFF00
5AB5FCA211187E9716>I<EA07F0EA1FFCEA383E127C7FA3EA383FEA003E133C5BEA07F0
EA003C133E7F1480127812FCA2140012F8EA703EEA3FFCEA0FF011187E9716>I<130613
0E131E133E137E13DEEA019E131E12031206120C12181230126012C0B512E0A238001E00
A53801FFE0A213187F9716>I<EA3006EA3FFC5B5B5B13800030C7FCA3EA37F0EA381CEA
201EC67EA21480127012F8A31400EA601FEA383EEA1FF8EA07E011187E9716>I<EA01F8
EA07FEEA0F06EA1E0F485AA2EA780E90C7FC12F8EAF9F0EAFA1CEAFC0E130F00F81380A4
1278A21400123CEA1E1EEA0FFCEA03F011187E9716>I<1260387FFFC0A214801400EAE0
0612C05B5BC65A5B13E0A212015B1203A31207A66C5A12197E9816>I<EA07F0EA1FFCEA
381EEA30071270A21278EA7E06EA3F8C13F86C5AEA0FFC487EEA38FFEA703F38E01F8013
071303A21400EA7007EA3C0EEA1FFCEA07F011187E9716>I<EA07E0EA1FF8EA3C1CEA78
1E7F12F8A21480A4EA781F1238EA1C2FEA07CFEA000F14001238EA7C1F131EEA783CEA30
78EA1FF0EA0FC011187E9716>I<1303497EA2497EA3EB1BE0A2EB3BF01331A2EB60F8A2
EBE0FCEBC07CA248487EEBFFFE487FEB001F4814800006130FA248EB07C039FF803FFCA2
1E1A7F9921>65 D<90381FE0209038FFFCE03803F80F3807C003381F800190C7FC123E00
7E1460127C00FC1400A8007C1460127E123E6C14C07F3907C003803903F80F003800FFFC
EB1FF01B1A7E9920>67 D<B512F014FC380F803FEC0F80EC07C0EC03E0A2EC01F0A215F8
A815F0A2140315E0EC07C0EC0F80EC3F00B512FC14F01D1A7E9922>I<B512FCA2380F80
3C141C140C140E1406A2EB81861480A2138313FFA213831381A3EB8000A6EAFFFCA2171A
7E991C>70 D<90381FE0209038FFFCE03803F80F3807C003381F800190C7FC123E007E14
60127C00FC1400A6EC7FFCA2007CEB03E0127E123E7E1380EA07C03803F8073800FFFC90
381FF0601E1A7E9923>I<EAFFF8A2EA0F80B3A4EAFFF8A20D1A7E9911>73
D<EAFFFCA2EA0F80AE140CA3141CA21438147814F8B5FCA2161A7E991B>76
D<B46CEB0FF86D131F000F1580D80DE01337A3D80CF01367A2017813C7A290383C0187A2
90381E0307A3EB0F06A2EB078CA2EB03D8A2EB01F0A33AFFC0E07FF8A2251A7E992A>I<
39FF800FFC13C0390FE000C07F120DEA0CF8137C7F133F7FEB0F80EB07C0EB03E014F013
01EB00F8147C143E143F141F140F14071403A238FFC00114001E1A7E9923>I<B512E014
F8380F807E80801580A51500143E5CEBFFF80180C7FCAAEAFFF8A2191A7E991E>80
D<B512C014F8380F807E80801580A41500143E14FCEBFFE01381EB80F01478147CA3147E
A3150C143F39FFF81F18EC07F01E1A7E9921>82 D<3807F040381FFDC0EA3C0FEA7803EA
700112F01300A26C1300B4FCEA7FF86CB4FC6C13806C13C0000113E0EA000FEB03F01301
EAC000A36C13E0EAF00138FC03C038EFFF803883FE00141A7E9919>I<007FB51280A238
781F07007013030060130100E014C000C01300A300001400AF3807FFFCA21A1A7E991F>
I<39FFF007FCA2390F8000C0A2EBC0010007148013E00003EB0300A23801F006A26C6C5A
A2EBFC1CEB7C18A26D5AA26D5AA214E06D5AA26D5AA26DC7FC1E1A7F9921>86
D<EA1FF0EA383CEA7C1E7FA21238120013FFEA0FCFEA3E0F127C12F8A31317387C27E0EA
1FC313117F9015>97 D<12FCA2123CA713FE383F8780383E01C0003C13E0EB00F0A214F8
A514F0A2EB01E0003E13C0383B07803830FE00151A7E9919>I<EA03FCEA0F0EEA1C1F12
3C1278130E00F8C7FCA51278A2383C0180381C0300EA0F06EA03FC11117F9014>I<EB07
E0A21301A7EA03F9EA0F07EA1C03EA3C011278A212F8A51278A2123CEA1C03380F0DF8EA
03F9151A7F9919>I<EA03F0EA0E1C487EEA3C071278148012F8A2B5FC00F8C7FCA21278
A2383C0180381C0300EA0E06EA03FC11117F9014>I<13FEEA03C738078F80EA0F0FA2EB
070090C7FCA3EAFFF0A2000FC7FCADEA3FE0A2111A80990E>I<3807F1C0381C1EE0EA38
0E38780FC01400A4EA380E6C5AEA37F00020C7FC1230A2EA3FFE381FFF8014C0EA700338
E000E0A4387001C0383C07803807FC0013197F9016>I<12FCA2123CA7133EEBC780EA3D
03003E13C0A2123CAA38FF0FF0A2141A7E9919>I<123C127EA4123C1200A412FCA2123C
AD12FFA2081B7E9A0D>I<12FCA2123CB3A412FFA2081A7E990D>108
D<39FC3E03E09038C78C78393D039038003EEBE03CA2003C13C0AA39FF0FF0FFA220117E
9025>I<EAFC3EEBC780EA3D03003E13C0A2123CAA38FF0FF0A214117E9019>I<EA03F8EA
0E0E383C0780EA3803007813C0A200F813E0A6007813C0EA7C07003C1380380E0E00EA03
F813117F9016>I<EAF8F0EAF938EA3A7CA2123C13381300A9EAFF80A20E117E9012>114
D<EA1FD8EA2078EA401812C0A2EAF000EAFF80EA7FE0EA3FF0EA07F8EA003CEAC00CA212
E01308EAF830EACFE00E117F9011>I<1206A4120EA2121EEA3FF012FFEA1E00A81318A5
EA0F30EA03E00D187F9711>I<38FC0FC0A2EA3C03AB1307A2381E0BF0EA07F314117E90
19>I<38FF03F0A2383E01C0001E1380EA1F03000F1300A2EA0786A2EA03CCA213FC6C5A
A26C5AA2136014117F9017>I<38FF03F0A2383E01C0001E1380EA1F03000F1300A2EA07
86A2EA03CCA213FC6C5AA26C5AA21360A2EA70C012F812F95B0077C7FC123C14187F9017
>121 D<EA7FFFEA781EEA703EEA603C137813F0120113E0EA03C0EA0780EA0F83130312
1EEA3C06127CEA781EEAFFFE10117F9014>I E /Fl 18 107 df<126012F0A212600404
7D8A0B>1 D<6C13C0EAC00138600300EA30066C5A6C5A6C5A6C5A6C5AA2EA0360EA0630
487E487E487E487E38C001C0EA800012127A911E>I<1203A4EAE31CEA7338EA1FE0EA07
80A2EA1FE0EA7338EAE31CEA0300A40E107E9013>I<EA0780EA1FE0EA3870EA6018A2EA
C00CA6EA6018A2EA3870EA1FE0EA07800E107E9013>14 D<EA0780EA1FE0EA3FF0EA7FF8
A2EAFFFCA6EA7FF8A2EA3FF0EA1FE0EA07800E107E9013>I<12C012F0123C120FEA03C0
EA00F0133C130FEB03C0EB00F0143C140E143C14F0EB03C0EB0F00133C13F0EA03C0000F
C7FC123C127012C0C8FCA6387FFFFCB512FE171F7D971E>21 D<4A7EA26E7EA21560A281
8181B71280A2C8EA0C005D5D5DA25DA24A5AA221147E9226>33 D<141880A280140780B6
12C081C81238151EED0780ED0E0015385DB612C05DC70003C7FC1406A25CA25C21167E93
26>41 D<0040131000C0133000601360A36C13C0A338180180EA1FFF6C1300EA0C03A2EA
0606A36C5AA2EA0198A3EA00F0A31360A2141A809915>56 D<158014031407A2140FA214
171437142714671447148713011407130313021304130C1318EB1FFF5B90386007C013C0
00611303EA7380D87F0013E000FE14F8007CEB01E0003890C7FC1D1D809B1F>65
D<90380FFFFC133F903843C038D8018313200003EB8000EA0703EA0607120091C7FCA25B
130E90380FFF8090381FFE00011CC7FC133C1338A25BA25BA2EA31C0EA7980B4C8FC127C
1E1A7F991C>70 D<EB0FE0EB3FF013C1EA0100000613E0120E381C01C014803838030090
C7FC5AA200F0136014E0130114C0130312F8EB0780EA7C0FEA7E1F383FE700EA1F87EA00
0EA25B1318EA3C30EA7FE0EA3F80141E7E9917>I<EB7FFE3803FFFC38060300EA1807EA
380FEA600E1200131E131CA2133C1338A21378A21370A213F05BA21201EBC030EB806038
0300C0387FFF8038FFFE00171A809915>73 D<011E13F0EB7F01EBDF00EA010F000014E0
15C0EC01001402148C1490EB07E01480A2130F131713671387EA03071204120812301270
00F0138614CC00F813F038E003E01C1A7E991B>88 D<13201370A213D8A2EA018CA2EA03
06A2EA0603A3380C0180A2381800C0A2481360A2481330A2481318140815167E951A>94
D<13801201EA0300A31206A25AA35AA35AA25AA35AA21260A37EA27EA37EA37EA27EA3EA
0180120009267D9B0F>104 D<12C0A21260A37EA27EA37EA37EA27EA3EA0180A2EA0300
A31206A25AA35AA35AA25AA35AA209267E9B0F>I<12C0B3B302257C9B0B>I
E /Fm 56 123 df<EA01F8EA0604EA0C0E121890C7FCA3EAFFFEEA1806AB387E1F801114
809313>12 D<124012E012601220A31240A2128003097D9309>39
D<120212041208121812101230122012601240A212C0AA1240A212601220123012101218
120812041202071E7D950D>I<1280124012201230121012181208120C1204A21206AA12
04A2120C1208121812101230122012401280071E7E950D>I<124012E012601220A31240
A2128003097D8209>44 D<12FFA2080280860B>I<124012E0124003037D8209>I<120FEA
30C0EA6060A2EA4020EAC030A9EA4020EA6060A2EA30C0EA0F000C137E9211>48
D<120C121C12EC120CAFEAFFC00A137D9211>I<EA0FC0EA3070EA7038A31200133013E0
EA0FC0EA007013381318131C126012F01318EAE038EA6070EA1FC00E137F9211>51
D<EA6060EA7FC01380EA44001240A3124FEA70C0EA40E0EA00601370A212E0A21360EA40
E0EA21C0EA1F000C137E9211>53 D<1240EA7FFC13F8EA4010EA80301320EA00401380EA
0100A25A12021206A2120EA512040E147E9311>55 D<EA0FC0EA1070EA20181260A21270
EA3C30EA3F60EA0F8013E0EA31F0EA6078EAC01C130CA3EA6018EA3030EA0FC00E137F92
11>I<120FEA3080EA6040EA4060EAC0201330A31240EA6070EA30B0EA0F301200132013
60EAE0401380EA4100123E0C137E9211>I<1330A21378A3139CA2EA019E130EA2EA0207
A200061380EA07FFEA0403380801C0A2001813E0EA380038FE07FC16147F9319>65
D<EAFFFCEA1C07EB0380EB01C0A4EB0380EB0700EA1FFE381C0380EB01C0EB00E0A5EB01
C0EB038038FFFE0013147F9317>I<EBFC2038070360380C00E04813605A007013201260
00E01300A600601320127012306C13406C138038070300EA00FC13147E9318>I<EAFFFC
EA1C07EB01C0EB00E01460147014301438A614301470146014E0EB01C0EB038038FFFC00
15147F9319>I<B51280EA1C031300A21440A2130814001318EA1FF8EA1C181308A290C7
FCA6EAFFC012147F9315>70 D<EAFF80EA1C00B2EAFF8009147F930C>73
D<EA0FF8EA00E0AE126012F013C0EA6180EA3F000D147F9311>I<EAFFC0001CC7FCAB14
40A314C0148013011303B5FC12147F9315>76 D<00FEEB0FE0001E140000171317A33813
8027A23811C047A23810E087A3EB7107A2133AA2131CA2123839FE083FE01B147F931E>
I<38FC01FC381E00700017132013801213EA11C0EA10E01370A21338131C130E130F1307
EB03A0EB01E01300A20038136000FE132016147F9319>I<EA01F8EA070E381C03803838
01C0EA3000007013E00060136000E01370A6007013E0A2003013C0EA3801381C03803807
0E00EA01F814147E9319>I<EAFFFCEA1C07EB0380EB01C0A5EB0380EB0700EA1FFC001C
C7FCA8B47E12147F9316>I<EA01F8EA070E381C0380383801C0EA3000007013E0006013
6000E01370A600601360007013E0003013C0EA38F1381D0B8038070E003801FC10EA0004
A2EB0630EB07E01303EB01C0141A7E9319>I<EAFFF8EA1C07EB0380EB01C0A4EB0380EB
0700EA1FF8EA1C0E7FEB0380A41484A2EB01CC38FF80F816147F9318>I<EA1F10EA30F0
EA603012C01310A2EAE0001270127FEA3FC0EA0FE0EA00F0133813181280A3EAC030EAF0
60EA8FC00D147E9312>I<387FFFF03860703000401310A200801308A300001300ACEA07
FF15147F9318>I<39FF0FF0FC3938038030A2001CEBC020A2001E1460390E04E040A200
071480EB0870A23903887900EB9039A23801F03EEBE01EA23800C00CA31E147F9321>87
D<127FEAE1C0EAE040EA40601200EA07E0EA3860126012C01364A2EA61E4EA3E380E0D7E
8C11>97 D<12F01230A6EA33E0EA3430EA3808EA300C1306A5130CEA3808EA3430EA23E0
0F147F9312>I<EA0FE0EA18701220EA6020EAC000A51260EA2010EA1820EA0FC00C0D7F
8C0F>I<13781318A6EA0F98EA1878EA2038EA601812C0A51260EA2038EA1858EA0F9E0F
147F9312>I<EA0F80EA1040EA2020EA6030EAC010EAFFF0EAC000A31260EA2010EA1820
EA0FC00C0D7F8C0F>I<EA03C0EA0CE0121813401300A3B4FC1218AB127F0B1480930A>I<
EA0F3CEA30E6EA2040EA6060A3EA2040EA30C0EA2F001260A2EA3FE013F0EA6018EAC00C
A3EA6018EA3030EA0FC00F147F8C11>I<12F01230A6EA33E0EA3430EA38181230A9EAFC
7E0F147F9312>I<1220127012201200A512F01230AB12FC06157F9409>I<12F01230A613
7C133013601380EA31001233EA3F801231EA30C0136013701330EAFC7C0E147F9311>
107 D<12F01230B212FC06147F9309>I<38F3E1F03834321838381C0CEA3018A938FC7E
3F180D7F8C1B>I<EAF3E0EA3430EA38181230A9EAFC7E0F0D7F8C12>I<EA0FC0EA1860EA
2010EA6018EAC00CA5EA6018A2EA3870EA0FC00E0D7F8C11>I<EAF3E0EA3430EA3808EA
300C1306A5130CEA3808EA3430EA33E0EA3000A512FC0F137F8C12>I<EA0F88EA1848EA
2038EA601812C0A51260EA2038EA1858EA0F98EA0018A5137E0F137F8C11>I<EAF3C0EA
34E01238EA30401300A812FE0B0D7F8C0D>I<EA3E80126112C0A2EAE000127EEA3F80EA
03C01280A212C0EAE180EA9F000A0D7F8C0D>I<1210A312301270EAFF80EA3000A71380
A3EA1100120E09127F910D>I<EAF078EA3018A91338EA1858EA0F9E0F0D7F8C12>I<EAF8
3CEA30181310EA3830EA1820A2EA0C40A2EA0680A3EA0300A20E0D7F8C11>I<38F87CF8
3870703038305820A238188840138CA2380D04801306A238060300A3150D7F8C18>I<EA
F87CEA3030EA1860EA0C401380EA07007EEA0780EA0CC0EA08601210EA3030EAF07C0E0D
7F8C11>I<EAF83CEA30181310EA3830EA1820A2EA0C40A2EA0680A3EA0300A21202A212
E4A212E812700E137F8C11>I<EAFFF0EAC060EA80C012811380EA03001206EA0C101218
EA3830EA3020EA6060EAFFE00C0D7F8C0F>I E /Fn 2 49 df<1218A212DB12FF121812
FF12DB1218A208097D890F>3 D<1218A31230A31260A312C0A2050B7E8B09>48
D E /Fo 57 123 df<EB03FEEB0E03EB1C07EB1806EB3800A35BA33807FFFC3800701CEB
E038A41470EA01C0A314E4A2EA0380A21468143090C7FC5AA2126612E65A127818218199
16>12 D<903903F83FE090390E0CE03090391C1D8070D9181B1360D93803C7FC5C1370A3
140E0007B612C03900700E0101E0EB0380A2141CA2ED0700EA01C0A39138380E40A2EA03
80A291383006809138700300010090C7FC5A1460386630C0EAE67038CC6180D8783EC8FC
2421819922>14 D<130413181330136013C013801201EA0300A21206120E120C121C1218
A212381230A21270A21260A312E0A35AA51260A31220123012107E0E267B9B10>40
D<134013601320133013101318AB1338A21330A21370A2136013E013C0A2120113801203
13001206A25A5A12105A5A5A0D267F9B10>I<121812381278123812081210A21220A212
401280050B7D830C>44 D<EAFF80A2130009037D880E>I<1230127812F0126005047C83
0C>I<1308131813301370EA01F0EA0E70EA00E0A4EA01C0A4EA0380A4EA0700A45AEAFF
E00D187C9714>49 D<137CEA0186EA020300041380138312081210A3381107001212EA0C
0EC65A13305BEA01800002C7FC120CEA10011220EA3C06EA67FEEAC1FCEA80F011187D97
14>I<133E13C3380101801202380481C0134138088380120438070300EA00065BEA01F0
EA00187FA2130EA21260EAE01CA2EA8038EA4030EA20E0EA1F8012187D9714>I<380301
80EBFF0013FCEA022048C7FCA45AEA0BE0EA0C181208EA001CA412201270485AEA8030EA
40705BEA2180001EC7FC11187C9714>53 D<133EEBC180EA0100000213C01206A2380E01
80380703001386EA03CCEA01F07FEA067C487EEA181EEA30071260A2EAC006A2EA400CEA
6018EA3070EA0FC012187D9714>56 D<137CEA0186EA0703120E000C1380121C1238A313
0714005BEA1817EA0C27EA07CEEA000E130C131C1318EAE0305BEA80C0EAC380003EC7FC
11187C9714>I<1206120F121E120C1200A81230127812F0126008107C8F0C>I<1203EA07
80EA0F001206C7FCA8121812381278123812085AA25AA25A5A09177D8F0C>I<14201460
14E0A2130114F0EB0270A213041308A21310A213201340A2EB8038EBFFF8380100381202
A25AA25A121838FE01FF181A7E991D>65 D<EB0F82EB7062EBC0163803801E3807000C12
0E5A121800381308123000701300A25AA41420A314401260148038300100EA1006EA0C18
EA03E0171A7A991B>67 D<3803FFF83800700E80809038E00180A315C0EA01C0A4390380
0380A3150048485AA2140E140C000E131C5C5C5C381C0380D8FFFEC7FC1A1A7D991D>I<
0003B5FC380070071403140113E0A43801C080A313C13803FF001381A3EA0702EB0004A2
1408120E1418141014304813E0B5FC181A7D991A>I<0003B5FC380070071403140113E0
A43801C080A313C13803FF001381A3EA070290C7FCA3120EA4121EEAFFC0181A7D9919>
I<EB0FC1EB3021EBC0133801800F38070006120E120C5A00381304123000701300A25AA3
EB07FEEB0070A4006013E0A27EEA1801380C0640EA03F8181A7A991E>I<EA03FFEA0070
A313E0A4EA01C0A4EA0380A4EA0700A4120EA45AEAFF80101A7D990F>73
D<EBFFC0EB0E00A35BA45BA45BA45BA4EA61C012E15B12830047C7FC123C121A7C9914>
I<EA03FFEA0070A35BA4485AA4485AA448C7FC1410A21420120E1460144014C0381C0380
B5FC141A7D9918>76 D<D803F8EB1FC0D80078EB3C00A2155C01B85BA290389C0138A239
011C0270A21404140800025C1410A214200004EB41C0A21481A239080F0380A2130EEA18
0C4AC7FC39FE083FE0221A7D9922>I<3903F007F839007800C01580A290389C0100A313
8E38010E0213061307A238020384A3EB01C4000413C8A2EB00E8A24813F01470A2121814
2012FE1D1A7D991D>I<3803FFF83800701C1406140713E0A43801C00EA2141C14383803
8060EBFF80EB8000A248C7FCA4120EA45AB47E181A7D991A>80 D<EB3F10EB6090380180
7013004813201206A31400120713C0EA03F8EA01FEEA007FEB0F8013031301A21220A238
600300A21306EA700CEAC818EA87E0141A7D9916>83 D<383FFFFC38381C0C0020130412
4013381280A338007000A45BA4485AA4485AA41207EAFFF8161A79991B>I<39FF803F80
391C000C0014085CA25C14601440001E5B120E49C7FC1302A25BA25B5B120F6C5A136013
405BA290C8FC1206A2191A78991D>86 D<3AFF87FC1FC03A3C00E007000038140413015D
1302001C5C13045D13085D13105DD920E1C7FC134014E2138014E4EA1D0014E8121E1470
121C146012181440221A789926>I<39FF803F80391C000C001408001E5B000E5B146000
0F13406C5B49C7FC1382EA038613C4EA01C813D013E01200485AA4485AA448C8FCEA3FE0
191A78991D>89 D<EA03CCEA0E2EEA181C123812301270EAE038A4EAC072A3EA60F2EA61
34EA1E180F107C8F14>97 D<127E120EA35AA45AA2EA3BC0EA3C301278EA7018A3EAE038
A4EAC070136013E0EA60C0EA6380EA1E000D1A7C9912>I<EA01E0EA0618120CEA1838EA
3010EA7000126012E0A413081310EA6020EA30C0EA1F000D107C8F12>I<EB1F801303A3
EB0700A4130EA2EA03CEEA0E2EEA181C123812301270485AA4EAC072A3EA60F2EA6134EA
1E18111A7C9914>I<EA01E0EA0E18EA1C08123812701310EAFFE0EAE000A41308EA6010
1320EA30C0EA1F000D107C8F12>I<1307EB0980131BEB3B00133813301370A4EA07FFEA
00E0A5485AA5485AA490C7FC5AA21206126612E412CC1270112181990C>I<13F338038B
8038060700120E120C121CEA380EA4EA301CA3EA183C5BEA07B8EA0038A25B1260EAE0E0
EAC1C0007FC7FC11177E8F12>I<EA1F801203A348C7FCA4120EA2137CEA0F86EA1E07A2
121CA2EA380EA35B00701380A21338EB3900EAE019EA600E111A7E9914>I<1203120712
061200A61238124C124E128E129CA2121C1238A212701272A212E212E41264123808197C
980C>I<EA1F801203A3EA0700A4120EA2130E1313EA1C2713431380EA1F00123CEA3F80
EA39C0EA38E0EA70E2A313E4EAE064EA6038101A7E9912>107 D<121F1207A3120EA412
1CA41238A41270A412E4A412E81230081A7D990A>I<38307C1E38598663399E07838014
03129CA239380E0700A3140ED8701C1340A2141C158038E0380C39601807001A107C8F1F
>I<EA307CEA5986EA9E07A2129CA2EA380EA35B00701380A21338EB3900EAE019EA600E
11107C8F16>I<EA01F0EA0618EA0C0CEA180E12301270126012E0A2130C131C13181330
EA6060EA30C0EA1F000F107C8F14>I<EA030F380590C0EA09E0EBC060A3380380E0A438
0701C0148013031400EA0E8E137890C7FCA25AA4B4FC1317808F14>I<EA03C2EA0E2EEA
181C123812301270EAE038A4EAC070A3EA60F0EA61E0121E1200A2EA01C0A4EA1FF00F17
7C8F12>I<EA30F0EA5D18EA9E38EA9C181300A25AA45AA45A12600D107C8F10>I<EA03E0
EA04301208EA18701360EA1C00EA1F8013C0EA0FE01200136012E0A2EA80C0EA4180EA3E
000C107D8F10>I<1206120EA45AA2EAFFC0EA1C005AA45AA412E1A312E212E412380A17
7C960D>I<EA3806EA4C07EA4E0E128E129CA2EA1C1C1238A3EA7039A3EA3079EA389AEA
0F0C10107C8F15>I<EA3818EA4C1C124EEA8E0C129CA2EA1C081238A213101270A21320
EA3040EA18C0EA0F000E107C8F12>I<38380C10384C0E38EA4E1C008E1318129CA2381C
38101238A338707020A2144012303818B880380F0F0015107C8F19>I<EA078F3808D180
EA10F3EA20E1EBE000A2EA01C0A4EA0382A212C3EAE784EAC588EA78F011107E8F12>I<
EA3806EA4C07EA4E0E128E129CA2EA1C1C1238A3EA7038A3EA3078EA38F0EA0F70120013
60EA60E0EAE1C0EAC180EA4700123C10177C8F13>I<EA0382EA07C4EA0FFCEA10081310
EA00201340EA0180EA03001204EA08081210EA2018EA7FF0EA43E0EA81C00F107E8F10>
I E /Fp 79 124 df<EBFE7C380381C6380603CE000E1384001C1380A6B512F0381C0380
AE38FF8FF0171A809916>11 D<13FEEA038138060180EA0E03381C010090C7FCA5B51280
EA1C03AE38FF8FF0141A809915>I<EBFF80EA0383EA0603120E121CA6B5FCEA1C03AE38
FF9FF0141A809915>I<90387E1F803901C17040390703C0600006EB80E0000E14401500
A5B612E0380E0380AE397F8FE3FC1E1A809920>I<383F81F03870E70CEB7C0638203C02
38003803A20003B5FC381E38001238127012E0133C1401EB3E023870E306381F80F81810
7E8F1C>26 D<EA60C0EAF1E0EAF9F0EA68D0EA0810A3EA1020A2EA2040EA40800C0B7F99
13>34 D<126012F012F812681208A31210A212201240050B7D990B>39
D<1380EA010012025A120C120812185AA35AA412E0AA1260A47EA37E1208120C12047E7E
EA008009267D9B0F>I<7E12407E7E12181208120C7EA37EA41380AA1300A41206A35A12
08121812105A5A5A09267E9B0F>I<130CACB61280A2D8000CC7FCAC191A7E951E>43
D<126012F0A212701210A31220A21240A2040B7D830B>I<EAFFC0A20A0280880D>I<1260
12F0A2126004047D830B>I<1304130C1318A31330A31360A313C0A3EA0180A3EA0300A3
1206A35AA35AA35AA35AA35AA20E257E9B13>I<EA07E0EA1C38EA381CEA300CEA700EEA
6006A2EAE007AAEA6006A2EA700EEA300CEA381CEA1C38EA07E010187F9713>I<12035A
B4FC1207B3A2EA7FF80D187D9713>I<EA0F80EA1060EA2030EA4038EA803CEAC01C12E0
1240EA003C1338A21370136013C0EA018013001202EA040412081210EA3008EA3FF8127F
12FF0E187E9713>I<EA07E0EA1838EA201CEA601EEA700EEA201E1200131CA213381370
EA07E0EA0038131C130E130FA212E0A212C0EA400EEA601CEA1838EA07E010187F9713>
I<1318A21338137813F813B8EA01381202A212041208121812101220124012C0B5FCEA00
38A6EA03FF10187F9713>I<EA3018EA3FF013E01380EA2000A5EA2FC0EA3060EA2030EA
00381318131CA2124012E0A2EA8018EA40381330EA30E0EA0F800E187E9713>I<EA01F8
EA0704EA0C06EA180E123013001270126012E0EAE3E0EAE418EAE80CEAF00EEAE0061307
A31260A2EA7006EA300EEA180CEA0C38EA07E010187F9713>I<1240EA7FFF13FEA2EA40
04EA80081310A2EA00201340A21380120113005AA25A1206A2120EA5120410197E9813>
I<EA07E0EA1818EA300CEA20061260A21270EA780CEA3E18EA1F30EA07C0EA03E0EA0CF8
EA307CEA601E130FEAC0071303A3EA6002EA2004EA1818EA07E010187F9713>I<EA07E0
EA1C30EA3018EA700CEA600EEAE006A21307A31260EA700FEA3017EA1827EA07C7EA0007
1306130E130C12701318EA6030EA3060EA0F8010187F9713>I<126012F0A212601200A8
126012F0A2126004107D8F0B>I<B61280A2C9FCA6B61280A2190A7E8D1E>61
D<130CA3131EA2132F1327A2EB4380A3EB81C0A200017F1300A248B47E38020070A2487F
A3487FA2003C131EB4EBFFC01A1A7F991D>65 D<B51280380E00E014701438143CA51478
1470EB01E0380FFFC0380E00F01478143C141C141EA4141C143C147814F0B512C0171A7F
991B>I<EB3F023801C0C63803002E000E131E48130E14065A007813021270A200F01300
A600701302A21278003813047E14087E000313303801C0C038003F00171A7E991C>I<B5
7E380E00E01470808080A280A21580A81500A25C140E5CA2147814E0B51280191A7F991D
>I<B512F8380E003814181408140C1404A3EB0100A35BEA0FFFEA0E037FA3EB0002A314
061404A2140C143CB512FC171A7F991A>I<B512F8380E003814181408140C1404A3EB01
00A35BEA0FFFEA0E037FA390C7FCA8EAFFE0161A7F9919>I<EB3F023801C0C63803002E
000E131E48130E14065A007813021270A200F090C7FCA5903801FFC03970000E00A21278
12387EA27E000313163801C06638003F821A1A7E991E>I<39FFE1FFC0390E001C00AB38
0FFFFC380E001CAC39FFE1FFC01A1A7F991D>I<EAFF80EA1C00B3A6EAFF80091A7E990E>
I<EA0FFEEA0070B3124012E0A2EA40E0EA61C0EA1F000F1A7E9914>I<39FFE01FC0390E
000F00140C14085C5C5C495A0102C7FC5B130C131C132E1347EB8380EA0F03380E01C06D
7EA2147080A280141E141F39FFE07FC01A1A7F991E>I<EAFFE0000EC7FCB01408A31418
14101430147014F0B5FC151A7F9918>I<B414FF000F14F0A2390B800170A23809C002A3
3808E004A2EB7008A3EB3810A3EB1C20A2EB0E40A3EB0780A2EB0300121C39FF8307FF20
1A7F9923>I<00FEEB7FC0000FEB0E001404EA0B80EA09C0A2EA08E01370A21338131CA2
130E1307EB0384A2EB01C4EB00E4A21474143CA2141C140C121C38FF80041A1A7F991D>
I<137F3801C1C038070070000E7F487F003C131E0038130E0078130F00707F00F01480A8
0078EB0F00A20038130E003C131E001C131C6C5B6C5B3801C1C0D8007FC7FC191A7E991E
>I<B51280380E01E0EB007014781438143CA4143814781470EB01E0380FFF80000EC7FC
ABEAFFE0161A7F991A>I<B5FC380E01C0EB0070147880A55C1470EB01C0D80FFFC7FC38
0E0380EB00C0801470A31478A31540143CEC1C8039FFE00F001A1A7F991C>82
D<EA0FC2EA1836EA200EEA600612C01302A3EAE0001270127EEA3FE0EA1FF8EA03FCEA00
7E130E130713031280A3EAC0021306EAE004EAD818EA87E0101A7E9915>I<007FB5FC38
701C0700401301A200C0148000801300A300001400B13803FFE0191A7F991C>I<39FFE0
7FC0390E000E001404B200065B12076C5B6C6C5A3800E0C0013FC7FC1A1A7F991D>I<39
FF801FC0391C00070014066C1304A36C5BA26C6C5AA36C6C5AA26C6C5AA3EB7080A21379
0139C7FCA2131EA3130CA21A1A7F991D>I<3AFF81FF07F03A3C007801C0001CEC0080A3
6C90389C0100A33907010E02A33903830F04EB8207A2150C3901C40388A33900E801D0A3
90387000E0A301305B01201340241A7F9927>I<B512C038F8038012E038C00700A2EA80
0E5BA2485AA25B5BA2485AA2485A38070040A2120EA24813C04813801301EA70031307B5
FC121A7E9917>90 D<12FEA212C0B3AF12FEA207257D9B0B>I<EA2040A2EA4080A2EA81
00A3EAE1C0EAF1E0A2EA60C00B0B7A9913>I<12FEA21206B3AF12FEA20725809B0B>I<EA
1FC0EA38707FEA101C1200A2EA03FCEA1E1C1238127012E01480A2133CEA705F381F8F00
11107F8F13>97 D<12FC121CA913FCEA1D07381E0380381C01C0130014E0A6EB01C01480
381E0300EA1906EA10F8131A809915>I<EA07F8EA1C1C1238EA700813005AA612701304
EA3808EA1C18EA07E00E107F8F11>I<133F1307A9EA03E7EA0C17EA180F487E127012E0
A6126012706C5AEA1C373807C7E0131A7F9915>I<EA07C0EA1C30EA30181270EA600C12
E0EAFFFCEAE000A41260EA7004EA3808EA1C18EA07E00E107F8F11>I<EA01F0EA0718EA
0E38EA1C101300A6EAFFC0EA1C00AEEAFF800D1A80990C>I<EA0FCF3818718038303000
EA7038A4EA30306C5AEA2FC00060C7FCA21270EA3FF013FC6C7EEA600FEAC003A4EA6006
EA381CEA07E011187F8F13>I<12FC121CA9137CEA1D87381E0380A2121CAB38FF9FF014
1A809915>I<1218123CA212181200A612FC121CAE12FF081A80990A>I<EA0180EA03C0A2
EA0180C7FCA6EA0FC01201B21241EAE180EAE300127E0A2182990C>I<12FC121CA9EB1F
C0EB0F00130C5B13205B13E0121DEA1E70EA1C7813387F131E7F148038FF9FE0131A8099
14>I<12FC121CB3A6EAFF80091A80990A>I<38FC7C1F391D8E6380391E0781C0A2001C13
01AB39FF9FE7F81D107F8F20>I<EAFC7CEA1D87381E0380A2121CAB38FF9FF01410808F
15>I<EA07E0EA1C38EA300CEA700EEA6006EAE007A6EA6006EA700EEA381CEA1C38EA07
E010107F8F13>I<EAFCFCEA1D07381E0380381C01C0A2EB00E0A6EB01C01480381E0300
EA1D06EA1CF890C7FCA6B47E1317808F15>I<EA03E1EA0C13EA180BEA300FEA700712E0
A61270A26C5AEA1C37EA07C7EA0007A6EB3FE013177F8F14>I<EAFC78EA1D9CEA1E1C13
08EA1C00ABEAFF800E10808F0F>I<EA1F20EA60E0EA402012C0A2EAF000127FEA3FC0EA
1FE0EA00F0EA8070133012C01320EAF040EA8F800C107F8F0F>I<1208A41218A21238EA
FFC0EA3800A81320A41218EA1C40EA07800B177F960F>I<38FC1F80EA1C03AB1307120C
EA0E0B3803F3F01410808F15>I<38FF0F80383C0700EA1C061304A26C5AA26C5AA3EA03
A0A2EA01C0A36C5A11107F8F14>I<39FE7F1F8039381C0700003C1306381C0C04130E38
0E16081317A238072310149013A33803C1A014E0380180C0A319107F8F1C>I<38FE3F80
383C1E00EA1C086C5AEA0F306C5A6C5A12017F1203EA0270487E1208EA181CEA381E38FC
3FC012107F8F14>I<38FF0F80383C0700EA1C061304A26C5AA26C5AA3EA03A0A2EA01C0
A36C5AA248C7FCA212E112E212E4127811177F8F14>I<EAFFF8EAE07012C0EA80E0EA81
C0A2EA0380EA0700A2EA0E04121CA2EA380812701338EAFFF80E107F8F11>I<B512C012
01808913>I E /Fq 51 123 df<EAFFE0A30B0380890E>45 D<12F8A505057D840B>I<EA
01C01203121F12FFA212671207B1EA7FFC12FF127F0E1A7D9915>49
D<EA07E0EA1FF0EA3FFCEA7FFEEAF87EEAF03F1260EA201F1200133FA2133E137CA213F8
EA01F0EA03E0EA0780EA0F00120E5A5AEA7FFFB5FCA27E101A7E9915>I<EA0FE0EA3FF8
EA7FFC12FFEA707E1240EA003E137EA213FCEA07F813F013F8EA007C133E133FA4124012
60EAF87EEAFFFEEA7FFCEA3FF8EA0FE0101A7E9915>I<13FCA21201A2EA03BC1207133C
120FA2121EA2123CA21278A212F0B512C0A438003C00A6121A7F9915>I<EA1FFF5AA300
3EC7FCA6EA3FF87F7FEA3E1F001C13801200A312201260127038F83F00EA7FFF6C5A6C5A
EA07F0111A7F9915>I<EA01F0EA07F8121FA2EA3F08EA7C00A2127812F813F0EAFBFCEA
FFFEEAFE3EEAFC1F12F8A51278127C133EEA3FFEEA1FFCEA0FF8EA07E0101A7E9915>I<
B5FCA4EA001E133C137C13F8A2EA01F0A2EA03E0A2120713C0120FA31380121FA7101A7E
9915>I<EA0FF0EA3FFCEA7FFEA2EAFC3FEAF81FA4EA781EEA7FFEEA1FF8A2EA7E7EEA7C
3EEAF81FA6EA7C3EEA7FFEEA3FFCEA1FF8EA07E0101A7E9915>I<EA07E0EA1FF0EA3FFC
127FEA7C3E12F8131E131FA5133FEA7C7FEA7FFFEA3FDFEA0F1F1200131E133EA2EA307C
EA3FFCEA7FF8EA3FF0EA0FC0101A7E9915>I<13FC487EA2487EA213DFA200071380139F
138F000F13C0A2130F381F07E0A2121E383E03F0EA3FFFA24813F8EA7C01127838F800FC
A348137C161A7E991B>65 D<EA7FFEB5128014C038FC0FE0EB03F0A514E0130FB512C014
8014E038FC07F01303EB01F8A51303EB07F0B512E014C06C1300151A7D991B>I<EB7FC0
3803FFF8120F5A383FC070EB0010007E1300A35AA8127EA36C1308EBC078381FFFF87E00
0313F038007F80151A7E991A>I<EA7FFFB512E014F038FC07F8EB01FC1300147EA2143F
AA143E147EA214FCEB03F8B512F014E06C1300181A7D991E>I<387FFFC0B5FCA300FCC7
FCA7B51280A400FCC7FCA7B512C0A37E121A7D9918>I<387FFF80B5FCA300FCC7FCA7B5
FCA400FCC7FCAA127C111A7D9917>I<127C12FCB3A6127C061A7D990C>73
D<127C12FCB3A3B5FCA37E101A7D9916>76 D<007EEB01FCB41303A3EB800700F7147CEB
C00F00F3130EA2EBE01E00F1131CEBF03CA200F01338EBF878A2EB7870EB7CF0A2EB3CE0
A2EB1FC0A3EB0F80387007001E1A7D9925>I<007E131EB4FCA21380A2EAF7C0EAF3E0A2
EAF1F0A2EAF0F8A2137CA2133EA2131FA2EB0F9EA2EB07DEEB03FEA21301A2EA7000171A
7D991E>I<EBFF80000313E0000F13F8381FC1FC383F007E003E133E007E133F007C7F00
FC1480AA007EEB3F00A2007F5B6C137E381FC1FC6CB45A6C5BC61380191A7E991E>I<EA
7FFEB5128014C038FC0FE0130314F0A614E0130FB512C01480EBFE0000FCC7FCA9127C14
1A7D991A>I<EA7FFEB5128014C038FC07E0EB03F0A6EB07E0B512C01480EBFE00EAFC7E
7FA2EB1F80A2EB0FC0A2EB07E0A2EB03F0A2EA7C01141A7D991A>82
D<EA07F8EA1FFE487E5AEA7C0FEAF80290C7FCA27EB47EEA7FF87F6CB4FC120F6C138038
007FC0130F1307A2124012F038FC0F80B5FC6C1300EA1FFEEA07F8121A7E9917>I<007F
B5FCB6FCA338007E00B3A3133E181A7F991B>I<00F001F813706C486C13F0A2007C15E0
903803FE0114BE149E003EEC03C0EB079FA2140FD81F0FEB07801587A2260F0E07130001
8E138F019E13CF139C0007EB03CEA201DC13DE01F813FE00036D5AA36C486C5A241A7F99
27>87 D<EA0FF0EA3FFC13FEEA381F1220120013FF120FEA3F1F127C12F8A3EAFC7FEA7F
FFEA3FDFEA1F1F10117F9014>97 D<127812F8A813F8EAFBFE12FFEAFC1F00F81380130F
A7EB1F006C5AEAFFFEEAFBFCEA79F0111A7E9915>I<EA07F8EA1FFE123FEA7C0E13005A
A7EA7C02130EEA3FFE121FEA07F80F117F9012>I<EB0F80A9EA0FCFEA1FFF5AEA7E1FEA
7C0F12F8A7127C131FEA3FFFEA1FEFEA0FCF111A7F9915>I<EA07F0EA1FFCEA3FFEEA7C
1EEA780F12F8A2B5FCA2EAF800A31278EA7C03EA3FFF7EEA03FC10117F9013>I<EA01FC
1207120FEA1F041300A5EA7FE012FFA2EA1F00AD7E0E1A80990D>I<380FE1C0EA3FFFEA
7FFD387C7C00487EA5EA7C7CEA7FFC6C5AEA6FE00060C7FCEA7FFC13FF6C13804813C0EA
F0071303A2EAF807387FFF806C1300EA0FFC12197F9015>I<127812F8A813FCEAF9FEEA
FBFFEAFE1F12FC12F8AB1278101A7E9915>I<127C12FCA51200A4123C127CAF123C061B
7F9A0A>I<127012F0A8137C13F812F1EAF3F0EAF7E0EAFFC01380A313C0EAFBE012F113
F0EAF0F8137C133C12700E1A7D9914>107 D<127812F8B3A61278051A7E990A>I<3978FC
1F8039F9FE3FC039FBFF7FE038FE1FC300FC138300F81303AB38780F011B117E9020>I<
EA78FCEAF9FEEAFBFFEAFE1F12FC12F8AB127810117E9015>I<EA07F8EA1FFE487E387E
1F80EA7C0F38F807C0A7387C0F80EA7E1F383FFF006C5AEA07F812117F9015>I<EA78F8
EAFBFE12FFEAFC3F38F81F80130FA7EB1F006C5AEAFFFEEAFBFCEAF9F000F8C7FCA61278
11187E9015>I<EA78C012FB12FFA2EAFE005A5AAA12780A117E900E>114
D<EA1FC0EA3FF0127FEAF0701300A2B4FCEA7FE0EA3FF0121FEA03F8EA007812C012F0EA
FFF0EA7FE0EA1FC00D117F9010>I<121E123EA4EA7FE012FFA2EA3E00AA1320EA3FF012
1FEA0FC00C167F950F>I<EA781F12F8AC137FB5FCEA7F9FEA3F1F10117E9015>I<EAE007
EAF00FA2EA781EA3EA3C3CA3EA1E78A3EA0FF0A3EA07E0A210117F9013>I<39E03E0380
38F07F07A33978F70F00EBE78FA3383CE39E383DC3DEA3381FC1DC14FC1381A26CC65A19
117F901C>I<EAF00EEAF81EEA7C3CEA3E78EA1EF8EA0FF0EA07E013C01203EA07E0EA0F
F0EA1E701378EA3C3CEA781EEAF81FEAF00F10117F9013>I<EAF007EAF80F1278131E12
3CA2EA3E3C121EA2EA0F381378EA077013F0120313E01201A213C0A21203EA878012FF13
0012FC10187F9013>I<EA3FFC127FA2EA00F8EA01F0A2EA03E0EA07C01380120FEA1F00
123EA25AEAFFFCA30E117F9012>I E /Fr 15 118 df<126012F0A212701210A21220A2
1240A2040A7D830A>44 D<126012F0A2126004047D830A>46 D<13FCEA0303380C00C000
10132038207810EA218438430208384701C8008613C4128EA512861247EA4303382184C8
382078706CC7FC000C131C000313F03800FF0016177E961B>64 D<EA3FC0EA70601330EA
20381200EA03F8EA1E3812301270EAE039A21379EA70FFEA1F1E100E7F8D12>97
D<EA07F0EA18381230EA7010EA600012E0A41260EA70081230EA1830EA07C00D0E7F8D10
>99 D<133E130EA8EA07CEEA1C3EEA300E1270126012E0A412601270EA301EEA182E3807
CF8011177F9614>I<EA0FC0EA1860EA3030EA7038EAE018EAFFF8EAE000A31260EA7008
EA3010EA1830EA07C00D0E7F8D10>I<EA03E0EA0670120EEA1C201300A5EAFF80EA1C00
ACEA7F800C1780960B>I<EA0F9EEA18E3EA3060EA7070A3EA3060EA18C0EA2F80EA2000
1260EA3FE013F813FCEA600EEAC006A3EA600CEA3838EA0FE010157F8D12>I<12F81238
A813F8EA3B1CEA3C0E1238AA38FE3F8011177F9614>I<12301278A212301200A512F812
38AC12FE07177F960A>I<EA07C0EA1830EA3018EA600CA2EAE00EA5EA701CEA3018EA18
30EA07C00F0E7F8D12>111 D<EAF9E0EA3A70123CEA38201300A9B4FC0C0E7F8D0E>114
D<EA1F40EA60C0EAC040A2EAE000B4FCEA7F80EA1FC0EA01E0EA8060A212C0EAE0C0EA9F
000B0E7F8D0E>I<EAF83EEA380EAA131EEA1C2E3807CF80110E7F8D14>117
D E /Fs 2 104 df<137813C0EA0180EA0300AB12065A12F0120C7E7EABEA0180EA00C0
13780D217E9812>102 D<12F0120C7E7EABEA0180EA00C0137813C0EA0180EA0300AB12
065A12F00D217E9812>I E /Ft 45 122 df<133FEBE0C0EA01C0380381E0EA0701A290
C7FCA6B512E0EA0700B2383FC3FC1620809F19>12 D<137813841201EA03021207A45BA2
5BA2EA03909038A00FFC9038C001E0EC00C000011480EC0100EA02E000041302EA087038
18780438303808EA703CEB1C10EAF00EEB0F20EB07C09038038004387001C0397802E008
3938047018391C183C303907E00FC01E227EA023>38 D<127012F012F8A212781208A312
10A31220A21240050E7C840D>44 D<EAFFF0A20C02808A0F>I<127012F8A3127005057C
840D>I<EA03F0EA0E1C487EEA1806EA380738700380A400F013C0AD00701380A3EA7807
00381300EA1806EA1C0E6C5AEA03F0121F7E9D17>48 D<13801203120F12F31203B3A6EA
07C0EAFFFE0F1E7C9D17>I<137CEA0182EA0701380E0380EA0C0712183838030090C7FC
12781270A2EAF1F0EAF21CEAF406EAF807EB0380A200F013C0A51270A214801238EB0700
1218EA0C0E6C5AEA01F0121F7E9D17>54 D<1240387FFFE014C0A23840008038800100A2
1302485AA25B5BA25BA21360A213E05B1201A41203A76C5A131F7E9D17>I<EA03F0EA0E
18487E487E13071270EB038012F0A214C0A5EA7007A21238EA180BEA0E13EA03E3380003
80A3EB07001230EA7806130EEA700CEA2018EA1070EA0FC0121F7E9D17>57
D<B512E0380F0078141EA2801580A515005C141E147CEBFFF0EB007C141FEC0F80EC07C0
140315E0A515C014071580EC0F00143EB512F01B1F7E9E20>66 D<90380FE0109038381C
309038E002703803C00139078000F048C71270121E15305A1510127C127800F81400A912
78007C1410123CA26C1420A27E6C6C13406C6C13803900E00300EB380CEB0FF01C217E9F
21>I<B512F83807801EEC0780EC03C0EC01E0EC00F015701578A2153CA3153EA8153CA2
157C1578A215F0EC01E0EC03C0EC0780EC1E00B512F81F1F7F9E23>I<B61280380F000F
14031401140015C01540A314401500A214C0130113FF130113001440A3EC0020A31540A3
15C01401EC0380140FB6FC1B1F7E9E1F>I<B61280380780071401A2140015C01540A4EC
2000A3146014E013FF138014601420A391C7FCA87FEAFFFE1A1F7F9E1E>I<90380FE010
9038381C309038E002703803C00139078000F048C71270121E15305A1510127C127800F8
1400A7EC3FFEEC01F000781300127C123CA27EA27E6C7E3903C001703900E00230903838
0C1090380FF0001F217E9F24>I<EAFFF0EA0F00B3ABEAFFF00C1F7E9E10>73
D<EAFFF8EA0F8090C7FCB21402A414061404A2140C141C147CB512FC171F7E9E1C>76
D<B4EB0FF8390F8003E0EC0080EA0BC0EA09E0A2EA08F01378A27F7FA27FEB0780A2EB03
C0EB01E0A2EB00F01478A2143C141EA2140F1407A214031401123E38FF80001D1F7E9E22
>78 D<EB1FE0EB70383801C00E48487E39070003804814C0001EEB01E048EB00F0A2007C
14F8A20078147800F8147CA900781478007C14F8A2003C14F0003E1301001E14E06CEB03
C06C148039038007003801E01E38007038EB1FE01E217E9F23>I<B512E0380F007C141E
80EC0780A215C0A41580A2EC0F00141E147CEBFFE090C8FCAEEAFFF01A1F7E9E1F>I<B5
7E380F00F0143C8080A21580A41500A2141E5C14F0EBFF80EB01C0EB0070A280143CA314
3EA31504143F141FEC0F0839FFF00788C7EA01F01E207E9E21>82
D<3803F040380C0CC0EA1803EA3001EA6000A212E01440A36C13007E127CEA7F80EA3FF8
6CB4FC00071380C613C0EB1FE013031301EB00F014707EA46C136014E06C13C038F80180
38C60300EA81FC14217E9F19>I<007FB512E038780F010060EB006000401420A200C014
3000801410A400001400B3497E3803FFFC1C1F7E9E21>I<3BFFF07FF81FF03B1F000FC0
07C06C903907800180170015C001805C00071502EC09E013C000035DEC19F01410D801E0
5CA2EC2078D800F05CA2EC403C01785CA2EC801E017C1460013C144090383D000F133F6D
5CA2011E1307010E91C7FCA2010C7F010413022C207F9E2F>87 D<EA1FE0EA3030EA7818
131CEA300E1200A313FEEA078EEA1E0E1238127800F01310A3131E127838386720380F83
C014147E9317>97 D<EA01FCEA0706EA1C0F123813060078C7FC127012F0A61270127800
381380A2381C0100EA0706EA01F811147F9314>99 D<EB01C0130F1301AAEA01F1EA070D
EA0C03EA180112381278127012F0A61270A21238EA1803120CEA070D3801F1F815207F9F
19>I<EA03F0EA0E1C487E487EA21270EB038012F0A2B5FC00F0C7FCA31270A26C1380A2
381C0100EA0706EA01F811147F9314>I<137CEA01C6EA030F1207EA0E061300A7EAFFF0
EA0E00B2EA7FE01020809F0E>I<14E03803E330EA0E3CEA1C1C38380E00EA780FA5EA38
0E6C5AEA1E38EA33E00020C7FCA21230A2EA3FFE381FFF8014C0383001E0386000704813
30A4006013606C13C0381C03803803FC00141F7F9417>I<121C12FC121CAA137C1386EA
1D03001E1380A2121CAE38FF8FF014207E9F19>I<1238127CA31238C7FCA6121C12FC12
1CB1EAFF80091F7F9E0C>I<121C12FC121CB3ABEAFF8009207F9F0C>108
D<391C3E03E039FCC30C30391D039038391E01E01CA2001C13C0AE3AFF8FF8FF8021147E
9326>I<EA1C7CEAFC86EA1D03001E1380A2121CAE38FF8FF014147E9319>I<EA01F8EA07
0E381C0380383801C0A2387000E0A200F013F0A6007013E0A2383801C0A2381C03803807
0E00EA01F814147F9317>I<EA1C7CEAFD87381E018014C0381C00E014F014701478A614
7014F014E0381E01C0EB0380381D8700EA1C7C90C7FCA8B47E151D7E9319>I<EA1CF0EA
FD18EA1E3CA21318EA1C00AEEAFFC00E147E9312>114 D<EA0FC8EA3038EA6018EAC008
A3EAE000127CEA3FE0EA1FF0EA07F8EA003CEA800E130612C0A21304EAE00CEAD818EA87
E00F147F9312>I<1202A31206A2120EA2123EEAFFF8EA0E00AB1304A5EA07081203EA01
F00E1C7F9B12>I<381C0380EAFC1FEA1C03AE1307120CEA061B3803E3F014147E9319>I<
38FF83F8383E00E0001C13C06C1380A338070100A21383EA0382A2EA01C4A213E4EA00E8
A21370A3132015147F9318>I<39FF9FE1FC393C078070391C030060EC8020000E1440A2
14C0D80704138014E0A239038861001471A23801D032143A143E3800E01CA2EB6018EB40
081E147F9321>I<38FF83F8383E00E0001C13C06C1380A338070100A21383EA0382A2EA
01C4A213E4EA00E8A21370A31320A25BA3EAF080A200F1C7FC1262123C151D7F9318>
121 D E /Fu 1 4 df<1203A4EAC30CEAE31CEA7338EA1FE0EA0780A2EA1FE0EA7338EA
E31CEAC30CEA0300A40E127D9215>3 D E /Fv 12 116 df<1418A3143CA2147EA314BF
149FA29038010F80A390380207C0A3496C7EA2010C7FEB0801A201107F1400A249137C90
383FFFFCA2903840003EA3497FA20001158090C7120FA2000215C015071207D81F80EB0F
E0D8FFF090B5FCA2282A7EA92D>65 D<B7FCA23907E0003F00031407ED03801501A21500
A416405CA21600A25CA2140F90B5FCA2EBE00F1403A280A491C8FCAA487EB512C0A22229
7EA827>70 D<EBFE013803FF83380F81E3381E003748131F00387F00787F127000F07FA3
807EA26C90C7FC127E127FEA3FF0EA1FFE380FFFE06C13F86C7FC66C7EEB07FFEB007FEC
1F80140FEC07C0A26C1303A47E1580A26C13076C14006C130E00EE5B38C3C07838C1FFF0
38803FC01A2B7DA921>83 D<EA01FC380E0780381001C0383C00E0003E7F1478121C1208
C7FCA3EB7FF83803E078EA0F80EA1F00123E5A0078142012F8A314F8127C393C013C4039
1F063FC03907F80F001B1A7E991E>97 D<140F14FFA2141F80AC133F3801C0CF3803802F
380F001F121E001C7F123C127C1278A212F8A71278A27EA26C5B000E132F6CEB4F803901
C18FF038007E0F1C2A7EA921>100 D<137E3803C380380700E0000E13F0481370003C13
78143848133CA212F8A2B512FC00F8C7FCA51278127C003C1304A26C1308000E13106C13
203801C0C038007F00161A7E991B>I<131FEB70C0EBE1E0EA01C31203EB81C038078080
1400A9EAFFFEA2EA0780B3A37FEA7FFCA2132A7FA912>I<120FB4FCA2121F7EB3B2EAFF
F0A20C2A7EA911>108 D<380F07F038FF1838EB201C381F400E000F130F1380A21300B1
39FFF0FFF0A21C1A7E9921>110 D<137F3801C1C038070070000E7F487F003C131EA248
7FA200F81480A800781400A26C131EA26C5B000E13386C5B3801C1C0D8007FC7FC191A7E
991E>I<380F0F8038FF11C0EB23E0EA1F43EA0F83EB81C0EB800090C7FCB07FEAFFF8A2
131A7E9917>114 D<3807F840381C06C0EA3001EA6000A200E01340A27E6C1300127EEA
7FF0EA3FFEEA0FFF0003138038003FC01307388001E0A2EAC000A36C13C0EAF00100F813
8038C40700EA83F8131A7E9918>I E end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300dpi
TeXDict begin

%%EndSetup
%%Page: 1 1
1 0 bop 666 42 a Fv(A)20 b(F)-5 b(old)20 b(for)g(All)f(Seasons)1274
21 y Fu(\003)646 157 y Ft(Tim)c(Sheard)75 b(Leonidas)16
b(F)l(egaras)642 281 y(P)o(aci\014c)g(Soft)o(w)o(are)e(Researc)o(h)i
(Cen)o(ter)469 338 y(Departmen)o(t)e(of)h(Computer)g(Science)i(and)e
(Engineering)454 394 y(Oregon)g(Graduate)g(Institute)h(of)e(Science)j
(&)f(T)l(ec)o(hnology)645 451 y(19600)e(N.W.)g(v)o(on)h(Neumann)h(Driv)
o(e)704 507 y(Bea)o(v)o(erton,)e(OR)i(97006-1999)748
563 y Fs(f)p Fr(sheard,fega)o(ras)p Fs(g)o Fr(@cse.o)o(gi.e)o(du)-76
718 y Fq(Abstract)-76 796 y Fp(Generic)j(con)o(trol)g(op)q(erators,)h
(suc)o(h)f(as)f Fo(fold)p Fp(,)g(can)g(b)q(e)g(generated)-76
838 y(from)13 b(algebraic)i(t)o(yp)q(e)e(de\014nitions.)19
b(The)13 b(class)h(of)e(t)o(yp)q(es)i(to)e(whic)o(h)-76
879 y(these)20 b(tec)o(hniques)h(are)e(applicable)j(is)e(generalized)h
(to)e(all)h(alge-)-76 921 y(braic)12 b(t)o(yp)q(es)g(de\014nable)h(in)f
(languages)i(suc)o(h)e(as)f(Miranda)i(and)f(ML,)-76 962
y(i.e.)34 b(m)o(utually)21 b(recursiv)o(e)f(sums-of-pro)q(ducts)g(with)
g(tuples)g(and)-76 1004 y(function)c(t)o(yp)q(es.)21
b(Sev)o(eral)16 b(other)e(useful)i(generic)f(op)q(erators,)g(also)-76
1045 y(applicabl)q(e)g(to)e(ev)o(ery)h(t)o(yp)q(e)f(in)h(this)g(class,)
g(also)g(are)f(describ)q(ed.)-20 1087 y(A)19 b Fo(normalization)e
(algorithm)h Fp(whic)o(h)i(automaticall)q(y)i(calcu-)-76
1128 y(lates)f(impro)o(v)o(emen)o(ts)h(to)d(programs)i(expressed)h(in)e
(a)g(language)-76 1170 y(based)h(up)q(on)g(folds)f(is)h(describ)q(ed.)
39 b(It)20 b(reduces)g(programs,)i(ex-)-76 1211 y(pressed)d(using)h
(fold)f(as)g(the)f(exclusiv)o(e)j(con)o(trol)f(op)q(erator,)g(to)e(a)
-76 1253 y(canonical)g(form.)25 b(Based)17 b(up)q(on)g(a)f(generic)h
Fo(pr)n(omotion)d(the)n(or)n(em)p Fp(,)-76 1294 y(the)g(algorithm)j(is)
d(facilitated)j(b)o(y)d(the)g(explicit)j(structure)e(of)e(fold)-76
1336 y(programs)i(rather)f(than)h(using)g(an)f(analysis)i(phase)f(to)f
(searc)o(h)g(for)-76 1377 y(implicit)k(structure.)23
b(Canonical)17 b(programs)e(are)g(minimal)i(in)f(the)-76
1419 y(sense)j(that)f(they)h(con)o(tain)g(the)g(few)o(est)e(n)o(um)o(b)
q(er)i(of)f(fold)h(op)q(era-)-76 1460 y(tions.)e(Because)12
b(of)e(this)i(prop)q(ert)o(y)m(,)f(the)g(normalization)j(algorithm)-76
1502 y(has)h(imp)q(ortan)o(t)h(applications)i(in)d(program)g
(transformation,)h(op-)-76 1543 y(timization,)f(and)f(theorem)f(pro)o
(ving.)-20 1585 y(In)f(addition)i(a)e(generic)i(promotion)f(theorem)g
(is)f(iden)o(ti\014ed)i(for)-76 1626 y(eac)o(h)f(of)f(the)h(other)g(op)
q(erators.)18 b(It)12 b(is)h Fo(hop)n(e)n(d)e Fp(that)i(these)g
(theorems)-76 1668 y(can)j(b)q(e)g(the)g(basis)h(of)e(normalization)k
(algorithms)f(for)d(the)h(other)-76 1709 y(op)q(erators)e(as)f(w)o
(ell.)-76 1807 y Fq(1)41 b(Intro)q(duction)-76 1886 y
Fp(It)13 b(has)h(b)q(een)h(argued)f(that)g Fo(functional)d(languages)g
(ar)n(e)i(imp)n(ortant)-76 1927 y(b)n(e)n(c)n(ause)d(they)g(supp)n(ort)
g(forms)h(of)h(mo)n(dularity)d(that)i(ar)n(e)g(di\016cult)f(to)-76
1969 y(supp)n(ort)15 b(in)i(other)f(languages)d Fp([16,)j(10].)28
b(Recen)o(t)17 b(w)o(ork)g(b)o(y)g(Mal-)-76 2010 y(colm)c([12],)e
(Meijer,)i(F)m(okkinga,)h(and)e(P)o(aterson)h([13],)f(and)g(Co)q(c)o(k)
o(ett)-76 2052 y(with)e(the)g(programming)h(language)g
Fo(Charity)e Fp([2)o(])g(has)h(suggested)h(an)-76 2093
y(ev)o(en)i(higher)i(lev)o(el)f(of)f(mo)q(dularit)o(y)i(and)e
(abstraction)i(ma)o(y)e(b)q(e)g(ob-)-76 2135 y(tained)f(b)o(y)e(the)g
(use)h(of)f(generic)h(con)o(trol)h(structures)e(whic)o(h)h(capture)p
-76 2165 399 2 v -34 2186 a Fn(\003)-16 2199 y Fm(A)k(v)o(ersion)i(of)f
(this)h(pap)q(er)f(will)i(app)q(ear)d(in)i(the)f(Pro)q(ceedings)g(of)g
(the)-76 2232 y(Conference)10 b(on)h(F)m(unctional)h(Programming)e(and)
h(Computer)f(Arc)o(hitecture.)-76 2265 y(Cop)q(enhagen)g(June,)i(1993.)
h(Tim)e(Sheard)g(is)g(supp)q(orted)h(in)f(part)g(b)o(y)h(a)e(gran)o(t)
-76 2299 y(from)k(O)o(A)o(CIS)g(and)g(T)m(ektronix,)h(Leonidas)f(F)m
(egaras)f(is)h(supp)q(orted)g(b)o(y)h(con-)-76 2332 y(tract)c(D)o
(AAB07-91-C-Q518)d(\(ARP)m(A)j(order)f(n)o(um)o(b)q(er)j(018\))c(from)j
(D)o(ARP)m(A.)1020 718 y Fp(patterns)j(of)e(recursion)i(for)f(a)g
(large)g(class)h(of)e(t)o(yp)q(es)i(in)f(a)g(uniform)1020
759 y(w)o(a)o(y)m(.)j(This)c(is)h(imp)q(ortan)o(t)g(for)f(sev)o(eral)h
(reasons:)1076 839 y Fl(\017)k Fk(Abstraction.)f Fp(It)9
b(allo)o(ws)j(the)e(sp)q(eci\014cation)i(of)e(algorithms)1113
880 y(indep)q(enden)o(t)15 b(of)d(the)h(t)o(yp)q(e)f(of)g(data)h
(structures)g(they)g(are)f(to)1113 922 y(op)q(erate)f(on,)f(since)h
(the)f(con)o(trol)h(structure)g(of)e(the)h(algorithm)1113
963 y(is)k(generated)g(for)f(eac)o(h)g(datat)o(yp)q(e.)1076
1035 y Fl(\017)18 b Fk(Genericit)o(y)l(.)25 b Fp(It)15
b(allo)o(ws)i(the)f(statemen)o(t,)g(pro)q(of,)g(and)h(use)1113
1076 y(of)11 b(generic)i(theorems.)k(In)11 b(this)h(manner,)g(a)f
(theorem)h(can)g(b)q(e)1113 1118 y(stated)i(and)f(pro)o(v)o(ed)h(in)g
(the)f(abstract)g(and)h(then)f(applied)i(in)1113 1159
y(man)o(y)f(di\013eren)o(t)h(concrete)e(instances.)1076
1231 y Fl(\017)18 b Fk(Structure.)30 b Fp(Programming)20
b(with)d(recursiv)o(e)i(de\014nitions)1113 1272 y(and)13
b(higher)g(order)e(functions)i(is)g(a)e(p)q(o)o(w)o(erful)h(tec)o
(hnique)i(but)1113 1314 y(it)g(do)q(es)h(not)f(imp)q(ose)g(m)o(uc)o(h)g
(structure)h(on)f(the)f(form)h(of)f(the)1113 1355 y(programs)e(that)f
(ma)o(y)g(b)q(e)g(expressed.)17 b(This)11 b(desire)g(for)e(struc-)1113
1397 y(ture)17 b(is)f(motiv)n(ated)i(for)e(man)o(y)g(of)g(the)h(same)f
(reasons)h(that)1113 1438 y(the)j(\\structured)h(programming")h(metho)q
(dology)g(for)d(im-)1113 1480 y(p)q(erativ)o(e)e(programs)f(w)o(as)e
(motiv)n(ated,)i(but)g(it)f(has)g(an)h(ev)o(en)1113 1521
y(larger)g(pa)o(ybac)o(k.)24 b(While)17 b(structure)e(can)h(facilitate)
g(under-)1113 1563 y(standing)d(and)e(main)o(tainabil)q(i)q(t)o(y)i(in)
e(either)h(paradigm,)g(func-)1113 1604 y(tional)i(programs)f(are)f
(often)g(the)g(target)g(of)f(transformation)1113 1646
y(and)j(optimization)i(tec)o(hniques.)j(These)13 b(tec)o(hniques)i
(gener-)1113 1687 y(ally)j(searc)o(h)f(for)g(implicit)i(structure)e(in)
g(programs)g(to)g(v)n(al-)1113 1729 y(idate)j(particular)h
(transformations.)36 b(If)18 b(structure)i(is)f(ex-)1113
1770 y(plicit,)c(rather)f(than)g(implicit,)h(the)e(job)h(of)e(the)i
(transforma-)1113 1812 y(tion)g(system)g(is)f(made)h(easier.)1076
1892 y(It)c(is)h(imp)q(ortan)o(t)g(that)g(these)f(op)q(erators)h(b)q(e)
g(as)f(widely)i(applica-)1020 1933 y(ble)j(as)f(p)q(ossible)j(and)e
(that)f(transformation)i(tec)o(hniques)g(exploit-)1020
1975 y(ing)h(these)f(op)q(erators)h(b)q(e)f(dev)o(elop)q(ed,)i(th)o(us)
e(the)g(con)o(tribution)i(of)1020 2016 y(this)c(w)o(ork)f(is)g(t)o(w)o
(o)g(fold:)1076 2088 y Fl(\017)18 b Fp(First,)g(while)f(these)f(op)q
(erators)h(ha)o(v)o(e)g(previously)i(b)q(een)d(re-)1113
2129 y(stricted)22 b(to)e(simple)h(sums-of-pro)q(ducts)h(datat)o(yp)q
(es,)h(they)1113 2171 y(are)11 b(in)g(fact)e(m)o(uc)o(h)i(more)f
(general.)18 b(In)10 b(this)h(pap)q(er)g(w)o(e)e(extend)1113
2212 y(these)i(con)o(trol)h(structures)g(to)e(m)o(utually)j(recursiv)o
(e)f(sums-of-)1113 2254 y(pro)q(ducts)j(with)e(tuples)h(and)g(function)
g(t)o(yp)q(es.)1076 2325 y Fl(\017)k Fp(Second,)e(rather)f(than)g(use)g
(general)h(la)o(ws)f(ab)q(out)g(these)g(op-)1113 2366
y(erators)20 b(in)g(an)f(ad)g(ho)q(c)h(w)o(a)o(y)m(,)f(w)o(e)g(sho)o(w)
g(that)g(these)h(la)o(ws)1113 2408 y(can)f(supp)q(ort)g
Fo(c)n(alculation-)o(b)n(as)o(e)n(d)14 b Fp(\(rather)19
b(than)g(a)f(searc)o(h-)1113 2450 y(based\))i(program)f(transformation)
g(metho)q(ds.)34 b(W)m(e)18 b(in)o(tro-)1113 2491 y(duce)h(a)g
Fo(normalization)c(algorithm)i Fp(whic)o(h)i(automatically)1113
2533 y(calculates)i(impro)o(v)o(emen)o(ts)e(to)f(programs)h(expressed)g
(in)g(a)1113 2574 y(language)i(based)e(up)q(on)h(one)f(of)f(these)h(op)
q(erators.)34 b(It)18 b(re-)1113 2616 y(duces)13 b(programs,)g
(\(expressed)g(using)h(fold)e(as)h(the)f(exclusiv)o(e)p
eop
%%Page: 2 2
2 1 bop 18 -34 a Fp(con)o(trol)12 b(op)q(erator\),)h(to)f(a)f
(canonical)k(form.)h Fo(Canonic)n(al)9 b Fp(pro-)18 7
y(grams)14 b(are)g(minimal)i(in)f(the)f(sense)g(that)g(they)h(con)o
(tain)g(the)18 49 y(few)o(est)d(n)o(um)o(b)q(er)i(of)f(fold)g(op)q
(erations.)-20 120 y(The)h(normalization)i(algorithm)g(exploits)g(the)d
(explicit)j(struc-)-76 162 y(ture)k(of)g(fold)h(programs.)39
b(Therefore)21 b(programs)g(in)f(this)h(form)-76 203
y(can)d(b)q(e)f(transformed)h(using)g(fully)h(automated)f(to)q(ols.)30
b(Because)-76 245 y(canonical)23 b(programs)e(are)f(minimal,)k(the)c
(normalization)j(algo-)-76 286 y(rithm)c(has)g(imp)q(ortan)o(t)h
(applications)i(in)d(program)g(transforma-)-76 328 y(tion,)14
b(optimization,)h(and)f(theorem)g(pro)o(ving.)k(F)m(or)13
b(example:)-20 407 y Fl(\017)19 b Fp(Automation)10 b(of)e(the)h
(unfold-simpli)q(fy-fold)j(metho)q(d)e([4)o(])f(with-)18
449 y(out)j(the)h(in)o(terv)o(en)o(tion)i(of)d(explicit)j(la)o(ws.)i
(In)12 b(addition,)j(\\eu-)18 490 y(rek)n(a")e(steps)h(are)g(not)g
(necessary)g(here)g(during)h(folding)h(to)d(a)18 532
y(function)j(call)g(as)f(they)h(are)f(incorp)q(orated)i(in)f(the)f
(general-)18 573 y(ization)f(part)g(of)e(the)i(normalization)i
(algorithm.)-20 645 y Fl(\017)j Fp(Automation)11 b(of)e(the)h(tec)o
(hniques)i(of)e(listlessness,)j(deforesta-)18 686 y(tion)18
b(and)f(fusion)i([15,)d(1,)h(8,)g(14])g(for)f(a)h(class)h(of)f(fold)h
(pro-)18 728 y(grams.)e(These)11 b(tec)o(hniques)i(remo)o(v)o(e)f
(unnecessary)h(in)o(terme-)18 769 y(diate)h(data)f(structures)h(pro)q
(duced)g(during)h(nested)f(calls.)-20 841 y Fl(\017)19
b Fp(Automation)c(of)f(a)g(simple)h(form)f(of)g(partial)h(ev)n
(aluation.)23 b(If)18 882 y(the)11 b(parameter)h(of)f(a)g(fold)h(term)f
(is)h(instan)o(tiated)h(with)f(other)18 924 y(fold)i(terms,)f(\(for)h
(example)h(a)f(piece)g(of)g(\\data",)g(i.e.)19 b(a)14
b(con-)18 965 y(stan)o(t)19 b(or)h(ground)h(term)e(constructed)i
(wholly)g(from)e(con-)18 1007 y(structors\),)f(then)g(the)g
(normalization)i(algorithm)g(will)f(re-)18 1048 y(duce)14
b(this)g(program)h(in)o(to)f(canonical)i(form)e(that)f(is)i(sp)q
(eci\014c)18 1090 y(to)e(these)i(instan)o(tiations)i(and,)d
(furthermore,)h(an)o(y)f(\\paths")18 1131 y(in)e(the)f(original)j
(program)f(not)e(reac)o(hable)i(with)f(the)g(curren)o(t)18
1173 y(data)h(will)i(b)q(e)e(remo)o(v)o(ed)g(from)g(the)g(resulting)j
(program.)-20 1244 y Fl(\017)j Fp(Theorem)14 b(Pro)o(ving.)24
b(The)14 b(equalit)o(y)j(of)d(t)o(w)o(o)g(programs)i(can)18
1286 y(b)q(e)f(c)o(hec)o(k)o(ed)h(b)o(y)g(reducing)h(them)e(b)q(oth)h
(to)g(canonical)h(form)18 1327 y(and)c(comparing)i(the)e(results.)-20
1407 y(In)d(Section)i(2)e(w)o(e)g(review)h(the)g(w)o(ork)f(of)g
(Meijer,)h(et)f(al.)17 b([13].)e(W)m(e)-76 1448 y(b)q(egin)j(b)o(y)f
(in)o(tro)q(ducing)j(a)c(di\013eren)o(t)i(notation)h(whic)o(h)e
(originates)-76 1490 y(from)12 b(the)h(w)o(ork)f(of)g(Hagino)i([9])e
(and)h(is)g(extended)g(b)o(y)g(Co)q(c)o(k)o(ett)f([2].)-76
1531 y(W)m(e)18 b(feel)h(that)f(this)h(notation)g(mak)o(es)g(these)f
(ideas)h(more)f(acces-)-76 1573 y(sible)f(to)e(functional)i
(programmers.)25 b(W)m(e)15 b(conclude)i(this)f(section)-76
1614 y(b)o(y)h(using)h(this)g(notation)g(to)f(formally)h(de\014ne)g
(the)f(familiar)h(fold)-76 1656 y(op)q(erator)c(for)f(simple)h
(algebraic)i(t)o(yp)q(es.)-20 1698 y(In)d(Sections)h(3)e(and)h(4)g(w)o
(e)f(extend)h(this)h(notation)g(to)e(co)o(v)o(er)h(the)-76
1739 y(complete)e(set)f(of)f(t)o(yp)q(es)i(de\014nable)h(in)e
(languages)i(suc)o(h)f(as)e(Miranda)-76 1781 y(and)16
b(ML)f(b)o(y)g(extending)i(it)e(to)g(co)o(v)o(er)g(m)o(utually)i
(recursiv)o(e)f(sums-)-76 1822 y(of-pro)q(ducts)e(with)g(function)g(t)o
(yp)q(es.)-20 1864 y(In)9 b(Section)i(5)e(w)o(e)f(de\014ne)i(a)f(term)g
(language)i(in)f(whic)o(h)g(fold)f(is)h(the)-76 1905
y(only)k(con)o(trol)g(structure,)f(and)g(in)o(tro)q(duce)h(a)f
(reduction)h(algorithm)-76 1947 y(whic)o(h)19 b(w)o(e)f(pro)o(v)o(e)g
(reduces)h(fold)g(programs)g(to)f(canonical)j(form.)-76
1988 y(One)13 b(example)i(of)d(a)h(reduction)i(is)f(describ)q(ed.)-20
2030 y(In)e(Sections)h(6)f({)g(7)f(w)o(e)h(use)g(our)g(notation)h(to)f
(de\014ne)h(a)e(n)o(um)o(b)q(er)-76 2071 y(of)e(other)h(patterns)g(of)f
(recursion)i(in)f(v)n(arious)h(lev)o(els)f(of)f(detail.)18
b(Eac)o(h)-76 2113 y(pattern)c(is)f(accompanied)j(b)o(y)d(a)g(generic)h
(promotion)h(theorem.)-20 2154 y(In)k(Section)g(8)g(w)o(e)e(brie\015y)j
(compare)f(our)g(w)o(ork)f(to)g(previous)-76 2196 y(results.)-20
2237 y(In)13 b(the)g(last)h(section)g(w)o(e)f(conclude)i(and)e(discuss)
i(future)e(w)o(ork.)-76 2335 y Fq(2)41 b(Background)-76
2413 y Fp(In)15 b(this)h(section)g(w)o(e)e(review)i(previous)h(w)o(ork)
e([12,)f(13)q(])g(and)i(in)o(tro-)-76 2455 y(duce)e(an)f(alternativ)o
(e)i(notation)g(that)e(will)i(facilitate)f(extension.)1020
-34 y Fq(2.1)41 b(Simple)13 b(T)m(yp)q(es)1020 31 y Fp(The)d(t)o(yp)q
(e)g(de\014nitions)j(considered)f(in)f(this)f(section)h(are)f(the)g
(simple)1020 73 y(sums-of-pro)q(duct)15 b(t)o(yp)q(es)f(de\014ned)i(b)o
(y)e(using)h(recursiv)o(e)g(equations)1020 114 y(of)e(the)g(form:)1170
185 y Fj(T)5 b Fp(\()p Fj(\013)1237 189 y Fi(1)1255 185
y Fj(;)h(:)g(:)g(:)g(;)g(\013)1365 189 y Fh(p)1383 185
y Fp(\))37 b(=)85 b Fj(C)1577 189 y Fi(1)1595 185 y Fp(\()p
Fj(t)1624 189 y Fi(1)p Fh(;)p Fi(1)1666 185 y Fj(;)6
b(:)g(:)g(:)g(;)g(t)1765 189 y Fi(1)p Fh(;m)1816 194
y Fg(1)1835 185 y Fp(\))1502 226 y Fl(j)48 b(\001)6 b(\001)g(\001)1502
298 y(j)37 b Fj(C)1577 302 y Fh(n)1599 298 y Fp(\()p
Fj(t)1628 302 y Fh(n;)p Fi(1)1674 298 y Fj(;)6 b(:)g(:)g(:)g(;)g(t)1773
302 y Fh(n;m)1828 306 y Ff(n)1851 298 y Fp(\))1020 378
y(where)12 b Fj(\013)1155 382 y Fi(1)1172 378 y Fj(;)6
b(:)g(:)g(:)g(;)g(\013)1282 382 y Fh(p)1312 378 y Fp(denote)12
b(t)o(yp)q(e)h(v)n(ariables,)h(the)e Fj(C)1781 382 y
Fh(i)1806 378 y Fp(are)g(names)g(of)1020 419 y(v)n(alue)f(constructor)g
(functions,)g(and)f Fj(t)1574 423 y Fh(i;j)1621 419 y
Fp(are)f(either)i(t)o(yp)q(e)f(v)n(ariables)1020 461
y(\(in)j(the)g(set)f Fj(\013)1229 465 y Fi(1)1246 461
y Fj(;)6 b(:)g(:)g(:)g(;)g(\013)1356 465 y Fh(p)1374
461 y Fp(\))12 b(or)g(instan)o(tiations)k(of)c(sums-of-pro)q(ducts)1020
502 y(t)o(yp)q(es,)j(includin)q(g)i(uniform)1432 486
y Fi(1)1465 502 y Fp(use)e(of)f(the)h(t)o(yp)q(e)g Fj(T)20
b Fp(itself.)j(No)14 b(m)o(u-)1020 544 y(tually)g(recursiv)o(e)f(t)o
(yp)q(es)f(or)g(t)o(yp)q(es)g(with)h(tuples)g(or)e(function)j(t)o(yp)q
(es)1020 585 y(are)c(allo)o(w)o(ed.)17 b(W)m(e)10 b(will)h(lift)f
(these)g(restrictions)h(in)f(Sections)h(3)f(and)g(4)1076
627 y(F)m(or)15 b(example,)h(the)f(follo)o(wing)i(are)e(simple)i
(sums-of-pro)q(ducts)1020 668 y(t)o(yp)q(e)c(de\014nitions:)1150
746 y(b)q(o)q(olean)39 b(=)f(F)m(alse)22 b Fl(j)f Fp(T)m(rue)1107
788 y(pro)q(d)q(\()p Fj(\013;)6 b(\014)r Fp(\))36 b(=)i(P)o(air)q(\()p
Fj(\013;)5 b(\014)r Fp(\))1174 829 y(list)r(\()p Fj(\013)p
Fp(\))36 b(=)i(Nil)22 b Fl(j)f Fp(Cons)q(\()p Fj(\013;)5
b Fp(list)r(\()p Fj(\013)p Fp(\)\))1234 871 y(in)o(t)38
b(=)g(Zero)22 b Fl(j)f Fp(Succ)q(\(in)o(t\))1161 912
y(tree)q(\()p Fj(\013)p Fp(\))36 b(=)i(Tip\()p Fj(\013)p
Fp(\))21 b Fl(j)g Fp(No)q(de)q(\(tree\()p Fj(\013)p Fp(\))p
Fj(;)5 b Fp(tree\()p Fj(\013)p Fp(\)\))1146 954 y(bush)r(\()p
Fj(\013)p Fp(\))36 b(=)i(Leaf\()p Fj(\013)p Fp(\))21
b Fl(j)g Fp(Branc)o(h)q(\(list)q(\(bush)q(\()p Fj(\013)p
Fp(\)\)\))1020 1034 y(F)m(unctions)13 b(manipulati)q(ng)i(v)n(alues)e
(of)e(these)i(t)o(yp)q(es)f(will)h(use)f(a)g(pat-)1020
1075 y(tern)j(of)g(recursion)i(related)g(to)e(the)g(pattern)h(of)f
(recursion)i(in)f(the)1020 1117 y(t)o(yp)q(e)f(de\014nitions.)26
b(T)m(o)14 b(capture)i(these)g(patterns)f(w)o(e)g(turn)g(to)g(the)1020
1158 y(categorical)g(notion)g(of)d(a)h(functor.)1020
1252 y Fq(2.2)41 b(F)o(uncto)o(rs)1020 1318 y Fp(W)m(e)16
b(de\014ne)h(b)q(elo)o(w)g(the)f(functor,)h Fj(E)r Fp(,)g(\(whic)o(h)g
(is)f(really)i(the)e(mor-)1020 1359 y(phism)h(part)f(of)f(a)h
(categorical)i(functor\).)25 b(The)16 b(prop)q(ert)o(y)g(of)g(an)o(y)
1020 1401 y(functor,)d Fj(F)5 b Fp(,)12 b(that)i(w)o(e)e(require)i(is:)
1051 1480 y Fj(F)5 b Fp(\()p Fj(f)1115 1484 y Fi(1)1132
1480 y Fj(;)h(:)g(:)g(:)g(;)g(f)1236 1484 y Fh(n)1257
1480 y Fp(\))j Fl(\016)f Fj(F)d Fp(\()p Fj(h)1375 1484
y Fi(1)1393 1480 y Fj(;)h(:)g(:)g(:)g(;)g(h)1500 1484
y Fh(n)1521 1480 y Fp(\))22 b(=)f Fj(F)5 b Fp(\()p Fj(f)1673
1484 y Fi(1)1698 1480 y Fl(\016)k Fj(h)1748 1484 y Fi(1)1765
1480 y Fj(;)d(:)g(:)g(:)g(;)h(f)1870 1484 y Fh(n)1899
1480 y Fl(\016)i Fj(h)1949 1484 y Fh(n)1970 1480 y Fp(\))1020
1558 y(whic)o(h)14 b(ma)o(y)f(easily)i(b)q(e)e(v)o(eri\014ed)i(for)d
(our)i(de\014nition)h(b)q(elo)o(w.)1020 1630 y Fk(De\014nition)d(1)j
(\(The)g(F)l(unctor)f Fj(E)r Fk(\))19 b Fo(Asso)n(ciate)n(d)7
b(with)i(e)n(ach)f(c)n(on-)1020 1671 y(structor,)13 b
Fj(C)1205 1675 y Fh(i)1231 1671 y Fp(:)18 b(\()p Fj(t)1289
1675 y Fh(i;)p Fi(1)1327 1671 y Fj(;)6 b(:)g(:)g(:)g(;)g(t)1426
1675 y Fh(i;m)1473 1680 y Ff(i)1489 1671 y Fp(\))13 b
Fl(!)f Fj(T)5 b Fp(\()p Fj(\013)1634 1675 y Fi(1)1652
1671 y Fj(;)h(:)g(:)g(:)g(;)g(\013)1762 1675 y Fh(p)1780
1671 y Fp(\))15 b Fo(is)f(a)g Fp(\()p Fj(p)9 b Fp(+)g(1\))p
Fo(-)1020 1713 y(adic)j(functor)1236 1697 y Fi(2)1253
1713 y Fo(:)1046 1795 y Fj(E)1076 1779 y Fh(T)1074 1802
y(i)1101 1795 y Fp(\()p Fj(f)1135 1799 y Fi(1)1152 1795
y Fj(;)6 b(:)g(:)g(:)g(;)g(f)1256 1799 y Fh(p)1274 1795
y Fj(;)g(f)1310 1799 y Fh(T)1334 1795 y Fp(\))21 b(=)1196
1836 y Fj(\025)p Fp(\()p Fj(x)1255 1840 y Fh(i;)p Fi(1)1293
1836 y Fj(;)6 b(:)g(:)g(:)g(;)h(x)1401 1840 y Fh(i;m)1448
1845 y Ff(i)1463 1836 y Fp(\))p Fj(:)p Fp(\()p Fj(K)s
Fp([)p Fj(t)1565 1840 y Fh(i;)p Fi(1)1601 1836 y Fp(])p
Fj(x)1634 1840 y Fh(i;)p Fi(1)1672 1836 y Fj(;)f(:)g(:)g(:)g(;)g(K)s
Fp([)p Fj(t)1818 1840 y Fh(i;m)1865 1845 y Ff(i)1880
1836 y Fp(])p Fj(x)1913 1840 y Fh(i;m)1960 1845 y Ff(i)1975
1836 y Fp(\))1020 1918 y Fo(wher)n(e)17 b(the)f(b)n(ound)f(variables,)g
Fj(x)1510 1922 y Fh(i;j)1563 1918 y Fo(have)h(typ)n(e,)g
Fj(t)1765 1922 y Fh(i;j)1802 1918 y Fo(,)h(and)f Fj(K)s
Fp([)p Fj(t)1970 1922 y Fh(i;j)2006 1918 y Fp(])1020
1960 y Fo(r)n(epr)n(esents)e(a)h(function)f(that)g(c)n(an)h(b)n(e)h
(obtaine)n(d)d(by)i(the)g(fol)r(lowing)1020 2001 y(rules:)1310
2080 y Fj(K)s Fp([)p Fj(\013)1382 2084 y Fh(k)1399 2080
y Fp(])37 b(=)h Fj(f)1534 2084 y Fh(k)1967 2080 y Fp(\(1\))1126
2134 y Fj(K)s Fp([)p Fj(T)5 b Fp(\()p Fj(\013)1240 2138
y Fi(1)1256 2134 y Fj(;)h(:)g(:)h(:)f(;)g(\013)1367 2138
y Fh(p)1384 2134 y Fp(\)])37 b(=)h Fj(f)1534 2138 y Fh(T)1967
2134 y Fp(\(2\))1150 2195 y Fj(K)s Fp([)p Fj(S)r Fp(\()p
Fj(t)1251 2199 y Fi(1)1268 2195 y Fj(;)6 b(:)g(:)g(:)g(;)g(t)1367
2199 y Fh(q)1384 2195 y Fp(\)])37 b(=)h(map)1587 2177
y Fh(S)1620 2195 y Fp(\()p Fj(K)s Fp([)p Fj(t)1696 2199
y Fi(1)1712 2195 y Fp(])p Fj(;)6 b(:)g(:)g(:)g(;)g(K)s
Fp([)p Fj(t)1869 2199 y Fh(q)1885 2195 y Fp(]\))56 b(\(3\))1020
2279 y Fo(wher)n(e)10 b Fp(map)1198 2263 y Fh(S)1220
2279 y Fo(,)h(for)g(a)f(pr)n(eviously)e(de\014ne)n(d)g(typ)n(e)i
Fj(S)r Fp(\()p Fj(\013)1777 2283 y Fi(1)1794 2279 y Fj(;)c(:)g(:)g(:)h
(;)f(\013)1905 2283 y Fh(q)1921 2279 y Fp(\))p Fo(,)11
b(c)n(an)1020 2325 y(b)n(e)i(de\014ne)n(d)e(using)h(the)h(functors,)e
Fj(E)1552 2309 y Fh(S)1550 2332 y(i)1575 2325 y Fo(:)1020
2409 y Fp(\(map)1108 2391 y Fh(S)1130 2409 y Fp(\()p
Fj(f)1164 2413 y Fi(1)1181 2409 y Fj(;)6 b(:)g(:)g(:)g(;)g(f)1285
2413 y Fh(q)1302 2409 y Fp(\)\))p Fl(\016)p Fj(C)1378
2413 y Fh(i)1413 2409 y Fp(=)21 b Fj(C)1491 2413 y Fh(i)1505
2409 y Fl(\016)p Fp(\()p Fj(E)1569 2391 y Fh(S)1567 2415
y(i)1591 2409 y Fp(\()p Fj(f)1625 2413 y Fi(1)1642 2409
y Fj(;)6 b(:)g(:)g(:)g(;)g(f)1746 2413 y Fh(q)1763 2409
y Fj(;)g Fp(map)1853 2391 y Fh(S)1875 2409 y Fp(\()p
Fj(f)1909 2413 y Fi(1)1926 2409 y Fj(;)g(:)g(:)g(:)g(;)g(f)2030
2413 y Fh(q)2047 2409 y Fp(\)\)\))p 1020 2441 399 2 v
1062 2468 a Fi(1)1080 2480 y Fm(By)k Fe(uniform)e Fm(w)o(e)h(mean)g
(that)g(recursiv)o(e)h(use)g(of)f(the)h(t)o(yp)q(e)g(constructor)e
Fd(T)1020 2513 y Fm(is)g(restricted)g(to)g(applications)g(to)f(the)h
(free)g(t)o(yp)q(e)g(v)n(ariables)h(in)f(the)g(same)g(order)1020
2547 y(as)j(they)h(app)q(ear)e(on)h(the)h(left)f(hand)h(side)g(of)f
(the)g(recursiv)o(e)h(t)o(yp)q(e)f(equation.)1062 2573
y Fi(2)1080 2585 y Fm(Where)f Fd(p)g Fm(is)h(the)g(n)o(um)o(b)q(er)g
(of)f(univ)o(ersally)j(quan)o(ti\014ed)e(t)o(yp)q(e)g(v)n(ariables)g
(in)1020 2618 y(the)g(left)h(hand)g(side)f(of)g Fd(T)t
Fm('s)h(t)o(yp)q(e)g(equation.)961 2747 y Fp(2)p eop
%%Page: 3 3
3 2 bop -76 -34 a Fp(F)m(or)13 b(example,)h(for)f(t)o(yp)q(e)g
Fj(l)q(ist)p Fp(:)137 43 y Fj(E)165 47 y Fh(N)s(il)215
43 y Fp(\()p Fj(f)r(;)5 b(g)q Fp(\))63 b(=)37 b Fj(\025)p
Fp(\(\))p Fj(:)p Fp(\(\))137 85 y Fj(E)165 89 y Fh(C)r(ons)240
85 y Fp(\()p Fj(f)r(;)5 b(g)q Fp(\))38 b(=)f Fj(\025)p
Fp(\()p Fj(x;)6 b(y)q Fp(\))p Fj(:)p Fp(\()p Fj(f)k(x;)17
b(g)8 b(y)q Fp(\))-76 165 y(and)14 b(for)f Fj(bush)p
Fp(:)93 235 y Fj(E)121 239 y Fh(Leaf)194 235 y Fp(\()p
Fj(f)r(;)5 b(g)q Fp(\))75 b(=)37 b Fj(\025)p Fp(\()p
Fj(x)p Fp(\))p Fj(:)p Fp(\()p Fj(f)10 b(x)p Fp(\))93
281 y Fj(E)121 285 y Fh(B)q(r)q(anch)231 281 y Fp(\()p
Fj(f)r(;)5 b(g)q Fp(\))38 b(=)f Fj(\025)p Fp(\()p Fj(x)p
Fp(\))p Fj(:)p Fp(\(map)595 265 y Fh(list)655 281 y Fp(\()p
Fj(g)q Fp(\))11 b Fj(x)p Fp(\))-76 361 y(where)-20 435
y(map)52 419 y Fh(list)112 435 y Fp(\()p Fj(f)t Fp(\))g(Nil)181
b(=)37 b(Nil)-20 481 y(map)52 465 y Fh(list)112 481 y
Fp(\()p Fj(f)t Fp(\))11 b(\(Cons\()p Fj(a;)6 b(l)q Fp(\)\))38
b(=)f(Cons\()p Fj(f)15 b(a;)6 b Fp(map)714 465 y Fh(list)775
481 y Fp(\()p Fj(f)t Fp(\))k Fj(l)q Fp(\))-76 576 y Fq(2.3)41
b(F)o(olds)-76 641 y Fp(With)12 b(this)f(notation)i(it)e(is)g(no)o(w)g
(p)q(ossible)i(to)d(describ)q(e)i(the)f(familiar)-76
683 y Fo(fold)k Fp(\(catamorphism)k([13]\))c(op)q(erator)j(for)e(an)o
(y)h(simple)h(sums-of-)-76 724 y(pro)q(ducts)c(t)o(yp)q(e.)-76
804 y Fk(De\014nition)f(2)h(\(F)l(old\))19 b Fo(The)10
b(fold)g(function)f(over)h Fj(T)5 b Fp(\()p Fj(\013)749
808 y Fi(1)773 804 y Fj(:)h(:)g(:)g(\013)849 808 y Fh(p)867
804 y Fp(\))11 b Fo(is)-76 845 y(de\014ne)n(d)j(by)i(the)f(fol)r
(lowing)g(set)g(of)h(r)n(e)n(cursive)e(e)n(quations,)g(one)h(for)-76
887 y(e)n(ach)d(c)n(onstructor,)f Fj(C)251 891 y Fh(i)265
887 y Fo(:)10 971 y Fp(\(fold)88 953 y Fh(T)113 971 y
Fp(\()p 128 940 23 2 v Fj(f)s Fp(\)\))e Fl(\016)f Fj(C)243
975 y Fh(i)268 971 y Fp(=)i Fj(f)327 975 y Fh(i)348 971
y Fl(\016)f Fp(\()p Fj(E)421 953 y Fh(T)419 977 y(i)446
971 y Fp(\()p Fj(id)494 975 y Fi(1)511 971 y Fj(;)d(:)g(:)g(:)g(;)g(id)
629 975 y Fh(p)647 971 y Fj(;)h Fp(fold)727 953 y Fh(T)752
971 y Fp(\()p 767 940 V Fj(f)s Fp(\)\)\))-76 1056 y Fo(wher)n(e)p
31 1025 V 12 w Fj(f)15 b Fp(=)10 b(\()p Fj(f)139 1060
y Fi(1)156 1056 y Fj(;)c(:)g(:)g(:)g(;)h(f)261 1060 y
Fh(n)281 1056 y Fp(\))13 b Fo(and)e(for)i(e)n(ach)e(index)g
Fj(j)r Fo(,)h Fj(id)704 1060 y Fh(j)733 1056 y Fo(is)g(the)g(iden-)-76
1097 y(tity)h(function.)-76 1177 y Fp(W)m(e)g(call)i(eac)o(h)e
Fj(f)166 1181 y Fh(i)192 1177 y Fp(in)p 237 1146 V 14
w Fj(f)j Fp(an)d Fo(ac)n(cumulating)e(function)p Fp(.)-20
1218 y(F)m(or)i(example,)h(the)f(list)i(fold)e(is)h(de\014ned)g(as:)-23
1300 y(fold)40 1284 y Fh(list)101 1300 y Fp(\()p Fj(f)135
1304 y Fh(n)155 1300 y Fj(;)6 b(f)191 1304 y Fh(c)207
1300 y Fp(\))11 b(Nil)22 b(=)f Fj(f)374 1304 y Fh(n)395
1300 y Fp(\(\))-23 1346 y(fold)40 1330 y Fh(list)101
1346 y Fp(\()p Fj(f)135 1350 y Fh(n)155 1346 y Fj(;)6
b(f)191 1350 y Fh(c)207 1346 y Fp(\))11 b(\(Cons\()p
Fj(a;)6 b(l)q Fp(\)\))22 b(=)f Fj(f)517 1350 y Fh(c)533
1346 y Fp(\()p Fj(a;)6 b Fp(fold)648 1330 y Fh(list)708
1346 y Fp(\()p Fj(f)742 1350 y Fh(n)763 1346 y Fj(;)g(f)799
1350 y Fh(c)815 1346 y Fp(\))k Fj(l)q Fp(\))-76 1426
y(The)k(follo)o(wing)i(are)d(some)h(examples)i(of)d(computations)j
(that)e(can)-76 1467 y(b)q(e)f(de\014ned)i(using)f(folds:)-57
1549 y(cop)o(y)q(\()p Fj(x)p Fp(\))180 b(=)37 b(fold)382
1533 y Fh(list)432 1549 y Fp(\()p Fj(\025)p Fp(\(\))p
Fj(:)p Fp(Nil)q Fj(;)6 b(\025)p Fp(\()p Fj(a;)h(r)q Fp(\))p
Fj(:)p Fp(Cons\()p Fj(a;)f(r)q Fp(\)\))11 b Fj(x)-57
1595 y Fp(app)q(end)r(\()p Fj(x;)5 b(y)q Fp(\))98 b(=)37
b(fold)382 1579 y Fh(list)432 1595 y Fp(\()p Fj(\025)p
Fp(\(\))p Fj(:y)q(;)6 b(\025)p Fp(\()p Fj(a;)h(r)q Fp(\))p
Fj(:)p Fp(Cons\()p Fj(a;)f(r)q Fp(\)\))11 b Fj(x)-57
1640 y Fp(length)q(\()p Fj(x)p Fp(\))153 b(=)37 b(fold)382
1624 y Fh(list)432 1640 y Fp(\()p Fj(\025)p Fp(\(\))p
Fj(:)p Fp(Zero)p Fj(;)7 b(\025)p Fp(\()p Fj(a;)f(r)q
Fp(\))p Fj(:)p Fp(Succ)q(\()p Fj(r)q Fp(\)\))11 b Fj(x)-57
1685 y(x)d Fp(+)h Fj(y)221 b Fp(=)37 b(fold)382 1669
y Fh(int)426 1685 y Fp(\()p Fj(\025)p Fp(\(\))p Fj(:y)q(;)7
b(\025)p Fp(\()p Fj(r)q Fp(\))p Fj(:)p Fp(Succ)q(\()p
Fj(r)q Fp(\)\))k Fj(x)-57 1730 y(x)d Fl(\002)h Fj(y)221
b Fp(=)37 b(fold)382 1714 y Fh(int)426 1730 y Fp(\()p
Fj(\025)p Fp(\(\))p Fj(:)p Fp(Zero)q Fj(;)6 b(\025)p
Fp(\()p Fj(r)q Fp(\))p Fj(:y)k Fp(+)f Fj(r)q Fp(\))i
Fj(x)-57 1775 y(x)d Fl(^)g Fj(y)226 b Fp(=)37 b(fold)382
1760 y Fh(boolean)489 1775 y Fp(\()p Fj(\025)p Fp(\(\))p
Fj(:)p Fp(F)m(alse)q Fj(;)6 b(\025)p Fp(\(\))p Fj(:y)q
Fp(\))11 b Fj(x)-57 1821 y Fp(if)g Fj(x)f Fp(then)i Fj(y)g
Fp(else)f Fj(z)39 b Fp(=)e(fold)382 1805 y Fh(boolean)489
1821 y Fp(\()p Fj(\025)p Fp(\(\))p Fj(:z)r(;)5 b(\025)p
Fp(\(\))p Fj(:y)q Fp(\))11 b Fj(x)-20 1901 y Fp(The)19
b(general)i(la)o(w)e(whic)o(h)h(applies)h(to)e(all)h(fold)g(functions)h
(is)-76 1942 y(called)16 b(the)f Fo(pr)n(omotion)e(the)n(or)n(em)p
Fp(.)20 b(W)m(e)14 b(will)i(use)f(this)g(theorem)g(as)-76
1984 y(a)f(ma)r(jor)h(comp)q(onen)o(t)g(of)f(our)h(automated)g
(transformation)h(algo-)-76 2025 y(rithm,)h(called)g(the)f
Fo(normalization)d(algorithm)p Fp(.)23 b(The)16 b(promotion)-76
2067 y(theorem)e(states)f(that)g(the)g(comp)q(osition)j(of)c(an)o(y)i
(function)g Fj(g)h Fp(with)-76 2108 y(some)f(fold)g(is)g(another)g
(fold)g(whose)g(accum)o(ulating)i(functions)f(are)-76
2150 y(related)e(to)f(the)g(accum)o(ulating)i(functions)f(of)f(the)g
(original)i(fold)f(b)o(y)-76 2191 y(\014xed)i(equations.)23
b(The)15 b(normalization)i(algorithm)g(will)f(describ)q(e)-76
2233 y(ho)o(w)i(these)h(new)f(accum)o(ulating)j(functions)e(can)g(b)q
(e)f(calculated.)-76 2274 y(The)c(promotion)h(theorem)f(for)g(folds)g
(has)h(app)q(eared)g(in)f(the)g(liter-)-76 2316 y(ature)g(using)g(v)n
(arious)g(notations)h([12,)e(13]:)-76 2391 y Fk(Theorem)i(1)g(\(The)f
(F)l(old)g(Promotion)g(Theorem\))113 2475 y Fl(8)p Fj(i)e
Fp(:)21 b Fj(\036)214 2479 y Fh(i)235 2475 y Fl(\016)9
b Fj(E)293 2459 y Fh(T)291 2482 y(i)318 2475 y Fp(\()p
Fj(id)366 2479 y Fi(1)383 2475 y Fj(;)d(:)g(:)g(:)g(;)g(id)501
2479 y Fh(p)519 2475 y Fj(;)g(g)q Fp(\))22 b(=)f Fj(g)11
b Fl(\016)d Fj(f)718 2479 y Fh(i)p 95 2489 656 2 v 218
2538 a Fj(g)i Fl(\016)f Fp(fold)337 2522 y Fh(T)361 2538
y Fp(\()p 376 2507 23 2 v Fj(f)t Fp(\))21 b(=)g(fold)549
2522 y Fh(T)574 2538 y Fp(\()p 589 2507 V Fj(\036)o Fp(\))-76
2622 y Fo(Pr)n(o)n(of:)15 b Fp(Let)c Fj(\021)i Fp(=)d
Fj(g)d Fl(\016)e Fp(fold)292 2607 y Fh(T)316 2622 y Fp(\()p
331 2591 V Fj(f)t Fp(\))11 b(and)h Fj(C)480 2626 y Fh(i)505
2622 y Fp(a)f(constructor)h(of)f Fj(T)5 b Fp(.)17 b(Then)1020
-34 y Fj(\021)10 b Fl(\016)f Fj(C)1104 -30 y Fh(i)1128
-34 y Fp(=)k Fj(g)d Fl(\016)f Fp(fold)1290 -50 y Fh(T)1314
-34 y Fp(\()p 1329 -65 V Fj(f)t Fp(\))f Fl(\016)h Fj(C)1430
-30 y Fh(i)1128 12 y Fp(=)i Fj(g)f Fl(\016)f Fj(f)1244
16 y Fh(i)1265 12 y Fl(\016)g Fj(E)1323 -4 y Fh(T)1321
20 y(i)1347 12 y Fp(\()p Fj(id)1395 16 y Fi(1)1413 12
y Fj(;)d(:)g(:)g(:)g(;)g(id)1531 16 y Fh(p)1549 12 y
Fj(;)g Fp(fold)1629 -4 y Fh(T)1653 12 y Fp(\()p 1668
-19 V Fj(f)t Fp(\)\))1321 54 y(b)o(y)13 b(De\014nition)j(2)1128
101 y(=)11 b Fj(\036)1192 105 y Fh(i)1213 101 y Fl(\016)e
Fj(E)1271 85 y Fh(T)1269 108 y(i)1296 101 y Fp(\()p Fj(id)1344
105 y Fi(1)1361 101 y Fj(;)d(:)g(:)g(:)g(;)g(id)1479
105 y Fh(p)1497 101 y Fj(;)g(g)q Fp(\))j Fl(\016)g Fj(E)1615
85 y Fh(T)1613 108 y(i)1640 101 y Fp(\()p Fj(id)1688
105 y Fi(1)1705 101 y Fj(;)d(:)g(:)g(:)g(;)h(id)1824
105 y Fh(p)1842 101 y Fj(;)f Fp(fold)1922 85 y Fh(T)1946
101 y Fp(\()p 1961 70 V Fj(f)t Fp(\)\))1321 142 y(b)o(y)13
b(premise)1128 189 y(=)e Fj(\036)1192 193 y Fh(i)1213
189 y Fl(\016)e Fj(E)1271 173 y Fh(T)1269 196 y(i)1296
189 y Fp(\()p Fj(id)1344 193 y Fi(1)1361 189 y Fj(;)d(:)g(:)g(:)g(;)g
(id)1479 193 y Fh(p)1497 189 y Fj(;)g(g)11 b Fl(\016)d
Fp(fold)1633 173 y Fh(T)1658 189 y Fp(\()p 1673 158 V
Fj(f)s Fp(\)\))1321 230 y(b)o(y)13 b(comp)q(osition)j(under)e
Fj(E)1726 234 y Fh(i)1128 276 y Fp(=)d Fj(\036)1192 280
y Fh(i)1213 276 y Fl(\016)e Fj(E)1271 260 y Fh(T)1269
283 y(i)1296 276 y Fp(\()p Fj(id)1344 280 y Fi(1)1361
276 y Fj(;)d(:)g(:)g(:)g(;)g(id)1479 280 y Fh(p)1497
276 y Fj(;)g(\021)q Fp(\))1321 317 y(b)o(y)13 b(de\014nition)j(of)c
Fj(\021)1020 384 y Fp(Therefore,)k Fj(\021)11 b Fl(\016)g
Fj(C)1295 388 y Fh(i)1337 384 y Fp(=)29 b Fj(\036)1419
388 y Fh(i)1442 384 y Fl(\016)10 b Fj(E)1501 368 y Fh(T)1499
391 y(i)1526 384 y Fp(\()p Fj(id)1574 388 y Fi(1)1591
384 y Fj(;)c(:)g(:)h(:)f(;)g(id)1710 388 y Fh(p)1728
384 y Fj(;)g(\021)q Fp(\),)16 b(whic)o(h)g(sho)o(ws)1020
432 y(that)g Fj(\021)g Fp(has)g(a)f(form)g(of)g(a)h(fold)g(with)g
(accum)o(ulating)i(functions)p 1993 401 V 16 w Fj(\036)1020
473 y Fp(\(b)o(y)13 b(De\014nition)j(2\).)h(Th)o(us)c
Fj(\021)f Fp(=)f(fold)1561 457 y Fh(T)1585 473 y Fp(\()p
1600 442 V Fj(\036)p Fp(\).)17 b Fc(2)1076 515 y Fp(F)m(or)c(example)h
(the)g(promotion)g(theorem)g(for)e Fj(l)q(ist)h Fp(is:)1187
578 y Fj(\036)1210 582 y Fh(n)1231 578 y Fp(\(\))137
b(=)37 b Fj(g)q Fp(\()p Fj(f)1518 582 y Fh(n)1540 578
y Fp(\(\)\))1187 620 y Fj(\036)1210 624 y Fh(c)1225 620
y Fp(\()p Fj(a;)7 b(g)q Fp(\()p Fj(r)q Fp(\)\))38 b(=)f
Fj(g)q Fp(\()p Fj(f)1518 624 y Fh(c)1534 620 y Fp(\()p
Fj(a;)7 b(r)q Fp(\)\))p 1168 634 701 2 v 1187 681 a Fj(g)q
Fp(\(fold)1284 665 y Fh(list)1334 681 y Fp(\()p Fj(f)1368
685 y Fh(n)1388 681 y Fj(;)g(f)1425 685 y Fh(c)1440 681
y Fp(\))k Fj(x)p Fp(\))21 b(=)g(fold)1638 665 y Fh(list)1688
681 y Fp(\()p Fj(\036)1726 685 y Fh(n)1747 681 y Fj(;)6
b(\036)1787 685 y Fh(c)1802 681 y Fp(\))11 b Fj(x)1020
778 y Fq(3)41 b(T)m(yp)q(es)13 b(with)g(T)m(uples)g(and)g(Exp)q
(onentials)1020 856 y Fp(A)e(tuple)h(t)o(yp)q(e,)g Fj(T)5
b Fp(,)12 b(is)g(a)f(sums-of-pro)q(ducts)i(t)o(yp)q(e)f(where)f(the)h
(pro)q(d-)1020 898 y(ucts)h(ma)o(y)h(con)o(tain)g(tuple)g(t)o(yp)q(es,)
f Fj(t)1544 902 y Fi(1)1570 898 y Fl(\002)8 b Fj(:)e(:)h(:)h
Fl(\002)g Fj(t)1714 902 y Fh(n)1735 898 y Fp(.)17 b(F)m(or)c(example:)
1184 961 y(asso)q(ciation)r(\()p Fj(\013;)6 b(\014)r
Fp(\))37 b(=)g(Alist)q(\(list)r(\()p Fj(\013)8 b Fl(\002)g
Fj(\014)r Fp(\)\))1076 1027 y(An)h(exp)q(onen)o(tial)j(t)o(yp)q(e,)d
Fj(T)c Fp(,)10 b(is)g(a)f(sums-of-pro)q(ducts)h(t)o(yp)q(e)f(where)1020
1068 y(the)16 b(pro)q(ducts)h(ma)o(y)f(con)o(tain)h(function)g(t)o(yp)q
(es,)g Fj(\014)g Fl(!)f Fj(\015)r Fp(.)25 b(F)m(or)15
b(ex-)1020 1110 y(ample,)21 b(p)q(oten)o(tially)g(in\014nite)g(lists)f
(can)e(b)q(e)h(de\014ned)h(in)f(a)g(strict)1020 1152
y(language)c(as)e(an)h(exp)q(onen)o(tial)h(t)o(yp)q(e)f(as)f(follo)o
(ws:)1171 1215 y(ilist)r(\()p Fj(\013)p Fp(\))36 b(=)i(Inil)23
b Fl(j)e Fp(Icons\()p Fj(\013;)6 b Fp(\(\))k Fl(!)h Fp(ilist)r(\()p
Fj(\013)p Fp(\)\))1020 1281 y(where)19 b(\(\))f(is)i(the)f(unit)g(t)o
(yp)q(e)h(\(the)f(unique)h(t)o(yp)q(e)f(of)g(the)g(empt)o(y)1020
1322 y(tuple\).)1076 1364 y(T)m(o)c(de\014ne)i(a)e(fold)i(o)o(v)o(er)f
(sums-of-pro)q(ducts)h(with)f(tuples)g(and)1020 1405
y(function)11 b(t)o(yp)q(es)f(w)o(e)f(need)h(only)h(to)e(generalize)j
(the)e(functor,)g Fj(E)r Fp(.)16 b(W)m(e)1020 1447 y(do)d(this)h(b)o(y)
g(adding)g(the)g(follo)o(wing)h(rules)f(to)f Fj(K)i Fp(in)e
(De\014nition)j(1.)1170 1512 y Fj(K)s Fp([)p Fj(t)1231
1516 y Fi(1)1247 1512 y Fj(;)6 b(t)1278 1516 y Fi(2)1296
1512 y Fp(])37 b(=)g Fj(\025)p Fp(\()p Fj(x)1470 1516
y Fi(1)1487 1512 y Fj(;)6 b(x)1526 1516 y Fi(2)1543 1512
y Fp(\))p Fj(:)g Fp(\()p Fj(K)s Fp([)p Fj(t)1651 1516
y Fi(1)1667 1512 y Fp(])g Fj(x)1706 1516 y Fi(1)1723
1512 y Fj(;)g(K)s Fp([)p Fj(t)1801 1516 y Fi(2)1817 1512
y Fp(])g Fj(x)1856 1516 y Fi(2)1874 1512 y Fp(\))78 b(\(4\))1148
1566 y Fj(K)s Fp([)p Fj(u)9 b Fl(!)j Fj(v)q Fp(])37 b(=)g
Fj(\025)7 b(h:)j(K)s Fp([)p Fj(v)q Fp(])d Fl(\016)i Fj(h)f
Fl(\016)h Fj(K)s Fp([)p Fj(u)p Fp(])233 b(\(5\))1220
1619 y Fj(K)s Fp([\(\)])36 b(=)h Fj(id)523 b Fp(\(6\))1076
1684 y(F)m(or)13 b(example,)h(for)f(t)o(yp)q(e)g Fj(il)q(ist)p
Fp(:)1073 1748 y Fj(E)1101 1752 y Fh(I)r(nil)1159 1748
y Fp(\()p Fj(f)1193 1752 y Fh(\013)1215 1748 y Fj(;)6
b(f)1251 1752 y Fh(T)1275 1748 y Fp(\))60 b(=)37 b Fj(\025)p
Fp(\(\))p Fj(:)p Fp(\(\))1073 1789 y Fj(E)1101 1793 y
Fh(I)r(cons)1182 1789 y Fp(\()p Fj(f)1216 1793 y Fh(\013)1237
1789 y Fj(;)6 b(f)1273 1793 y Fh(T)1297 1789 y Fp(\))38
b(=)f Fj(\025)p Fp(\()p Fj(x;)6 b(g)q Fp(\))p Fj(:)p
Fp(\()p Fj(f)1572 1793 y Fh(\013)1600 1789 y Fj(x;)17
b Fp(\()p Fj(\025)7 b(h:)j(f)1756 1793 y Fh(T)1788 1789
y Fl(\016)f Fj(h)g Fl(\016)g Fj(id)p Fp(\))d Fj(g)q Fp(\))1350
1831 y(=)37 b Fj(\025)p Fp(\()p Fj(x;)6 b(g)q Fp(\))p
Fj(:)p Fp(\()p Fj(f)1572 1835 y Fh(\013)1600 1831 y Fj(x;)17
b(f)1669 1835 y Fh(T)1701 1831 y Fl(\016)9 b Fj(g)q Fp(\))1076
1896 y(While)22 b(the)f(fold)f(function)i(deriv)o(ed)g(from)e(this)h
(generalized)1020 1938 y(functor)16 b(is)g(de\014ned)g(for)f(all)i
(sums-of-pro)q(ducts)f(with)g(tuples)g(and)1020 1979
y(function)f(t)o(yp)q(es)g(it)f(is)h(not)f(particularly)j(useful.)j(T)m
(o)14 b(b)q(e)g(useful,)h(it)1020 2021 y(is)d(necessary)h(to)f
(restrict)h(eac)o(h)f(function)h(t)o(yp)q(e)f(to)g(b)q(e)g(co)o(v)n
(arian)o(t)h(in)1020 2063 y Fj(T)19 b Fp([5)o(],)13 b(otherwise)h
Fj(K)s Fp([)p Fj(t)p Fp(])d(ma)o(y)i(not)g(b)q(e)g(a)g(functor.)1076
2104 y(F)m(or)g(example)h(the)g(fold)f(for)g Fj(il)q(ist)g
Fp(is:)1039 2172 y(fold)1102 2156 y Fh(ilist)1173 2172
y Fp(\()p Fj(f)1207 2176 y Fh(n)1228 2172 y Fj(;)6 b(f)1264
2176 y Fh(c)1280 2172 y Fp(\))k(Inil)156 b(=)37 b Fj(f)1602
2176 y Fh(n)1623 2172 y Fp(\(\))1039 2217 y(fold)1102
2202 y Fh(ilist)1173 2217 y Fp(\()p Fj(f)1207 2221 y
Fh(n)1228 2217 y Fj(;)6 b(f)1264 2221 y Fh(c)1280 2217
y Fp(\))k(Icons)q(\()p Fj(a;)c(g)q Fp(\))38 b(=)f Fj(f)1602
2221 y Fh(c)1618 2217 y Fp(\()p Fj(a;)6 b Fp(\(fold)1748
2202 y Fh(ilist)1819 2217 y Fp(\()p Fj(f)1853 2221 y
Fh(n)1874 2217 y Fj(;)g(f)1910 2221 y Fh(c)1926 2217
y Fp(\)\))i Fl(\016)h Fj(g)q Fp(\))1020 2314 y Fq(4)41
b(Mutually)11 b(Recursive)j(T)m(yp)q(es)1020 2392 y Fp(A)e(set)h(of)f
(m)o(utually)j(recursiv)o(e)f(t)o(yp)q(es)f(can)g(b)q(e)g(de\014ned)h
(b)o(y)f(a)g(set)f(of)1020 2434 y(m)o(utually)j(recursiv)o(e)g
(equations)g(of)d(the)h(form:)1063 2472 y Fb(V)1097 2516
y Fh(s)p Fa(2)p Fi([1)p Fh(:::)q(r)q Fi(])1249 2502 y
Fj(T)1271 2506 y Fh(s)1288 2502 y Fp(\()p Fj(\013)1328
2506 y Fi(1)1344 2502 y Fj(;)7 b(:)f(:)g(:)g(;)g(\013)1455
2506 y Fh(p)1472 2502 y Fp(\))38 b(=)85 b Fj(C)1670 2485
y Fh(T)1688 2489 y Ff(s)1667 2512 y Fi(1)1706 2502 y
Fp(\()p Fj(t)1735 2506 y Fi(1)p Fh(;)p Fi(1)1777 2502
y Fj(;)6 b(:)g(:)g(:)g(;)g(t)1876 2506 y Fi(1)p Fh(;m)1927
2511 y Fg(1)1946 2502 y Fp(\))1592 2551 y Fl(j)37 b(\001)6
b(\001)g(\001)1592 2627 y(j)37 b Fj(C)1670 2611 y Fh(T)1688
2615 y Ff(s)1667 2633 y Fh(n)1706 2627 y Fp(\()p Fj(t)1735
2631 y Fh(n;)p Fi(1)1781 2627 y Fj(;)6 b(:)g(:)g(:)g(;)g(t)1880
2631 y Fh(n;m)1935 2635 y Ff(n)1959 2627 y Fp(\))961
2747 y(3)p eop
%%Page: 4 4
4 3 bop -76 -34 a Fp(where)12 b(the)g Fj(T)121 -30 y
Fi(1)138 -34 y Fj(;)6 b(:)g(:)h(:)f(;)g(T)246 -30 y Fh(r)275
-34 y Fp(are)12 b(the)f(t)o(yp)q(es)i(b)q(eing)g(de\014ned.)18
b(F)m(or)11 b(exam-)-76 7 y(ple)h(consider)h(the)f(t)o(yp)q(e)f(whic)o
(h)i(mo)q(dels)f(a)g(v)o(ery)f(simple)i(expression)-76
49 y(language)i(with)f(lo)q(cal)g(declarations)460 33
y Fi(3)480 49 y Fp(:)71 119 y(exp)q(\()p Fj(\013;)6 b(\014)r
Fp(\))36 b(=)86 b(V)m(ar)o(\()p Fj(\013)p Fp(\))330 160
y Fl(j)47 b Fp(Let\(dec)q(\()p Fj(\013;)5 b(\014)r Fp(\))p
Fj(;)h Fp(exp)q(\()p Fj(\013;)f(\014)r Fp(\)\))330 202
y Fl(j)47 b Fp(Apply)r(\(exp\()p Fj(\013;)6 b(\014)r
Fp(\))p Fj(;)g Fp(exp\()p Fj(\013;)g(\014)r Fp(\)\))-1
214 y Fb(V)71 244 y Fp(dec)q(\()p Fj(\013;)f(\014)r Fp(\))40
b(=)86 b(V)m(al\()p Fj(\014)r(;)6 b Fp(exp\()p Fj(\013;)g(\014)r
Fp(\)\))330 286 y Fl(j)47 b Fp(F)m(un)q(\(string)q Fj(;)6
b(\014)r(;)g Fp(exp\()p Fj(\013;)g(\014)r Fp(\)\))-76
358 y(As)12 b(in)i(the)e(simple)i(case,)f(asso)q(ciated)h(with)f(eac)o
(h)g(constructor,)g Fj(C)896 362 y Fh(i)910 358 y Fp(,)-76
399 y(is)21 b(functor,)g Fj(E)152 384 y Fh(T)150 407
y(i)177 399 y Fp(.)37 b(If)20 b(there)g(are)g Fj(r)h
Fp(m)o(utually)h(recursiv)o(e)f(t)o(yp)q(es,)-76 441
y Fj(T)-54 445 y Fi(1)-36 441 y Fj(;)6 b(:)g(:)g(:)g(;)g(T)71
445 y Fh(r)89 441 y Fp(,)13 b(and)g(constructor)i Fj(C)421
424 y Fh(T)439 428 y Ff(s)418 451 y Fh(i)468 441 y Fp(:)c(\()p
Fj(t)519 445 y Fh(i;)p Fi(1)556 441 y Fj(;)6 b(:)g(:)g(:)h(;)f(t)656
445 y Fh(i;m)703 450 y Ff(i)718 441 y Fp(\))11 b Fl(!)h
Fj(T)816 445 y Fh(s)846 441 y Fp(then)-76 489 y Fj(E)-46
472 y Fh(T)-28 476 y Ff(s)-48 500 y Fh(i)4 489 y Fp(is)h(a)g(\()p
Fj(p)c Fp(+)f Fj(r)q Fp(\)-adic)15 b(functor:)-50 567
y Fj(E)-20 550 y Fh(T)-2 554 y Ff(s)-22 578 y Fh(i)17
567 y Fp(\()p Fj(f)51 571 y Fi(1)68 567 y Fj(;)6 b(:)g(:)g(:)g(;)g(f)
172 571 y Fh(p)190 567 y Fj(;)g(f)226 571 y Fh(T)244
576 y Fg(1)262 567 y Fj(;)g(:)g(:)g(:)g(;)g(f)366 571
y Fh(T)384 575 y Ff(r)403 567 y Fp(\))21 b(=)100 609
y Fj(\025)p Fp(\()p Fj(x)159 613 y Fh(i;)p Fi(1)197 609
y Fj(;)6 b(:)g(:)h(:)f(;)g(x)305 613 y Fh(i;m)352 618
y Ff(i)367 609 y Fp(\))p Fj(:)p Fp(\()p Fj(K)s Fp([)p
Fj(t)469 613 y Fh(i;)p Fi(1)506 609 y Fp(])p Fj(x)539
613 y Fh(i;)p Fi(1)576 609 y Fj(;)g(:)g(:)g(:)g(;)g(K)s
Fp([)p Fj(t)722 613 y Fh(i;m)769 618 y Ff(i)784 609 y
Fp(])p Fj(x)817 613 y Fh(i;m)864 618 y Ff(i)879 609 y
Fp(\))-76 681 y(where)16 b(the)g(b)q(ound)h(v)n(ariables,)h
Fj(x)423 685 y Fh(i;j)475 681 y Fp(ha)o(v)o(e)e(t)o(yp)q(e,)g
Fj(t)680 685 y Fh(i;j)717 681 y Fp(,)g(w)o(e)f(replace)-76
723 y(rule)f(\(2\))f(in)h(the)f(de\014n)o(tion)i(of)e
Fj(K)h Fp(in)g(De\014nition)i(1)d(with:)5 793 y Fj(K)s
Fp([)p Fj(T)74 797 y Fh(i)86 793 y Fp(\()p Fj(\013)126
797 y Fi(1)143 793 y Fj(;)6 b(:)g(:)g(:)g(;)g(\013)253
797 y Fh(p)271 793 y Fp(\)])37 b(=)g Fj(f)420 797 y Fh(T)438
802 y Ff(i)791 793 y Fp(\(2\))-76 865 y(Generic)12 b(functions,)h(suc)o
(h)f(as)f(map)g(and)h(fold,)g(de\014ned)g(o)o(v)o(er)f(m)o(utu-)-76
906 y(ally)h(recursiv)o(e)f(t)o(yp)q(es)f(will)i(b)q(e)e(m)o(utually)i
(recursiv)o(e)f(functions.)17 b(F)m(or)-76 948 y(example,)f(the)f(map)g
(functions)h(for)e(a)g(set)h(of)f(m)o(utually)j(recursiv)o(e)-76
989 y(t)o(yp)q(es,)c Fj(T)58 993 y Fi(1)76 989 y Fj(;)6
b(:)g(:)g(:)g(;)g(T)183 993 y Fh(r)201 989 y Fp(,)13
b(are)g(de\014ned)h(b)o(y)f(the)g(equations:)-44 1034
y Fb(V)-10 1078 y Fh(s)p Fa(2)p Fi([1)p Fh(:::)q(r)q
Fi(])110 1064 y Fp(map)183 1049 y Fh(T)201 1053 y Ff(s)219
1064 y Fp(\()p 234 1033 23 2 v Fj(f)t Fp(\))8 b Fl(\016)h
Fj(C)338 1047 y Fh(T)356 1051 y Ff(s)335 1075 y Fh(i)396
1064 y Fp(=)106 1118 y Fj(C)136 1101 y Fh(T)154 1105
y Ff(s)133 1129 y Fh(i)181 1118 y Fl(\016)f Fj(E)238
1101 y Fh(T)256 1105 y Ff(s)236 1129 y Fh(i)275 1118
y Fp(\()p Fj(f)309 1122 y Fi(1)326 1118 y Fj(;)e(:)g(:)g(:)g(;)g(f)430
1122 y Fh(p)448 1118 y Fj(;)g Fp(map)537 1103 y Fh(T)555
1108 y Fg(1)574 1118 y Fp(\()p 589 1087 V Fj(f)t Fp(\))p
Fj(;)g(:)g(:)g(:)g(;)g Fp(map)784 1103 y Fh(T)802 1107
y Ff(r)821 1118 y Fp(\()p 836 1087 V Fj(f)t Fp(\)\))-76
1199 y(where)13 b(\()p 50 1168 V Fj(f)t Fp(\))g(is)g(\()p
Fj(f)173 1203 y Fi(1)190 1199 y Fj(;)6 b(:)g(:)g(:)g(;)g(f)294
1203 y Fh(p)312 1199 y Fp(\).)-20 1240 y(F)m(or)13 b(example,)h(the)f
Fj(map)h Fp(for)e Fj(exp)h Fp(and)h Fj(dec)e Fp(is)h(giv)o(en)i(b)o(y:)
-57 1316 y(map)15 1300 y Fh(exp)65 1316 y Fp(\()p 80
1285 V Fj(h)q Fp(\)\(V)m(ar)6 b Fj(x)p Fp(\))140 b(=)37
b(V)m(ar\()p Fj(f)14 b(x)p Fp(\))-57 1362 y(map)15 1346
y Fh(exp)65 1362 y Fp(\()p 80 1331 V Fj(h)q Fp(\)\(Let)o(\()p
Fj(x;)6 b(y)q Fp(\)\))84 b(=)37 b(Let\(map)587 1346 y
Fh(dec)633 1362 y Fp(\()p 648 1331 V Fj(h)p Fp(\))7 b
Fj(x;)f Fp(map)803 1346 y Fh(exp)853 1362 y Fp(\()p 868
1331 V Fj(h)p Fp(\))h Fj(y)q Fp(\))-57 1409 y(map)15
1393 y Fh(exp)65 1409 y Fp(\()p 80 1378 V Fj(h)q Fp(\)\(Apply)q(\()p
Fj(x;)f(y)q Fp(\)\))37 b(=)g(Apply)r(\(map)633 1393 y
Fh(exp)683 1409 y Fp(\()p 698 1378 V Fj(h)p Fp(\))7 b
Fj(x;)e Fp(map)853 1393 y Fh(exp)903 1409 y Fp(\()p 918
1378 V Fj(h)p Fp(\))i Fj(y)q Fp(\))-57 1421 y Fb(V)-57
1498 y Fp(map)15 1482 y Fh(dec)62 1498 y Fp(\()p 77 1467
V Fj(h)p Fp(\)\(V)m(al\()p Fj(x;)f(y)q Fp(\)\))88 b(=)37
b(V)m(al)q(\()p Fj(g)12 b(x;)6 b Fp(map)655 1482 y Fh(exp)705
1498 y Fp(\()p 720 1467 V Fj(h)q Fp(\))g Fj(y)q Fp(\))-57
1545 y(map)15 1529 y Fh(dec)62 1545 y Fp(\()p 77 1514
V Fj(h)p Fp(\)\(F)m(un\()p Fj(x;)g(y)q(;)h(z)r Fp(\)\))41
b(=)c(F)m(un)q(\()p Fj(x;)6 b(y)q(;)g Fp(map)671 1529
y Fh(exp)722 1545 y Fp(\()p 737 1514 V Fj(h)p Fp(\))g
Fj(z)r Fp(\))-76 1625 y(where)13 b(\()p 50 1594 V Fj(h)p
Fp(\))g(is)h(\(\()p Fj(f)t Fp(\))p Fj(;)5 b Fp(\()p Fj(g)q
Fp(\)\).)-76 1696 y Fk(De\014nition)13 b(3)h(\(Mutually)g(Recursiv)o(e)
h(F)l(old\))j Fo(The)11 b(mutual)r(ly)-76 1738 y(r)n(e)n(cursive)j
(fold)g(functions)e(over)j(the)g(typ)n(es)e Fj(T)603
1742 y Fi(1)621 1738 y Fj(;)6 b(:)g(:)g(:)g(;)h(T)729
1742 y Fh(r)762 1738 y Fo(is)15 b(de\014ne)n(d)-76 1779
y(by)e(the)g(fol)r(lowing)f(set)g(of)h(mutual)r(ly)f(r)n(e)n(cursive)g
(e)n(quations:)-45 1824 y Fb(V)-11 1868 y Fh(s)p Fa(2)p
Fi([1)p Fh(:::)q(r)q Fi(])120 1855 y Fp(fold)183 1839
y Fh(T)201 1843 y Ff(s)219 1855 y Fp(\()p 234 1824 V
Fj(f)t Fp(\))c Fl(\016)h Fj(C)338 1838 y Fh(T)356 1842
y Ff(s)335 1865 y Fh(i)385 1855 y Fp(=)105 1908 y Fj(f)128
1891 y Fh(T)146 1895 y Ff(s)124 1919 y Fh(i)172 1908
y Fl(\016)g Fj(E)230 1891 y Fh(T)248 1895 y Ff(s)228
1919 y Fh(i)266 1908 y Fp(\()p Fj(id)314 1912 y Fi(1)332
1908 y Fj(;)d(:)g(:)g(:)g(;)g(id)450 1912 y Fh(p)468
1908 y Fj(;)g Fp(fold)548 1893 y Fh(T)566 1898 y Fg(1)585
1908 y Fp(\()p 600 1878 V Fj(f)s Fp(\))p Fj(;)g(:)g(:)g(:)g(;)h
Fp(fold)785 1893 y Fh(T)803 1897 y Ff(r)822 1908 y Fp(\()p
837 1878 V Fj(f)t Fp(\)\))-76 1989 y Fo(Wher)n(e)14 b
Fp(\()p 61 1958 V Fj(f)s Fp(\))e(=)f(\(\()p Fj(f)204
1972 y Fh(T)222 1977 y Fg(1)200 1999 y Fi(1)240 1989
y Fj(;)6 b(:)g(:)g(:)h(;)f(f)349 1973 y Fh(T)367 1978
y Fg(1)345 1996 y Fh(n)364 2001 y Fg(1)385 1989 y Fp(\))p
Fj(;)g(:)g(:)g(:)g(;)g Fp(\()p Fj(f)523 1972 y Fh(T)541
1976 y Ff(r)519 1999 y Fi(1)560 1989 y Fj(;)g(:)g(:)g(:)g(;)g(f)668
1973 y Fh(T)686 1977 y Ff(r)664 1996 y Fh(n)683 2000
y Ff(r)705 1989 y Fp(\)\))p Fo(,)14 b(a)f(tuple)g(of)-76
2031 y(tuples)f(of)h(ac)n(cumulating)d(functions.)-76
2102 y Fp(F)m(or)15 b(example,)i(the)f(m)o(utually)h(recursiv)o(e)g
(fold)f(functions)h(for)e Fj(exp)-76 2143 y Fp(and)f
Fj(dec)e Fp(are:)-57 2211 y(fold)6 2195 y Fh(exp)56 2211
y Fp(\()p 71 2180 V Fj(f)t Fp(\)\(V)m(ar)6 b Fj(x)p Fp(\))140
b(=)37 b Fo(Vf)11 b Fj(x)-57 2258 y Fp(fold)6 2242 y
Fh(exp)56 2258 y Fp(\()p 71 2227 V Fj(f)t Fp(\)\(Let)o(\()p
Fj(x;)6 b(y)q Fp(\)\))84 b(=)37 b Fo(Lf)5 b Fp(\(fold)553
2242 y Fh(dec)599 2258 y Fp(\()p 614 2227 V Fj(f)t Fp(\))h
Fj(x;)g Fp(fold)760 2242 y Fh(exp)810 2258 y Fp(\()p
825 2227 V Fj(f)t Fp(\))g Fj(y)q Fp(\))-57 2305 y(fold)6
2289 y Fh(exp)56 2305 y Fp(\()p 71 2274 V Fj(f)t Fp(\)\(Apply)q(\()p
Fj(x;)g(y)q Fp(\)\))37 b(=)g Fo(Af)t Fp(\(fold)557 2289
y Fh(exp)607 2305 y Fp(\()p 622 2274 V Fj(f)t Fp(\))6
b Fj(x;)g Fp(fold)768 2289 y Fh(exp)818 2305 y Fp(\()p
833 2274 V Fj(f)t Fp(\))g Fj(y)q Fp(\))-57 2317 y Fb(V)-57
2394 y Fp(fold)6 2378 y Fh(dec)52 2394 y Fp(\()p 67 2363
V Fj(f)t Fp(\)\(V)m(al\()p Fj(x;)g(y)q Fp(\)\))88 b(=)37
b Fo(V)m(alf)t Fp(\()p Fj(x;)6 b Fp(fold)622 2378 y Fh(exp)673
2394 y Fp(\()p 688 2363 V Fj(f)s Fp(\))h Fj(y)q Fp(\))-57
2441 y(fold)6 2425 y Fh(dec)52 2441 y Fp(\()p 67 2410
V Fj(f)t Fp(\)\(F)m(un\()p Fj(x;)f(y)q(;)h(z)r Fp(\)\))41
b(=)c Fo(F)m(unf)t Fp(\()p Fj(x;)6 b(y)q(;)g Fp(fold)669
2425 y Fh(exp)719 2441 y Fp(\()p 734 2410 V Fj(f)t Fp(\))g
Fj(z)r Fp(\))-76 2521 y(where)13 b(\()p 50 2490 V Fj(f)t
Fp(\))g(is)g(\(\()p Fo(Vf)t Fj(;)6 b Fo(Lf)f Fj(;)h Fo(Af)t
Fp(\))p Fj(;)g Fp(\()p Fo(V)m(alf)s Fj(;)h Fo(F)m(unf)s
Fp(\)\).)p -76 2550 399 2 v -34 2577 a Fi(3)-16 2589
y Fm(As)14 b(one)g(migh)o(t)h(\014nd)g(in)g(an)f(ML)g(lik)o(e)h
(language)e(with)i(only)g(v)n(ariables,)-76 2622 y(application,)d(and)g
(let)f(expressions.)1020 -34 y Fk(Theorem)k(2)g(\(Mutually)e(Recursiv)o
(e)i(F)l(old)f(Promotion\))1039 52 y Fl(8)p Fj(f)1079
56 y Fh(i)1098 52 y Fj(\017)6 b Fp(\()p 1135 21 23 2
v Fj(f)t Fp(\))1173 56 y Fh(k)1203 52 y Fp(:)21 b Fj(\036)1258
56 y Fh(i)1279 52 y Fl(\016)9 b Fj(E)1337 34 y Fh(T)1355
40 y Ff(k)1335 63 y Fh(i)1376 52 y Fp(\()p Fj(id)1424
56 y Fi(1)1441 52 y Fj(;)d(:)g(:)g(:)g(;)g(id)1559 56
y Fh(p)1577 52 y Fj(;)g(id)1627 56 y Fi(1)1651 52 y Fj(:)g(:)g(:)g(;)g
(g)q(;)h(:)f(:)g(:)g(;)g(id)1857 56 y Fh(r)1875 52 y
Fp(\))21 b(=)g Fj(g)10 b Fl(\016)f Fj(f)2037 56 y Fh(i)p
1020 66 1049 2 v 1066 115 a Fj(g)h Fl(\016)f Fp(fold)1185
99 y Fh(T)1203 105 y Ff(k)1223 115 y Fp(\()p 1238 84
23 2 v Fj(f)1261 124 y Fi(1)1278 115 y Fj(;)d(:)g(:)g(:)g(;)p
1363 84 V 6 w(f)1386 124 y Fh(k)1405 115 y Fj(;)g(:)g(:)g(:)g(;)p
1490 84 V 6 w(f)1513 124 y Fh(r)1531 115 y Fp(\))21 b(=)g(fold)1681
99 y Fh(T)1699 105 y Ff(k)1719 115 y Fp(\()p 1734 84
V Fj(f)1757 124 y Fi(1)1774 115 y Fj(;)6 b(:)g(:)g(:)h(;)p
1860 84 V 6 w(\036)o(;)g(:)f(:)g(:)g(;)p 1968 84 V 6
w(f)1990 124 y Fh(r)2008 115 y Fp(\))1020 196 y Fo(Pr)n(o)n(of:)16
b Fp(Analogous)f(to)e(Theorem)g(1.)k Fc(2)1020 237 y
Fp(That)f(is,)h(for)f(a)f(fold)i(o)o(v)o(er)f(the)g(t)o(yp)q(e)h
Fj(T)1613 241 y Fh(k)1632 237 y Fp(,)f(the)g Fj(k)1749
221 y Fh(th)1797 237 y Fp(t)o(yp)q(e)h(in)f(a)g(set)1020
279 y(of)d(m)o(utually)j(recursiv)o(e)f(t)o(yp)q(es,)e(\()p
Fj(T)1537 283 y Fi(1)1555 279 y Fj(;)6 b(:)g(:)g(:)g(;)g(T)1662
283 y Fh(r)1680 279 y Fp(\),)13 b(the)g(function,)i Fj(g)q
Fp(,)f(is)1020 325 y(placed)h(in)e(only)i(the)e Fj(k)1356
309 y Fh(th)1401 325 y Fp(recursiv)o(e)h(p)q(osition)h(of)e
Fj(E)1779 329 y Fh(i)1793 325 y Fp(.)1020 423 y Fq(5)41
b(No)o(rmalizatio)o(n)11 b(of)i(F)o(old)f(Exp)o(ressions)1020
502 y Fp(The)e(normalizatio)q(n)j(algorithm)f(reduces)g(an)o(y)f(fold)g
(applied)i(to)d(an-)1020 543 y(other)g(fold)g(in)o(to)g(a)g(fold)g
(applied)i(to)d(a)h(v)n(ariable.)17 b(This)10 b(reduced)h(pro-)1020
585 y(gram)k(has)g(few)o(er)e(folds.)22 b(Since)16 b(ev)o(ery)f(fold)g
(builds)i(a)d(data)h(struc-)1020 626 y(ture,)e(impro)o(v)o(ed)h
(programs)g(will)g(build)h(few)o(er)e(in)o(termediate)i(data)1020
668 y(structures.)1076 709 y(Program)h(normalization)j(is)d
(accomplished)i(b)o(y)e(pushing)i(the)1020 751 y(outer)13
b(fold)g(in)o(to)g(the)f(accum)o(ulating)j(functions)f(of)e(the)g
(inner)i(fold,)1020 792 y(as)i(is)g(directed)h(b)o(y)f(the)g(promotion)
i(theorem.)25 b(This)17 b(is)f(a)g(gener-)1020 834 y(alization)21
b(of)c(nested)i(lo)q(op)g(fusion)g(to)f(arbitrary)i(t)o(yp)q(es)e(b)q
(ecause)1020 875 y(the)13 b(outer)h(fold)f(will)i(b)q(e)e(pushed)i
(inside)g(the)e(inner)h(one)f(un)o(til)i(it)f(is)1020
917 y(eliminated)g(b)o(y)d(the)h(generalizations)i(in)o(tro)q(duced)f
(b)o(y)f(the)f(normal-)1020 958 y(ization)k(algorithm.)1020
1052 y Fq(5.1)41 b(The)14 b(T)m(erm)g(Language)1020 1118
y Fp(In)k(the)h(follo)o(wing)h(de\014nitions)h(w)o(e)d(assume)h(that)f
(programs)h(are)1020 1159 y(w)o(ell-t)o(yp)q(ed)j(b)o(y)f(a)g(ML-st)o
(yle)h(p)q(olymorphic)h(t)o(yp)q(e-c)o(hec)o(k)o(er,)g(and)1020
1201 y(that)15 b(all)h(folds)g(are)f(o)o(v)o(er)g(m)o(utually)i
(recursiv)o(e)g(sums-of-pro)q(ducts)1020 1242 y(t)o(yp)q(es)12
b(that)f(ma)o(y)g(include)j(tuples)e(and)g(function)h(t)o(yp)q(es.)j
(An)o(y)c(non-)1020 1284 y(m)o(utually)18 b(recursiv)o(e)g(fold)f(is)f
(handled)i(as)f(a)f(fold)h(o)o(v)o(er)f(m)o(utually)1020
1325 y(recursiv)o(e)e(with)g(only)g(a)f(single)i(t)o(yp)q(e.)1020
1397 y Fk(De\014nition)d(4)j(\(The)g(T)l(erm)g(Language\))k
Fo(A)f Fp(program)i Fo(in)e(the)1020 1438 y(term)e(language)e(has)h
(the)h(form)g Fj(\025)p Fp(\()p Fj(x)1567 1442 y Fi(1)1585
1438 y Fj(;)6 b(:)g(:)g(:)g(;)g(x)1692 1442 y Fh(n)1713
1438 y Fp(\))p Fj(:t)p Fo(,)16 b(wher)n(e)g(e)n(ach)f
Fj(x)2003 1442 y Fh(i)1020 1480 y Fo(is)j(a)g(variable)e(and)h
Fj(t)h Fo(is)g(a)g(term.)32 b(Each)17 b(term)h(has)f(one)h(of)f(the)
1020 1521 y(fol)r(lowing)12 b(forms:)1076 1592 y Fl(\017)18
b Fp(v)n(ariable:)i Fj(x)p Fo(,)13 b(b)n(ound)f(in)h(some)g(outer)g
(lamb)n(da)f(abstr)n(action;)1076 1664 y Fl(\017)18 b
Fp(construction:)24 b Fj(C)s Fp(\()p Fj(t)1412 1668 y
Fi(1)1429 1664 y Fj(;)6 b(:)h(:)f(:)g(;)g(t)1529 1668
y Fh(n)1550 1664 y Fp(\))p Fo(,)16 b(wher)n(e)f Fj(C)k
Fo(is)d(a)f(c)n(onstructor)1113 1705 y(and)e(e)n(ach)f
Fj(t)1288 1709 y Fh(i)1315 1705 y Fo(is)h(a)g(term;)1076
1781 y Fl(\017)18 b Fp(fold:)30 b(fold)1279 1765 y Fh(T)1297
1769 y Ff(s)1315 1781 y Fp(\(\()p Fj(f)1368 1764 y Fh(T)1386
1769 y Fg(1)1364 1791 y Fi(1)1404 1781 y Fj(;)6 b(:)h(:)f(:)g(;)g(f)
1513 1765 y Fh(T)1531 1770 y Fg(1)1509 1788 y Fh(n)1528
1793 y Fg(1)1549 1781 y Fp(\))p Fj(;)g(:)g(:)g(:)g(;)g
Fp(\()p Fj(f)1687 1764 y Fh(T)1705 1768 y Ff(r)1683 1791
y Fi(1)1724 1781 y Fj(;)g(:)g(:)g(:)g(;)g(f)1832 1765
y Fh(T)1850 1769 y Ff(r)1828 1788 y Fh(n)1847 1792 y
Ff(r)1869 1781 y Fp(\)\))g Fj(t)p Fo(,)21 b(that)1113
1823 y(is,)12 b(a)g(mutual)r(ly)f(r)n(e)n(cursive)f(fold)h(over)g(a)h
(term,)h Fj(t)p Fo(,)f(of)g(typ)n(e)f Fj(T)1988 1827
y Fh(s)2005 1823 y Fo(,)1113 1864 y(wher)n(e)18 b Fj(T)1248
1868 y Fh(s)1283 1864 y Fo(is)g(one)e(of)i(a)f(set)g(of)h(mutual)r(ly)e
(r)n(e)n(cursive)g(typ)n(es)1113 1911 y Fj(T)1135 1915
y Fi(1)1153 1911 y Fj(;)6 b(:)g(:)g(:)g(;)g(T)1260 1915
y Fh(r)1278 1911 y Fo(.)31 b(Each)17 b Fj(f)1445 1893
y Fh(T)1463 1899 y Ff(k)1441 1922 y Fh(i)1501 1911 y
Fo(has)g(the)g(form)h Fj(\025)p Fp(\()p Fj(x)1798 1915
y Fi(1)1816 1911 y Fj(;)6 b(:)g(:)g(:)g(;)g(x)1923 1915
y Fh(m)1952 1911 y Fp(\))p Fj(:t)1992 1915 y Fh(i)2005
1911 y Fo(,)1113 1953 y(wher)n(e)14 b(e)n(ach)e Fj(x)1330
1957 y Fh(j)1360 1953 y Fo(is)h(a)g(variable)f(and)g
Fj(t)1666 1957 y Fh(i)1693 1953 y Fo(is)h(a)h(term.)1020
2033 y Fk(De\014nition)e(5)j(\(Accum)o(ulativ)o(e)e(Result)i(V)l
(ariable\))k Fo(Each)9 b(ac-)1020 2082 y(cumulating)i(function)h
Fj(f)1392 2063 y Fh(T)1410 2069 y Ff(k)1388 2092 y Fh(i)1444
2082 y Fo(in)h(a)h(fold)f(in)g(the)g(term)h(language)d(has)1020
2123 y(the)h(form)h Fj(\025)p Fp(\()p Fj(x)1234 2127
y Fi(1)1252 2123 y Fj(;)6 b(:)g(:)g(:)g(;)g(x)1359 2127
y Fh(m)1388 2123 y Fp(\))p Fj(:t)p Fo(,)13 b(wher)n(e)g(the)f(typ)n(es)
f(of)i(the)f(b)n(ound)f(vari-)1020 2165 y(ables,)k Fj(x)1151
2169 y Fi(1)1168 2165 y Fj(;)6 b(:)g(:)g(:)g(;)g(x)1275
2169 y Fh(m)1304 2165 y Fo(,)17 b(ar)n(e)e(asso)n(ciate)n(d)e(with)j
(the)f(typ)n(es,)g Fj(t)1859 2169 y Fi(1)1876 2165 y
Fj(;)6 b(:)g(:)g(:)g(;)g(t)1975 2169 y Fh(m)2005 2165
y Fo(,)1020 2212 y(in)15 b(the)f(domain)f(of)i(the)f(c)n(orr)n(esp)n
(onding)e(c)n(onstructor)g Fj(C)1861 2193 y Fh(T)1879
2199 y Ff(k)1858 2222 y Fh(i)1900 2212 y Fo(.)21 b(Each)1020
2254 y(b)n(ound)15 b(variable,)h Fj(x)1316 2258 y Fh(j)1332
2254 y Fo(,)h(whose)f(asso)n(ciate)n(d)e(typ)n(e,)i Fj(t)1769
2258 y Fh(j)1785 2254 y Fo(,)i(mentions)d(at)1020 2295
y(le)n(ast)g(one)h(of)g(the)g(r)n(e)n(cursive)e(typ)n(es)h
Fj(T)1585 2299 y Fi(1)1603 2295 y Fj(;)6 b(:)g(:)g(:)g(;)g(T)1710
2299 y Fh(r)1745 2295 y Fo(is)16 b(an)g Fp(accum)o(ula-)1020
2337 y(tiv)o(e)e(result)g(v)n(ariable)p Fo(.)1020 2416
y Fp(F)m(or)f(example,)h(in)g(the)f(de\014nition)j(of)c(app)q(end)1079
2496 y(app)q(end)q(\()p Fj(x;)6 b(y)q Fp(\))38 b(=)f(fold)1458
2480 y Fh(list)1507 2496 y Fp(\()p Fj(\025)p Fp(\(\))p
Fj(:y)q(;)7 b(\025)p Fp(\()p Fj(a;)f(r)q Fp(\))p Fj(:)p
Fp(Cons)q(\()p Fj(a;)g(r)q Fp(\)\))11 b Fj(x)1020 2574
y(r)j Fp(is)g(an)f(accum)o(ulativ)o(e)j(result)e(v)n(ariable.)961
2747 y(4)p eop
%%Page: 5 5
5 4 bop -76 -34 a Fk(De\014nition)13 b(6)h(\(P)o(oten)o(tially)g
(Normalizable)f(Program\))-76 7 y Fo(A)h(pr)n(o)n(gr)n(am)g(in)g(the)g
(term)g(language)e(is)i(p)n(otential)r(ly)d(normalizable)-76
49 y(if)17 b(it)f(do)n(es)f(not)h(c)n(ontain)f(terms)h
Fp(fold)477 33 y Fh(T)501 49 y Fp(\()p 516 18 23 2 v
Fj(f)t Fp(\))6 b Fj(t)p Fo(,)18 b(wher)n(e)e Fj(t)h Fo(c)n(ontains)d(a)
-76 90 y(r)n(efer)n(enc)n(e)e(to)i(an)f Fp(accum)o(ulativ)o(e)j(result)
f(v)n(ariable)h Fo(which)e(is)f(b)n(ound)-76 132 y(in)g(an)g(outer)g
(lamb)n(da)f(abstr)n(action.)-76 207 y Fp(F)m(or)18 b(example)h(of)f(a)
f(term)h(whic)o(h)h(is)f Fo(not)f Fp(p)q(oten)o(tially)j(normaliz-)-76
249 y(able)d(consider)g(the)f(rev)o(erse)g(function)h(normally)g
(de\014ned)g(b)o(y)f(the)-76 290 y(recursion)f(equations:)-13
364 y(rev)c(Nil)210 b(=)37 b(Nil)-13 406 y(rev)11 b(\(Cons)q(\()p
Fj(x;)5 b(xs)p Fp(\)\))37 b(=)g(app)q(end)r(\(rev)11
b Fj(xs;)h Fp(Cons)q(\()p Fj(x;)5 b Fp(Nil)q(\)\))-76
482 y(whic)o(h)14 b(can)f(b)q(e)h(expressed)g(as)f(the)g(fold:)-57
560 y(fold)6 544 y Fh(list)55 560 y Fp(\()p Fj(\025)p
Fp(\(\))p Fj(:)p Fp(Nil)q Fj(;)6 b(\025)p Fp(\()p Fj(a;)h(r)q
Fp(\))p Fj(:)p Fp(app)q(end)r(\()p Fj(r)o(;)f Fp(Cons\()p
Fj(a;)h Fp(Nil)q(\)\)\))j Fj(x)-57 606 y Fp(fold)6 590
y Fh(list)55 606 y Fp(\()p Fj(\025)p Fp(\(\))p Fj(:)p
Fp(Nil)q Fj(;)70 651 y(\025)p Fp(\()p Fj(a;)d(r)q Fp(\))p
Fj(:)p Fp(fold)252 635 y Fh(list)302 651 y Fp(\()p Fj(\025)p
Fp(\(\))p Fj(:)p Fp(Cons\()p Fj(a;)f Fp(Nil)q(\))p Fj(;)g(\025)p
Fp(\()p Fj(b;)h(s)p Fp(\))p Fj(:)p Fp(Cons\()p Fj(b;)g(s)p
Fp(\)\))f Fj(r)q Fp(\))g Fj(x)-76 727 y Fp(where)15 b(the)h
Fo(app)n(end)d Fp(function)j(has)g(b)q(een)g(expanded)h(to)e(a)g(fold)h
(in)-76 769 y(the)e(second)g(equation.)20 b(An)o(y)13
b(term)g(using)i Fj(r)q(ev)g Fp(is)f(not)f(p)q(oten)o(tially)-76
810 y(normalizable)q(,)h(b)q(ecause)f(the)g(inner)g(fold)g(is)f(o)o(v)o
(er)g Fj(r)q Fp(,)g(an)h(accum)o(ula-)-76 852 y(tiv)o(e)h(result)g(v)n
(ariable.)-76 927 y Fk(De\014nition)f(7)h(\(Canonical)g(T)l(erms\))19
b Fo(A)e(c)n(anonic)n(al)c(term)k(is)f(a)-76 969 y(term)e(in)f(which)
-20 1037 y Fl(\017)19 b Fo(al)r(l)12 b(folds)h(in)g(the)f(term)i(ar)n
(e)f(over)g(variables;)-20 1107 y Fl(\017)19 b Fo(none)d(of)h(these)g
(variables)e(ar)n(e)j(ac)n(cumulative)d(r)n(esult)i(vari-)18
1148 y(ables.)-76 1224 y Fp(Note)11 b(that)g(a)h(canonical)h(term)e(is)
h(alw)o(a)o(ys)g(a)f(p)q(oten)o(tially)j(normaliz-)-76
1265 y(able)g(term.)j(W)m(e)d(will)g(sho)o(w)g(that)f(if)g(a)g(program)
h(in)g(our)f(term)g(lan-)-76 1307 y(guage)e(is)g(p)q(oten)o(tially)j
(normalizable)f(then)e(it)g(can)g(b)q(e)f(transformed)-76
1348 y(in)o(to)k(a)f(canonical)j(program)d(b)o(y)h(the)f(normalization)
j(algorithm.)-76 1441 y Fq(5.2)41 b(The)14 b(No)o(rmalization)c(Algo)o
(rithm)-76 1507 y Fp(The)i(normalization)j(algorithm)f(is)e(a)g
(meaning)h(preserving)h(trans-)-76 1548 y(formation)g(from)e(term)g(to)
g(term.)17 b(It)12 b(uses)g(a)h(parameter,)g Fj(\032)p
Fp(,)e(whic)o(h)-76 1590 y(is)19 b(a)f(partial)i(function)g(from)e
(terms)g(to)g(v)n(ariables.)35 b(In)18 b(our)h(no-)-76
1631 y(tation,)k Fj(\032)p Fp([)p Fj(g)q(=r)q Fp(])e(extends)h
Fj(\032)e Fp(with)h(the)g(mapping)h(from)f Fj(g)h Fp(to)e
Fj(r)q Fp(,)-76 1673 y(while)g Fj(\032)p Fp([\()p Fj(g)94
1677 y Fi(1)111 1673 y Fj(;)6 b(:)g(:)g(:)g(;)g(g)214
1677 y Fh(n)236 1673 y Fp(\))p Fj(=)p Fp(\()p Fj(r)302
1677 y Fi(1)319 1673 y Fj(;)g(:)h(:)f(:)g(;)g(r)422 1677
y Fh(n)443 1673 y Fp(\)])18 b(extends)i Fj(\032)e Fp(with)h(the)f(map-)
-76 1714 y(pings)d(from)d Fj(g)133 1718 y Fh(i)160 1714
y Fp(to)h Fj(r)224 1718 y Fh(i)237 1714 y Fp(.)-20 1756
y(The)20 b(normalization)k(algorithm)e(consists)f(of)f(the)g(follo)o
(wing)-76 1797 y(parts:)-20 1865 y Fl(\017)f Fo(Gener)n(alizat)o(ion)o
(:)13 b Fp(If)e(the)h(normalization)i(algorithm)g(deriv)o(es)18
1907 y(a)d(term)g(mapp)q(ed)i(in)f Fj(\032)f Fp(to)h(some)f(v)n
(ariable)j Fj(v)q Fp(,)d(then)h(this)g(term)18 1948 y(is)h(replaced)i
(b)o(y)e Fj(v)q Fp(.)-20 2018 y Fl(\017)19 b Fo(Applic)n(atio)o(n)14
b(to)i(a)g(Construction:)21 b Fp(F)m(rom)16 b(the)h(fold)g(de\014ni-)18
2060 y(tion:)36 2132 y(fold)99 2116 y Fh(T)117 2120 y
Ff(s)135 2132 y Fp(\()p 150 2101 V Fj(f)t Fp(\)\()p Fj(C)233
2115 y Fh(T)251 2119 y Ff(s)230 2142 y Fh(i)269 2132
y Fp(\()p 284 2111 V Fj(u)p Fp(\)\))k(=)96 2178 y Fj(f)119
2161 y Fh(T)137 2165 y Ff(s)115 2189 y Fh(i)155 2178
y Fp(\()p Fj(E)200 2161 y Fh(T)218 2165 y Ff(s)198 2189
y Fh(i)237 2178 y Fp(\()p Fj(id)285 2182 y Fi(1)302 2178
y Fj(;)6 b(:)g(:)g(:)g(;)g(id)420 2182 y Fh(p)438 2178
y Fj(;)h Fp(fold)518 2162 y Fh(T)536 2167 y Fg(1)555
2178 y Fp(\()p 570 2147 V Fj(f)t Fp(\))p Fj(;)f(:)g(:)g(:)g(;)g
Fp(fold)756 2162 y Fh(T)774 2167 y Fg(1)792 2178 y Fp(\()p
807 2147 V Fj(f)t Fp(\)\)\()p 875 2157 V Fj(u)p Fp(\)\))18
2262 y(E.g.,)12 b(for)g(length)j(=)21 b(fold)398 2246
y Fh(list)448 2262 y Fp(\()p Fj(\025)p Fp(\(\))p Fj(:)p
Fp(Zero)p Fj(;)6 b(\025)p Fp(\()p Fj(a;)h(r)q Fp(\))p
Fj(:)p Fp(Succ)q(\()p Fj(r)q Fp(\)\):)142 2336 y(length)q(\(Cons\()p
Fj(a;)g(l)q Fp(\)\))37 b(=)g(Succ)q(\(length)r(\()p Fj(l)q
Fp(\)\))-20 2426 y Fl(\017)19 b Fo(F)m(old)12 b(Pr)n(omotion:)k
Fp(If)c(the)h(term)g(is)h(a)f(comp)q(osition)354 2506
y Fj(g)q Fp(\(fold)452 2488 y Fh(T)470 2492 y Ff(s)488
2506 y Fp(\()p 503 2475 V Fj(f)t Fp(\))6 b Fj(x)p Fp(\))18
2581 y(where)14 b Fj(g)h Fp(is)g(a)f(fold,)h(then)g(the)f(fold)h
(promotion)h(theorem)f(is)18 2622 y(applied)g(to)e(deriv)o(e)h(the)f
(term,)g(fold)544 2607 y Fh(T)562 2611 y Ff(s)580 2622
y Fp(\()p 595 2591 V Fj(\036)p Fp(\))6 b Fj(x)p Fp(,)12
b(where)p 1113 -65 V 1113 -34 a Fj(\036)k Fp(=)g(\(\()p
Fj(\036)1251 -52 y Fh(T)1269 -47 y Fg(1)1251 -25 y Fi(1)1287
-34 y Fj(;)6 b(:)g(:)g(:)g(;)g(\036)1395 -50 y Fh(T)1413
-45 y Fg(1)1395 -28 y Fh(n)1414 -23 y Fg(1)1432 -34 y
Fp(\))p Fj(;)g(:)h(:)f(:)g(;)g Fp(\()p Fj(\036)1571 -51
y Fh(T)1589 -47 y Ff(r)1571 -25 y Fi(1)1608 -34 y Fj(;)g(:)g(:)g(:)g(;)
g(\036)1716 -50 y Fh(T)1734 -46 y Ff(r)1716 -28 y Fh(n)1735
-24 y Ff(r)1754 -34 y Fp(\)\))15 b(and)i(for)f(all)h
Fj(k)1113 17 y Fp(and)g Fj(i)p Fp(,)f Fj(\036)1254 -2
y Fh(T)1272 4 y Ff(k)1254 27 y Fh(i)1308 17 y Fp(is)g(computed)h(b)o(y)
f(recursiv)o(ely)i(impro)o(ving)g(the)1113 58 y(equation:)1229
127 y Fj(\036)1252 108 y Fh(T)1270 114 y Ff(k)1252 137
y Fh(i)1290 127 y Fp(\()p Fj(r)1322 131 y Fi(1)1339 127
y Fj(;)7 b(:)f(:)g(:)g(;)g(r)1442 131 y Fh(m)1469 136
y Ff(i)1485 127 y Fp(\))21 b(=)g Fj(g)q Fp(\()p Fj(f)1629
108 y Fh(T)1647 114 y Ff(k)1625 137 y Fh(i)1668 127 y
Fp(\()p Fj(x)1705 131 y Fi(1)1722 127 y Fj(;)6 b(:)g(:)g(:)g(;)g(x)1829
131 y Fh(m)1856 136 y Ff(i)1871 127 y Fp(\)\))1113 190
y(where)14 b(all)h Fj(x)1301 194 y Fh(i)1328 190 y Fp(and)f
Fj(r)1420 194 y Fh(i)1447 190 y Fp(are)g(new)g(v)n(ariables.)21
b(In)14 b(eac)o(h)g(case,)g Fj(\032)1113 232 y Fp(is)g(extended)g(with)
g(the)f(mappings)i(from)e(terms)g(in)1113 279 y(\()p
Fj(E)1158 260 y Fh(T)1176 266 y Ff(k)1156 289 y Fh(i)1197
279 y Fp(\()p Fj(id)1245 283 y Fi(1)1262 279 y Fj(;)7
b(:)f(:)g(:)g(;)g(id)1381 283 y Fh(q)1398 279 y Fj(;)g(id)1448
283 y Fi(1)1465 279 y Fj(;)g(:)h(:)f(:)g(;)g(g)1569 283
y Fh(k)1588 279 y Fj(;)g(:)g(:)g(:)g(;)g(id)1706 283
y Fh(r)1724 279 y Fp(\)\()p Fj(x)1776 283 y Fi(1)1793
279 y Fj(;)g(:)g(:)g(:)g(;)g(x)1900 283 y Fh(m)1927 288
y Ff(i)1942 279 y Fp(\)\))k(to)1113 320 y(v)n(ariables)16
b Fj(r)1290 324 y Fi(1)1307 320 y Fj(;)6 b(:)g(:)h(:)f(;)g(r)1410
324 y Fh(m)1437 329 y Ff(i)1452 320 y Fp(.)1113 373 y(F)m(or)j
(example,)i(from)e(the)g(fold)h(promotion)h(theorem)e(for)g(lists:)1237
441 y Fj(g)q Fp(\(fold)1335 423 y Fh(list)1385 441 y
Fp(\()p Fj(f)1419 445 y Fh(n)1439 441 y Fj(;)d(f)1475
445 y Fh(c)1491 441 y Fp(\))g Fj(x)p Fp(\))21 b(=)h(fold)1685
423 y Fh(list)1734 441 y Fp(\()p Fj(\036)1772 445 y Fh(n)1793
441 y Fj(;)6 b(\036)1833 445 y Fh(c)1849 441 y Fp(\))h
Fj(x)1113 504 y Fp(where)1162 559 y Fj(\036)1185 563
y Fh(n)1206 559 y Fp(\(\))118 b(=)37 b Fj(g)q Fp(\()p
Fj(f)1474 563 y Fh(n)1496 559 y Fp(\(\)\))1162 601 y
Fj(\036)1185 605 y Fh(c)1201 601 y Fp(\()p Fj(r)1233
605 y Fi(1)1250 601 y Fj(;)6 b(r)1284 605 y Fi(2)1302
601 y Fp(\))37 b(=)g Fj(g)q Fp(\()p Fj(f)1474 605 y Fh(c)1491
601 y Fp(\()p Fj(x)1528 605 y Fi(1)1545 601 y Fj(;)6
b(x)1584 605 y Fi(2)1601 601 y Fp(\)\))37 b Fj(\032)p
Fp([)p Fj(x)1721 605 y Fi(1)1738 601 y Fj(=r)1774 605
y Fi(1)1791 601 y Fj(;)13 b(g)q Fp(\()p Fj(x)1871 605
y Fi(2)1888 601 y Fp(\))p Fj(=r)1939 605 y Fi(2)1957
601 y Fp(])1076 678 y(If)f Fj(C)1141 682 y Fh(i)1168
678 y Fp(has)h(t)o(yp)q(e)h(\()p Fj(t)1352 682 y Fi(1)1369
678 y Fj(;)6 b(:)g(:)g(:)g(;)g(t)1468 682 y Fh(m)1497
678 y Fp(\))11 b Fl(!)g Fj(T)5 b Fp(,)13 b(then)h Fj(\036)1734
682 y Fh(i)1760 678 y Fp(satis\014es)1020 720 y Fj(\036)1043
724 y Fh(i)1056 720 y Fp(\()p Fj(K)s Fp([)p Fj(t)1132
724 y Fi(1)1148 720 y Fp(])6 b Fj(x)1187 724 y Fi(1)1204
720 y Fj(;)g(:)g(:)g(:)g(;)g(K)s Fp([)p Fj(t)1350 724
y Fh(m)1378 720 y Fp(])h Fj(x)1418 724 y Fh(m)1447 720
y Fp(\))12 b(=)f Fj(g)q Fp(\()p Fj(f)1568 724 y Fh(i)1582
720 y Fp(\()p Fj(x)1619 724 y Fi(1)1636 720 y Fj(;)6
b(:)g(:)g(:)g(;)g(x)1743 724 y Fh(m)1772 720 y Fp(\)\).)19
b(In)14 b(order)g(to)1020 761 y(solv)o(e)c(this)f(equation)i(for)e
Fj(\036)1411 765 y Fh(i)1424 761 y Fp(,)g(w)o(e)f(need)h(to)g
(transform)g Fj(g)q Fp(\()p Fj(f)1849 765 y Fh(i)1862
761 y Fp(\()p Fj(x)1899 765 y Fi(1)1916 761 y Fj(;)d(:)h(:)f(:)g(;)g(x)
2024 765 y Fh(m)2053 761 y Fp(\)\))1020 803 y(in)o(to)17
b(a)g(term)f Fl(X)5 b Fp(\()p Fj(K)s Fp([)p Fj(t)1340
807 y Fi(1)1357 803 y Fp(])h Fj(x)1396 807 y Fi(1)1413
803 y Fj(;)g(:)g(:)g(:)g(;)16 b(K)s Fp([)p Fj(t)1569
807 y Fh(m)1597 803 y Fp(])6 b Fj(x)1636 807 y Fh(m)1665
803 y Fp(\),)17 b(where)f Fl(X)22 b Fp(do)q(es)17 b(not)1020
844 y(dep)q(end)d(on)e(an)o(y)h(of)f Fj(x)1342 848 y
Fh(i)1355 844 y Fp(.)k(Then)d(generalizing)i Fj(K)s Fp([)p
Fj(t)1753 848 y Fh(i)1765 844 y Fp(])6 b Fj(x)1804 848
y Fh(i)1829 844 y Fp(to)12 b(the)g(v)n(ari-)1020 886
y(able)19 b Fj(r)1123 890 y Fh(i)1154 886 y Fp(w)o(e)e(\014nd)h
Fj(\036)1319 890 y Fh(i)1357 886 y Fp(=)24 b Fl(X)5 b
Fp(.)32 b(The)17 b(generalization)k(function,)f Fj(\032)p
Fp(,)1020 927 y(pla)o(ys)14 b(this)g(role.)1076 969 y(The)j
(normalization)i(algorithm)g(can)e(b)q(e)g(implemen)o(ted)i(v)o(ery)
1020 1010 y(e\016cien)o(tly)m(.)27 b(Whenev)o(er)17 b(w)o(e)e(apply)i
(the)f(promotion)h(theorem)g(w)o(e)1020 1052 y(annotate)g(eac)o(h)f
(function)h Fj(g)g Fp(\(the)f(left)g(part)g(of)g(the)g(application\))
1020 1093 y(with)f(a)g(new)f(n)o(um)o(b)q(er.)23 b(Then,)15
b(instead)h(of)f(inserting)i Fj(g)q Fp(\()p Fj(x)1892
1097 y Fh(i)1905 1093 y Fp(\))p Fj(=r)1956 1097 y Fh(i)1984
1093 y Fp(in)1020 1135 y Fj(\032)p Fp(,)e(for)f(some)i(v)n(ariables)h
Fj(x)1408 1139 y Fh(i)1436 1135 y Fp(and)e Fj(r)1529
1139 y Fh(i)1543 1135 y Fp(,)g(w)o(e)f(insert)i(the)f(triple)i(of)d
(this)1020 1176 y(n)o(um)o(b)q(er)k(with)f Fj(x)1277
1180 y Fh(i)1307 1176 y Fp(and)h Fj(r)1403 1180 y Fh(i)1416
1176 y Fp(.)29 b(Then)17 b(the)g(generalizatio)q(n)j(phase)e(is)1020
1218 y(done)g(b)o(y)g(c)o(hec)o(king)h(if)f(the)g(curren)o(t)g(term)f
Fj(f)t Fp(\()p Fj(x)p Fp(\))f(w)o(as)i(annotated)1020
1259 y(b)o(y)c(a)f(n)o(um)o(b)q(er)h(already)h(in)f Fj(\032)p
Fp(.)j(That)c(w)o(a)o(y)m(,)g(the)h(complexit)o(y)h(of)e(the)1020
1301 y(normalization)j(algorithm)e(is)f(linear)h(in)f(the)f(size)h(of)g
(the)f(resulting)1020 1342 y(canonical)k(term.)1020 1434
y Fq(5.3)41 b(One)13 b(Example)g(of)g(Program)g(No)o(rmalizatio)o(n)
1020 1499 y Fp(The)c(follo)o(wing)i(normalizes)f(the)f(comp)q(osition)j
(length)q(\(app)q(end)r(\()p Fj(x;)6 b(y)q Fp(\)\))1020
1541 y(where:)1055 1600 y(length)q(\()p Fj(x)p Fp(\))93
b(=)37 b(fold)1434 1584 y Fh(list)1484 1600 y Fp(\()p
Fj(\025)p Fp(\(\))p Fj(:)p Fp(Zero)p Fj(;)6 b(\025)p
Fp(\()p Fj(a;)h(r)q Fp(\))p Fj(:)p Fp(Succ)q(\()p Fj(r)q
Fp(\)\))f Fj(x)1055 1645 y Fp(app)q(end)r(\()p Fj(x;)f(y)q
Fp(\))38 b(=)f(fold)1434 1629 y Fh(list)1484 1645 y Fp(\()p
Fj(f)1518 1649 y Fh(n)1538 1645 y Fj(;)7 b(f)1575 1649
y Fh(c)1590 1645 y Fp(\))f Fj(x)1371 1717 y Fp(where)1476
1659 y Fb(\032)1526 1695 y Fj(f)1545 1699 y Fh(n)1603
1695 y Fp(=)37 b Fj(\025)p Fp(\(\))p Fj(:y)1526 1736
y(f)1545 1740 y Fh(c)1603 1736 y Fp(=)g Fj(\025)p Fp(\()p
Fj(a;)7 b(r)q Fp(\))p Fj(:)p Fp(Cons\()p Fj(a;)f(r)q
Fp(\))1020 1816 y(W)m(e)20 b(need)g(to)g(\014nd)h(some)f(fold)1493
1800 y Fh(list)1542 1816 y Fp(\()p Fj(\036)1580 1820
y Fh(n)1601 1816 y Fj(;)6 b(\036)1641 1820 y Fh(c)1657
1816 y Fp(\))h Fj(x)19 b Fp(equiv)n(alen)o(t)j(to)e(the)1020
1858 y(comp)q(osition)c(length)r(\(app)q(end)r(\()p Fj(x;)5
b(y)q Fp(\)\).)19 b(The)14 b(normalization)j(algo-)1020
1899 y(rithm)d(for)f Fj(g)f Fp(=)h(length)h(giv)o(es:)1039
1961 y Fj(\036)1062 1965 y Fh(n)1083 1961 y Fp(\(\))118
b(=)37 b(length)r(\()p Fj(f)1437 1965 y Fh(n)1458 1961
y Fp(\(\)\))1448 2003 y(where)13 b Fj(\032)e Fp(=)f([)c(])1231
2044 y(=)37 b(length)r(\()p Fj(y)q Fp(\))1231 2090 y(=)g(fold)1361
2074 y Fh(list)1411 2090 y Fp(\()p Fj(\025)p Fp(\(\))p
Fj(:)p Fp(Zero)q Fj(;)6 b(\025)p Fp(\()p Fj(a;)g(r)q
Fp(\))p Fj(:)p Fp(Succ)q(\()p Fj(r)q Fp(\)\))h Fj(y)1039
2131 y(\036)1062 2135 y Fh(c)1078 2131 y Fp(\()p Fj(r)1110
2135 y Fi(1)1127 2131 y Fj(;)f(r)1161 2135 y Fi(2)1179
2131 y Fp(\))37 b(=)g(length)r(\()p Fj(f)1437 2135 y
Fh(c)1452 2131 y Fp(\()p Fj(x)1489 2135 y Fi(1)1506 2131
y Fj(;)7 b(x)1546 2135 y Fi(2)1563 2131 y Fp(\)\))1448
2173 y(where)k Fj(\032)g Fp(=)f([)p Fj(x)1661 2177 y
Fi(1)1678 2173 y Fj(=r)1714 2177 y Fi(1)1732 2173 y Fj(;)i
Fp(length)r(\()p Fj(x)1897 2177 y Fi(2)1914 2173 y Fp(\))p
Fj(=r)1965 2177 y Fi(2)1983 2173 y Fp(])1231 2214 y(=)37
b(length)r(\(Cons\()p Fj(x)1538 2218 y Fi(1)1555 2214
y Fj(;)6 b(x)1594 2218 y Fi(2)1611 2214 y Fp(\)\))1231
2256 y(=)37 b(Succ)q(\(length)r(\()p Fj(x)1532 2260 y
Fi(2)1549 2256 y Fp(\)\))1231 2297 y(=)g(Succ)q(\()p
Fj(r)1407 2301 y Fi(2)1425 2297 y Fp(\))1448 2339 y(\(length)r(\()p
Fj(x)1605 2343 y Fi(2)1622 2339 y Fp(\))13 b(w)o(as)f(generalized)k(to)
d Fj(r)1986 2343 y Fi(2)2003 2339 y Fp(\))1020 2405 y(Therefore,)g(the)
g(comp)q(osition)j(length)q(\(app)q(end)r(\()p Fj(x;)5
b(y)q Fp(\)\))13 b(is:)1134 2473 y(fold)1197 2457 y Fh(list)1246
2473 y Fp(\()p Fj(\025)p Fp(\(\))p Fj(:)p Fp(fold)1387
2457 y Fh(list)1437 2473 y Fp(\()p Fj(\025)p Fp(\(\))p
Fj(:)p Fp(Zero)p Fj(;)6 b(\025)p Fp(\()p Fj(a;)h(r)q
Fp(\))p Fj(:)p Fp(Succ)q(\()p Fj(r)q Fp(\)\))g Fj(y)q(;)1261
2515 y(\025)p Fp(\()p Fj(r)1315 2519 y Fi(1)1333 2515
y Fj(;)f(r)1367 2519 y Fi(2)1385 2515 y Fp(\))p Fj(:)p
Fp(Succ\()p Fj(r)1519 2519 y Fi(2)1537 2515 y Fp(\)\))g
Fj(x)1020 2581 y Fp(Note)13 b(that)g(the)g(in)o(termediate)i(list)f
(structure)f(app)q(end)r(\()p Fj(x;)6 b(y)q Fp(\))12
b(is)i(no)1020 2622 y(longer)g(pro)q(duced.)961 2747
y(5)p eop
%%Page: 6 6
6 5 bop -76 -34 a Fq(5.4)41 b(Co)o(rrectness)13 b(of)g(the)h(No)o
(rmalizatio)o(n)d(Algo)o(rithm)-76 31 y Fp(In)h(this)i(section)f(w)o(e)
f(outline)i(a)f(pro)q(of)f(that)h(the)f(normalization)k(al-)-76
73 y(gorithm)g(transforms)f(an)o(y)h(p)q(oten)o(tially)i(normalizable)g
(term)c(in)o(to)-76 114 y(canonical)j(form.)22 b(Here)14
b(w)o(e)h(consider)h(folds)f(consisting)j(of)c(sums-)-76
156 y(of-pro)q(ducts)g(t)o(yp)q(es)f(where)g(the)g(recursiv)o(e)h(t)o
(yp)q(e,)f Fj(T)5 b Fp(,)13 b(do)q(es)g(not)g(ap-)-76
197 y(p)q(ear)j(as)f(a)h(parameter)f(to)h(some)f(other)h(parametric)g
(t)o(yp)q(e.)24 b(That)-76 239 y(is,)17 b(w)o(e)e(do)h(not)g(consider)h
(t)o(yp)q(es)g(suc)o(h)f(as)g(bush)q(\()p Fj(\013)p Fp(\))f(=)g(Leaf\()
p Fj(\013)p Fp(\))30 b Fl(j)-76 280 y Fp(Branc)o(h)q(\(list)r(\(bush)q
(\()p Fj(\013)p Fp(\)\)\).)-20 322 y(W)m(e)11 b(can)g(see)f(from)h(the)
f(de\014nitions)k(of)c(the)h(term)f(language)j(and)-76
363 y(canonical)i(forms)e(that)g(folds,)g Fj(g)q Fp(,)g(of)f(the)h
(form)f(fold)687 348 y Fh(T)712 363 y Fp(\()p 727 332
23 2 v Fj(f)s Fp(\))7 b Fj(t)12 b Fp(need)h(to)-76 405
y(b)q(e)g(rewritten)h(in)o(to)g(folds)g(o)o(v)o(er)f(v)n(ariables.)-20
446 y(If)e Fj(t)g Fp(is)g(a)g(construction,)j(then)d(w)o(e)g(apply)i
(the)e Fo(applic)n(ation)o(-to)o(-a-)-76 488 y(c)n(onstruction)f
Fp(rule.)21 b(In)14 b(that)h(case)f(the)g(fold,)h Fj(g)q
Fp(,)f(is)h(pushed)g(inside)-76 529 y(to)f(only)h(those)f(comp)q(onen)o
(ts)h(of)f(the)g(construction)h(that)f(ha)o(v)o(e)h(re-)-76
571 y(cursiv)o(e)f(t)o(yp)q(e.)-20 612 y(If)g Fj(t)h
Fp(is)g(a)g(fold,)g(then)g Fj(g)h Fp(is)g(pushed)g(in)o(to)f(the)g
(accum)o(ulators)h(of)-76 654 y(the)c(inner)g(fold,)g(as)g(is)g
(directed)h(b)o(y)e(the)h(fold)g(promotion)h(theorem,)-76
695 y(and)h(some)f(new)g(mappings)i(are)e(attac)o(hed)h(to)f
Fj(\032)p Fp(.)-20 737 y(After)k(recursiv)o(ely)i(applying)h(the)d
(normalization)j(algorithm)-76 779 y(only)c(terms)e(of)f(the)i(form)f
Fj(g)q Fp(\()p Fj(x)p Fp(\),)g(where)g Fj(x)f Fp(is)i(a)f(v)n(ariable,)
i(remain.)-76 820 y(If)11 b Fj(x)g Fp(is)i(an)f(accum)o(ulativ)o(e)i
(result)e(v)n(ariable,)i(then,)e(from)f(the)h(w)o(a)o(y)g
Fj(\032)-76 862 y Fp(w)o(as)i(extended)i(during)g(promotion,)g
Fj(g)q Fp(\()p Fj(x)p Fp(\))e(is)h(alw)o(a)o(ys)h(b)q(ound)f(in)h
Fj(\032)-76 903 y Fp(to)d(some)g(new)f(v)n(ariable,)j
Fj(r)q Fp(.)i(This)c(is)h(the)f(generalization)j(phase)d(of)-76
945 y(the)j(algorithm.)26 b(If)15 b Fj(x)g Fp(is)h(not)f(an)h(accum)o
(ulativ)o(e)i(result)e(v)n(ariable,)-76 986 y(then)d
Fj(g)q Fp(\()p Fj(x)p Fp(\))g(remains)g(as)g(is.)18 b(Therefore,)12
b(all)i(folds)f(in)g(the)g(resulting)-76 1028 y(term)i(are)h(o)o(v)o
(er)f(non-accum)o(ulativ)o(e)j(result)f(v)n(ariables.)25
b(It)15 b(is)h(nec-)-76 1069 y(essary)h(to)f(pro)o(v)o(e)h(that)f
(after)g(fold)h(promotion)h(there)f(remain)g(no)-76 1111
y(references)d(of)f(the)g(old)i(accum)o(ulativ)o(e)g(result)g(v)n
(ariables)g Fj(x)796 1115 y Fh(i)822 1111 y Fp(in)f(the)-76
1152 y(impro)o(v)o(ed)i Fj(g)q Fp(\()p Fj(f)146 1156
y Fh(i)160 1152 y Fp(\()p Fj(x)197 1156 y Fi(1)214 1152
y Fj(;)6 b(:)g(:)g(:)g(;)g(x)321 1156 y Fh(m)348 1161
y Ff(i)363 1152 y Fp(\)\))15 b(\(other)g(than)g(those)g(of)g(the)g
(form,)-76 1194 y Fj(g)q Fp(\()p Fj(x)-20 1198 y Fh(i)-6
1194 y Fp(\),)e(whic)o(h)i(ha)o(v)o(e)g(b)q(een)f(generalized)j(to)d
Fj(r)590 1198 y Fh(i)603 1194 y Fp(\),)g(lea)o(ving)i(the)e(term)-76
1235 y Fj(\036)-53 1239 y Fh(i)-40 1235 y Fp(\()p Fj(r)-8
1239 y Fi(1)10 1235 y Fj(;)6 b(:)g(:)g(:)g(;)g(r)112
1239 y Fh(m)139 1244 y Ff(i)155 1235 y Fp(\).)16 b(There)10
b(are)g(t)o(w)o(o)g(places)h(that)f(this)h(could)h(happ)q(en)-76
1277 y(\(that)h(will)i(b)q(e)e(ruled)h(out\):)-20 1348
y Fl(\017)19 b Fp(An)f(accum)o(ulativ)o(e)j(result)f(v)n(ariable,)h
Fj(x)p Fp(,)e(is)h(inside)g(a)f(non-)18 1390 y(recursiv)o(e)d(sub)q
(comp)q(onen)o(t)i(of)d(a)h(construction)h(\(b)q(ecause)g
Fj(g)18 1431 y Fp(is)10 b(not)h(pushed)g(inside)h(these)f(comp)q(onen)o
(ts\).)17 b(This)11 b(is)f(imp)q(os-)18 1473 y(sible)h(as)f(it)g(is)g
(ruled)h(out)f(b)o(y)g(t)o(yp)q(e)g(considerations.)19
b(Consider)18 1514 y(the)10 b(term,)h Fj(h)p Fp(\(Cons\()p
Fj(x;)6 b(l)q Fp(\)\),)k(where)h Fj(x)f Fp(is)h(an)g(accum)o(ulativ)o
(e)i(re-)18 1556 y(sult)d(v)n(ariable.)18 b(Either)11
b Fj(h)f Fp(is)h(the)f(iden)o(tit)o(y)m(,)i(a)e(construction)i(or)18
1597 y(a)e(fold.)17 b(A)10 b(fold)i(is)f(ruled)h(out)f(since)h(this)g
(w)o(ould)f(imply)i(a)d(fold)18 1639 y(o)o(v)o(er)f(a)h(term)g(con)o
(taining)i(an)e(accum)o(ulativ)o(e)i(result)e(v)n(ariable.)18
1680 y(Note)15 b(that)h(the)g(terms,)g Fj(h)p Fp(\(Cons\()p
Fj(x;)6 b(l)q Fp(\)\))16 b(and)g Fj(x)p Fp(,)g(m)o(ust)g(ha)o(v)o(e)18
1722 y(the)c(same)g(t)o(yp)q(e,)h Fj(T)5 b Fp(\()p Fj(\013)p
Fp(\).)16 b(This)d(rules)g(out)g(the)f(iden)o(tit)o(y)i(func-)18
1763 y(tion)h(and)h(constructions)g(since)g(they)f(lead)h(to)f(the)f
(circular)18 1805 y(t)o(yp)q(e)e(equations)j(of)d(the)g(form)g(list)r
(\()p Fj(T)5 b Fp(\()p Fj(\013)p Fp(\)\))17 b(=)g Fj(T)5
b Fp(\()p Fj(\013)p Fp(\),)12 b(and)h(all)18 1846 y(terms)g(are)g(w)o
(ell)h(t)o(yp)q(ed.)-20 1918 y Fl(\017)19 b Fp(An)14
b(accum)o(ulativ)o(e)j(result)e(v)n(ariable)i(app)q(ears)e(in)g(a)g
(term,)f Fj(t)p Fp(,)18 1959 y(tra)o(v)o(ersed)c(b)o(y)h(a)f(fold:)16
b(fold)412 1943 y Fh(T)436 1959 y Fp(\()p 451 1928 V
Fj(f)t Fp(\))6 b Fj(t)k Fp(\(b)q(ecause)h Fj(g)g Fp(is)g(not)f(pushed)
18 2001 y(inside)i Fj(t)f Fp(during)i(promotion\).)k(This)12
b(to)q(o)f(is)h(ruled)g(out)f(giv)o(en)18 2042 y(that)i(all)h(terms)f
(are)g(p)q(oten)o(tially)j(normalizabl)q(e.)-20 2114
y(The)c(comp)q(osition)i(of)e(t)o(w)o(o)f(or)g(more)h(canonical)i
(terms)e(is)g(a)g(p)q(o-)-76 2155 y(ten)o(tially)h(normalizable)g(term)
d(and,)h(therefore,)g(it)f(can)h(b)q(e)f(reduced)-76
2197 y(to)j(canonical)i(form.)h(This)d(mak)o(es)g(our)g(canonical)i
(term)d(language)-76 2238 y(closed)i(under)g(comp)q(osition.)-76
2336 y Fq(6)41 b(Other)13 b(P)o(atterns)h(of)e(Recursion)-76
2414 y Fp(In)h(this)h(section)g(w)o(e)e(catalog)i(other)g(patterns)f
(of)g(recursion)h(whic)o(h)-76 2456 y(ha)o(v)o(e)g(app)q(eared)h(in)g
(the)f(literature)h(or)f(b)q(een)g(in)o(v)o(estigated)i(b)o(y)e(the)-76
2497 y(authors.)1020 -34 y Fq(6.1)41 b(Derivations)1020
31 y Fp(The)16 b(Deriv)o(e)h(op)q(erator)g(\(anamorphism)h([13)q(],)d
(unfold)j([3]\))d(is)i(the)1020 73 y(opp)q(osite)j(of)e(the)g(fold)h
(op)q(erator.)33 b(Rather)18 b(than)h(tra)o(v)o(ersing)h(an)1020
114 y(ob)r(ject)14 b(of)f(t)o(yp)q(e)h Fj(T)19 b Fp(to)13
b(pro)q(duce)i(a)e(result)h(v)n(alue,)h(it)e(constructs)i(an)1020
156 y(ob)r(ject)e(of)g(t)o(yp)q(e)h Fj(T)k Fp(from)13
b(a)g(seed)h(v)n(alue.)k(T)m(o)13 b(describ)q(e)i(deriv)n(ations)1020
197 y(some)e(additional)k(mec)o(hanism)d(is)g(needed.)1020
291 y Fq(6.1.1)41 b(Prime)14 b(T)m(yp)q(es)1020 357 y
Fp(Asso)q(ciated)k(with)f(eac)o(h)g(t)o(yp)q(e,)h Fj(T)5
b Fp(,)18 b(is)f(a)f(related)i(\(non-recursiv)o(e\))1020
398 y(t)o(yp)q(e,)13 b Fj(T)1144 382 y Fa(0)1156 398
y Fp(,)g(suc)o(h)g(that)g(if)h Fj(T)k Fp(is)c(de\014ned)g(b)o(y:)1057
476 y Fj(T)5 b Fp(\()p 1099 454 25 2 v Fj(\013)q Fp(\))21
b(=)g Fj(C)1239 480 y Fi(1)1257 476 y Fp(\()p Fj(t)1286
480 y Fi(1)p Fh(;)p Fi(1)1328 476 y Fj(;)6 b(:)g(:)g(:)g(;)g(t)1427
480 y Fi(1)p Fh(;m)1478 485 y Fg(1)1497 476 y Fp(\))21
b Fl(j)g(\001)6 b(\001)g(\001)21 b(j)g Fj(C)1690 480
y Fh(n)1712 476 y Fp(\()p Fj(t)1741 480 y Fh(n;)p Fi(1)1787
476 y Fj(;)6 b(:)g(:)g(:)g(;)g(t)1886 480 y Fh(n;m)1941
484 y Ff(n)1964 476 y Fp(\))1020 555 y(then)14 b Fj(T)1135
539 y Fa(0)1159 555 y Fp(is)g(de\014ned)g(b)o(y:)1039
632 y Fj(T)5 b Fp(\()p 1081 611 V 1 x Fj(\013)1106 632
y(;)h(R)p Fp(\))22 b(=)f Fj(C)1270 617 y Fa(0)1267 639
y Fi(1)1285 632 y Fp(\()p Fj(s)1318 636 y Fi(1)p Fh(;)p
Fi(1)1359 632 y Fj(;)6 b(:)h(:)f(:)g(;)g(s)1463 636 y
Fi(1)p Fh(;m)1514 641 y Fg(1)1533 632 y Fp(\))21 b Fl(j)g(\001)6
b(\001)g(\001)21 b(j)g Fj(C)1729 617 y Fa(0)1726 639
y Fh(n)1748 632 y Fp(\()p Fj(s)1781 636 y Fh(n;)p Fi(1)1827
632 y Fj(;)6 b(:)g(:)g(:)g(;)g(s)1930 636 y Fh(n;m)1985
640 y Ff(n)2008 632 y Fp(\))1020 712 y(where)15 b Fj(s)1151
716 y Fh(i;j)1216 712 y Fp(=)28 b Fj(t)1288 716 y Fh(i;j)1324
712 y Fp([)p Fj(T)5 b Fp(\()p Fj(\013)1402 716 y Fi(1)1420
712 y Fj(;)h(:)g(:)g(:)g(;)g(\013)1530 716 y Fh(p)1548
712 y Fp(\))p Fj(=R)p Fp(].)22 b Fj(T)1682 696 y Fa(0)1709
712 y Fp(has)16 b(one)f(more)g(uni-)1020 753 y(v)o(ersally)h(quan)o
(ti\014ed)h(t)o(yp)q(e)e(v)n(ariable.)23 b(T)m(o)14 b(obtain)h(the)g
(righ)o(t)g(hand)1020 795 y(side)j(of)g(the)f(equation)i(de\014ning)h
Fj(T)1558 779 y Fa(0)1569 795 y Fp(,)e(this)h(v)n(ariable)g(replaces)g
(all)1020 836 y(\(recursiv)o(e\))f(o)q(ccurrences)h(of)e
Fj(T)5 b Fp(\()p Fj(\013)1540 840 y Fi(1)1557 836 y Fj(;)h(:)g(:)g(:)g
(;)h(\013)1668 840 y Fh(p)1685 836 y Fp(\))17 b(in)h(the)f(righ)o(t)h
(hand)1020 878 y(side)c(of)f(the)g(equation)i(for)d Fj(T)5
b Fp(.)1076 919 y(In)14 b(category)g(theory)m(,)g Fj(T)20
b Fp(is)14 b(often)g(de\014ned)h(in)f(terms)g(of)g Fj(T)1946
903 y Fa(0)1958 919 y Fp(,)f(as)1020 961 y(its)i(least)h(\014xed)g(p)q
(oin)o(t.)23 b(Since)16 b(functional)i(programmers)d(are)g(ac-)1020
1002 y(customed)c(to)g(writing)g(recursiv)o(e)h(equations,)h(w)o(e)d(c)
o(ho)q(ose)h(to)f(de\014ne)1020 1044 y Fj(T)1047 1028
y Fa(0)1072 1044 y Fp(in)k(terms)f(of)f Fj(T)5 b Fp(.)18
b(Some)13 b(examples)i(are:)1183 1121 y(list)r(\()p Fj(\013)p
Fp(\))37 b(=)g(Nil)22 b Fl(j)f Fp(Cons)q(\()p Fj(\013;)5
b Fp(list)r(\()p Fj(\013)p Fp(\)\))1126 1163 y(list)1177
1147 y Fa(0)1188 1163 y Fp(\()p Fj(\013;)h(R)p Fp(\))38
b(=)f(Nil)1444 1147 y Fa(0)1476 1163 y Fl(j)21 b Fp(Cons)1592
1147 y Fa(0)1603 1163 y Fp(\()p Fj(\013;)6 b(R)p Fp(\))1156
1246 y(bush)q(\()p Fj(\013)p Fp(\))37 b(=)g(Leaf\()p
Fj(\013)p Fp(\))21 b Fl(j)g Fp(Branc)o(h)q(\(list)q(\(bush)q(\()p
Fj(\013)p Fp(\)\)\))1098 1288 y(bush)1177 1272 y Fa(0)1188
1288 y Fp(\()p Fj(\013;)6 b(R)p Fp(\))38 b(=)f(Leaf)1466
1272 y Fa(0)1477 1288 y Fp(\()p Fj(\013)p Fp(\))21 b
Fl(j)g Fp(Branc)o(h)1705 1272 y Fa(0)1716 1288 y Fp(\(list)q(\()p
Fj(R)p Fp(\)\))1020 1380 y(Note)13 b(that)g(the)g(map)1335
1364 y Fh(T)1357 1353 y Fn(0)1383 1380 y Fp(de\014ned)h(b)o(y)g(the)f
(equations:)1074 1468 y(map)1147 1450 y Fh(T)1169 1439
y Fn(0)1182 1468 y Fp(\()p Fj(f)1216 1472 y Fi(1)1233
1468 y Fj(;)6 b(:)g(:)g(:)h(;)f(f)1338 1472 y Fh(p)1355
1468 y Fj(;)g(f)1391 1472 y Fh(R)1416 1468 y Fp(\))j
Fl(\016)f Fj(C)1497 1450 y Fa(0)1494 1474 y Fh(i)1530
1468 y Fp(=)21 b Fj(C)1611 1450 y Fa(0)1608 1474 y Fh(i)1631
1468 y Fl(\016)9 b Fj(E)1689 1450 y Fh(T)1687 1474 y(i)1713
1468 y Fp(\()p Fj(f)1747 1472 y Fi(1)1764 1468 y Fj(;)d(:)g(:)g(:)g(;)h
(f)1869 1472 y Fh(p)1886 1468 y Fj(;)f(f)1922 1472 y
Fh(R)1947 1468 y Fp(\))1020 1556 y(is)19 b(a)g(functor.)34
b(Note)19 b(that)g(since)g Fj(T)1581 1540 y Fa(0)1612
1556 y Fp(is)g(not)g(recursiv)o(e,)i(map)1981 1540 y
Fh(T)2003 1530 y Fn(0)1020 1597 y Fp(is)15 b(not)g(recursiv)o(e)h
(either.)23 b(And)15 b(since)h Fj(T)k Fp(and)15 b Fj(T)1748
1582 y Fa(0)1775 1597 y Fp(ha)o(v)o(e)g(the)g(same)1020
1639 y(\\shap)q(e",)d(it)e(is)h(p)q(ossible)h(to)f(use)f(the)g(functor)
h Fj(E)1719 1623 y Fh(T)1717 1646 y(i)1753 1639 y Fp(in)g(the)f
(de\014nition)1020 1688 y(of)j(map)1136 1672 y Fh(T)1158
1662 y Fn(0)1172 1688 y Fp(.)k(F)m(or)12 b(example:)1257
1774 y(map)1330 1758 y Fh(list)1378 1748 y Fn(0)1401
1774 y Fp(\()p Fj(f)r(;)6 b(R)p Fp(\))11 b(Nil)1559 1758
y Fa(0)1607 1774 y Fp(=)37 b(Nil)1725 1758 y Fa(0)1086
1825 y Fp(map)1158 1809 y Fh(list)1206 1798 y Fn(0)1230
1825 y Fp(\()p Fj(f)r(;)5 b(R)p Fp(\))11 b(\(Cons)1435
1809 y Fa(0)1447 1825 y Fp(\()p Fj(x;)5 b(xs)p Fp(\)\))37
b(=)g(Cons)1758 1809 y Fa(0)1769 1825 y Fp(\()p Fj(f)14
b(x;)6 b(R)11 b(xs)p Fp(\))1020 1916 y(The)i(function)i(in)1282
1900 y Fh(T)1320 1916 y Fp(de\014ned)g(b)o(y)e(in)1538
1900 y Fh(T)1586 1916 y Fp(=)22 b(fold)1701 1900 y Fh(T)1723
1890 y Fn(0)1737 1916 y Fp(\()p Fj(C)1779 1920 y Fi(1)1797
1916 y Fj(;)6 b(:)g(:)g(:)g(;)g(C)1909 1920 y Fh(n)1931
1916 y Fp(\))13 b(can)1020 1957 y(also)h(b)q(e)f(giv)o(en)i(b)o(y)e
(the)g(equations:)1395 2041 y(in)1427 2023 y Fh(T)1460
2041 y Fl(\016)8 b Fj(C)1517 2023 y Fa(0)1514 2047 y
Fh(i)1550 2041 y Fp(=)21 b Fj(C)1628 2045 y Fh(i)1020
2119 y Fp(It)10 b(injects)g(a)g(v)n(alue)i(of)d(t)o(yp)q(e)i
Fj(T)1453 2103 y Fa(0)1465 2119 y Fp(\()p Fj(\013)1505
2123 y Fi(1)1522 2119 y Fj(;)6 b(:)g(:)g(:)g(;)g(\013)1632
2123 y Fh(p)1650 2119 y Fj(;)g(T)f Fp(\()p Fj(\013)1734
2123 y Fi(1)1751 2119 y Fj(;)h(:)g(:)h(:)f(;)g(\013)1862
2123 y Fh(p)1879 2119 y Fp(\)\))k(to)g(the)1020 2160
y(t)o(yp)q(e)j Fj(T)5 b Fp(\()p Fj(\013)1173 2164 y Fi(1)1191
2160 y Fj(;)h(:)g(:)g(:)g(;)g(\013)1301 2164 y Fh(p)1319
2160 y Fp(\).)17 b(F)m(or)c(example:)1379 2244 y(in)1411
2228 y Fh(list)1471 2244 y Fp(Nil)1521 2228 y Fa(0)1570
2244 y Fp(=)37 b(Nil)1207 2290 y(in)1239 2274 y Fh(list)1300
2290 y Fp(\(Cons)1398 2274 y Fa(0)1409 2290 y Fp(\()p
Fj(x;)6 b(xs)p Fp(\)\))37 b(=)g(Cons)q(\()p Fj(x;)5 b(xs)p
Fp(\))1020 2372 y Fk(De\014nition)12 b(8)j(\(Deriv)o(e\))k
Fo(The)12 b(derive)f(function)f(with)i(typ)n(e)f Fj(\014)h
Fl(!)1020 2413 y Fj(T)5 b Fp(\()p Fj(\013)1087 2417 y
Fi(1)1105 2413 y Fj(;)h(:)g(:)g(:)g(;)g(\013)1215 2417
y Fh(p)1233 2413 y Fp(\))13 b Fo(is)g(given)f(by)h(a)h(template)e(of)h
(the)f(form)1039 2501 y Fp(Deriv)o(e)1147 2486 y Fh(T)1182
2501 y Fj(P)42 b Fp(=)c(in)1349 2486 y Fh(T)1381 2501
y Fl(\016)9 b Fp(\(map)1497 2486 y Fh(T)1519 2475 y Fn(0)1532
2501 y Fp(\()p Fj(id)1580 2505 y Fi(1)1597 2501 y Fj(;)d(:)h(:)f(:)g(;)
g(id)1716 2505 y Fh(p)1734 2501 y Fj(;)g Fp(Deriv)o(e)1859
2486 y Fh(T)1894 2501 y Fj(P)f Fp(\)\))j Fl(\016)h Fj(P)1020
2581 y Fo(The)16 b(function)e Fj(P)22 b Fo(is)16 b(c)n(al)r(le)n(d)f(a)
h Fp(splitting)j(function)g Fo(and)c(has)h(typ)n(e)1020
2622 y Fj(\014)c Fl(!)f Fj(T)1130 2607 y Fa(0)1142 2622
y Fp(\()p Fj(\013)1182 2626 y Fi(1)1199 2622 y Fj(;)6
b(:)g(:)g(:)g(;)g(\013)1309 2626 y Fh(p)1327 2622 y Fj(;)g(\014)r
Fp(\))p Fo(.)961 2747 y Fp(6)p eop
%%Page: 7 7
7 6 bop -76 -34 a Fp(F)m(or)13 b(example,)h(the)f(deriv)n(ation)j(for)c
Fj(l)q(ist)h Fp(could)i(b)q(e)e(written)g(as:)-19 41
y(Deriv)o(e)89 25 y Fh(list)150 41 y Fj(P)i(x)21 b Fp(=)61
83 y(case)11 b Fj(P)16 b(x)10 b Fp(of)128 125 y(Nil)178
109 y Fa(0)368 125 y Fl(\))38 b Fp(Nil)80 171 y Fl(j)f
Fp(Cons)211 155 y Fa(0)223 171 y Fp(\()p Fj(x;)5 b(xs)p
Fp(\))37 b Fl(\))h Fp(Cons\()p Fj(x;)6 b Fp(Deriv)o(e)690
155 y Fh(list)750 171 y Fj(P)15 b(xs)p Fp(\))-76 244
y(Using)e(this)h(de\014nition,)h(the)d(list)i(of)e(in)o(tegers)h(from)f
(starting)i(p)q(oin)o(t)-76 286 y Fj(n)p Fp(,)f(upto)g
Fj(m)p Fp(,)g(is)g(giv)o(en)i(b)o(y)e(the)g(deriv)n(ation:)-39
364 y(Deriv)o(e)69 346 y Fh(list)119 364 y Fp(\()p Fj(\025)6
b(x:)k Fp(if)i Fj(x)e Fl(\025)h Fj(m)f Fp(then)h(Nil)491
346 y Fa(0)513 364 y Fp(else)h(Cons)667 346 y Fa(0)679
364 y Fp(\()p Fj(x;)5 b(x)k Fp(+)f(1\)\))j Fj(n)-76 436
y Fp(Unlik)o(e)k(folds,)f(whic)o(h)g(alw)o(a)o(ys)g(terminate)g(\(if)f
(their)i(accum)o(ulating)-76 478 y(functions)h(terminate\),)f(it)g(is)g
(p)q(ossible)i(to)d(construct)i(deriv)n(ations)-76 519
y(whic)o(h)11 b(construct)g(in\014nite)i(v)n(alues.)k(F)m(or)10
b(example,)i(the)f(in\014nite)h(list)-76 561 y(from)h(starting)h(p)q
(oin)o(t)g Fj(n)p Fp(,)f(is)h(giv)o(en)g(b)o(y)f(the)g(deriv)n(ation:)
152 638 y(Deriv)o(e)260 620 y Fh(list)310 638 y Fp(\()p
Fj(\025)7 b(x:)f Fp(Cons)476 620 y Fa(0)487 638 y Fp(\()p
Fj(x;)g(x)i Fp(+)h(1\)\))h Fj(n)-76 711 y Fp(In)j(this)h(example)h(the)
e(splitting)j(function)e(nev)o(er)g(returns)f(Nil)851
695 y Fa(0)863 711 y Fp(,)f(so)-76 752 y(the)h(deriv)n(ation)j(expands)
e(inde\014nitel)q(y)m(.)-76 819 y Fk(Theorem)h(3)g(\(The)f(Deriv)o(e)h
(Promotion)f(Theorem\))133 901 y Fp(map)205 886 y Fh(T)227
875 y Fn(0)241 901 y Fp(\()p Fj(id)289 905 y Fi(1)306
901 y Fj(;)6 b(:)g(:)g(:)g(;)h(id)425 905 y Fh(p)443
901 y Fj(;)f(g)q Fp(\))j Fl(\016)g Fj(\036)21 b Fp(=)g
Fj(P)13 b Fl(\016)c Fj(g)p 114 916 617 2 v 173 963 a
Fp(\(Deriv)o(e)297 947 y Fh(T)332 963 y Fj(P)c Fp(\))j
Fl(\016)h Fj(g)23 b Fp(=)e(Deriv)o(e)613 947 y Fh(T)648
963 y Fj(\036)-76 1039 y Fo(Pr)n(o)n(of:)16 b Fp(Let)d
Fj(\021)f Fp(=)f(\(Deriv)o(e)306 1023 y Fh(T)341 1039
y Fj(P)5 b Fp(\))j Fl(\016)h Fj(g)q Fp(.)-76 1106 y Fj(\021)j
Fp(=)f(\(Deriv)o(e)119 1090 y Fh(T)154 1106 y Fj(P)5
b Fp(\))j Fl(\016)h Fj(g)-45 1156 y Fp(=)22 b(in)39 1140
y Fh(T)71 1156 y Fl(\016)9 b Fp(map)172 1140 y Fh(T)194
1130 y Fn(0)207 1156 y Fp(\()p Fj(id)255 1160 y Fi(1)272
1156 y Fj(;)e(:)f(:)g(:)g(;)g(id)391 1160 y Fh(p)409
1156 y Fj(;)g Fp(Deriv)o(e)534 1140 y Fh(T)569 1156 y
Fj(P)f Fp(\))k Fl(\016)f Fj(P)14 b Fl(\016)8 b Fj(g)146
1197 y Fp(b)o(y)13 b(De\014nition)j(8)-45 1248 y(=)11
b(in)28 1232 y Fh(T)52 1248 y Fl(\016)g Fp(map)155 1232
y Fh(T)177 1221 y Fn(0)190 1248 y Fp(\()p Fj(id)238 1252
y Fi(1)255 1248 y Fj(;)6 b(:)h(:)f(:)g(;)g(id)374 1252
y Fh(p)392 1248 y Fj(;)g Fp(Deriv)o(e)517 1232 y Fh(T)552
1248 y Fj(P)f Fp(\))52 1298 y Fl(\016)11 b Fp(map)155
1282 y Fh(T)177 1272 y Fn(0)190 1298 y Fp(\()p Fj(id)238
1302 y Fi(1)255 1298 y Fj(;)6 b(:)h(:)f(:)g(;)g(id)374
1302 y Fh(p)392 1298 y Fj(;)g(g)q Fp(\))j Fl(\016)g Fj(\036)146
1340 y Fp(b)o(y)k(premise)-45 1390 y(=)22 b(in)39 1374
y Fh(T)71 1390 y Fl(\016)9 b Fp(map)172 1374 y Fh(T)194
1364 y Fn(0)207 1390 y Fp(\()p Fj(id)255 1394 y Fi(1)272
1390 y Fj(;)e(:)f(:)g(:)g(;)g(id)391 1394 y Fh(p)409
1390 y Fj(;)g Fp(\(Deriv)o(e)549 1374 y Fh(T)584 1390
y Fj(P)f Fp(\))k Fl(\016)f Fj(g)q Fp(\))h Fl(\016)g Fj(\036)146
1440 y Fp(b)o(y)k(comp)q(osition)j(under)e(map)595 1424
y Fh(T)617 1414 y Fn(0)-45 1491 y Fp(=)22 b(in)39 1475
y Fh(T)71 1491 y Fl(\016)9 b Fp(map)172 1475 y Fh(T)194
1464 y Fn(0)207 1491 y Fp(\()p Fj(id)255 1495 y Fi(1)272
1491 y Fj(;)e(:)f(:)g(:)g(;)g(id)391 1495 y Fh(p)409
1491 y Fj(;)g(\021)q Fp(\))j Fl(\016)g Fj(\036)146 1532
y Fp(b)o(y)k(de\014nition)j(of)d Fj(\021)q Fp(.)-76 1598
y(Th)o(us)d(w)o(e)f(see)g(that)h Fj(\021)g Fp(has)g(the)g(form)f(of)g
(a)g(deriv)n(ation)j(with)e(splitting)-76 1639 y(function)15
b Fj(\036)p Fp(.)h Fc(2)-76 1732 y Fq(6.2)41 b(Primitive)13
b(Recursion)-76 1798 y Fp(While)k(the)d(fold)h(function)h(for)f(a)f(t)o
(yp)q(e)h Fj(T)20 b Fp(is)15 b(a)f(useful)i(function)g(it)-76
1839 y(is)g(not)g(as)g(general)h(as)f(one)g(w)o(ould)g(lik)o(e.)26
b(Consider)17 b(the)f(factorial)-76 1881 y(function)f(and)e(the)g(fold)
h(for)f Fj(int)p Fp(:)15 1948 y(fold)78 1932 y Fh(int)133
1948 y Fp(\()p Fj(f)167 1952 y Fh(z)184 1948 y Fj(;)6
b(f)220 1952 y Fh(s)237 1948 y Fp(\))k(Zero)92 b(=)37
b Fj(f)514 1952 y Fh(z)532 1948 y Fp(\(\))15 1993 y(fold)78
1977 y Fh(int)133 1993 y Fp(\()p Fj(f)167 1997 y Fh(z)184
1993 y Fj(;)6 b(f)220 1997 y Fh(s)237 1993 y Fp(\))k(Succ)q(\()p
Fj(x)p Fp(\))37 b(=)g Fj(f)514 1997 y Fh(s)531 1993 y
Fp(\(fold)608 1977 y Fh(int)663 1993 y Fp(\()p Fj(f)697
1997 y Fh(z)715 1993 y Fj(;)6 b(f)751 1997 y Fh(s)767
1993 y Fp(\))11 b Fj(x)p Fp(\))-76 2073 y(Straigh)o(t-forw)o(ard)199
2057 y Fi(4)227 2073 y Fp(attempts)e(to)g(capture)g(factorial)i(as)e(a)
f(fold)i(o)o(v)o(er)-76 2114 y(the)j(natural)g(n)o(um)o(b)q(ers)h(fail)
f(since)g(the)g(accum)o(ulating)i(function)e Fj(f)904
2118 y Fh(s)-76 2156 y Fp(is)j(not)g(passed)g(a)g(cop)o(y)g(of)f(the)h
(v)n(alue)h(of)e Fj(x)p Fp(,)g(but)h(only)h(the)e(result)-76
2197 y(of)e(recursiv)o(ely)j(transforming)f Fj(x)p Fp(.)j(A)13
b(fold-lik)o(e)i(function)g(in)f(whic)o(h)-76 2239 y(the)c(accum)o
(ulating)i(functions)f(are)e(passed)i(b)q(oth)f(the)f(original)k(v)n
(ari-)-76 2280 y(able,)h(and)g(the)g(recursiv)o(ely)h(transformed)f(v)n
(alue)h(can)e(capture)h(\(in)-76 2322 y(a)e(straigh)o(t-forw)o(ard)h
(manner\))g(a)f(larger)h(class)g(of)e(functions.)18 b(Suc)o(h)-76
2363 y(a)c(function)i(for)e Fj(int)p Fp(,)g(and)g(a)g(de\014nition)j
(for)d(factorial)i(in)e(terms)g(of)-76 2405 y(it)g(follo)o(ws:)17
2472 y(Pr)59 2457 y Fh(int)114 2472 y Fp(\()p Fj(f)148
2476 y Fh(z)165 2472 y Fj(;)6 b(f)201 2476 y Fh(s)217
2472 y Fp(\))11 b(Zero)92 b(=)37 b Fj(f)495 2476 y Fh(z)512
2472 y Fp(\(\))17 2517 y(Pr)59 2501 y Fh(int)114 2517
y Fp(\()p Fj(f)148 2521 y Fh(z)165 2517 y Fj(;)6 b(f)201
2521 y Fh(s)217 2517 y Fp(\))11 b(Succ)q(\()p Fj(x)p
Fp(\))37 b(=)g Fj(f)495 2521 y Fh(s)511 2517 y Fp(\()p
Fj(x;)6 b Fp(Pr)606 2501 y Fh(int)661 2517 y Fp(\()p
Fj(f)695 2521 y Fh(z)712 2517 y Fj(;)h(f)749 2521 y Fh(s)765
2517 y Fp(\))j Fj(x)p Fp(\))p -76 2550 399 2 v -34 2577
a Fi(4)-16 2589 y Fm(By)j(straigh)o(t-forw)o(ard)f(w)o(e)g(mean)g(that)
g(the)g(co)q(domain)g(of)h(the)f(fold)h(is)g(a)-76 2622
y(simple)g(data)d(t)o(yp)q(e,)i(not)f(a)g(function)h(or)f(a)g(tuple.)
1198 -33 y Fp(fact)g Fj(n)38 b Fp(=)f(Pr)1441 -50 y Fh(int)1496
-33 y Fp(\()p Fj(\025)p Fp(\(\))p Fj(:)p Fp(1)p Fj(;)6
b(\025)p Fp(\()p Fj(i;)g(r)q Fp(\))p Fj(:i)j Fl(\003)g
Fj(r)q Fp(\))i Fj(n)1020 29 y Fp(W)m(e)16 b(call)i(suc)o(h)e(a)g
(function)i(for)e(a)g(t)o(yp)q(e)g(constructor)h Fj(T)22
b Fp(a)16 b Fo(primi-)1020 70 y(tive)f(r)n(e)n(cursion)e
Fp(function)k(\(paramorphism)h([13]\))d(for)g Fj(T)5
b Fp(,)16 b(since)h(it)1020 112 y(generalizes)g(the)d(primitiv)o(e)j
(recursion)f(induction)h(sc)o(heme)e(of)f(the)1020 153
y(natural)h(n)o(um)o(b)q(ers)e(to)g(an)h(arbitrary)g(t)o(yp)q(e.)1020
232 y Fk(De\014nition)e(9)j(\(Primitiv)o(e)f(Recursion\))k
Fo(The)10 b(unary)e(primitive)1020 280 y(r)n(e)n(cursive)k(op)n(er)n
(ator)f(over)i(the)g(typ)n(e)f Fj(T)19 b Fo(is)13 b Fp(Pr)1683
264 y Fh(T)1707 280 y Fp(\()p 1722 249 23 2 v Fj(f)t
Fp(\))p Fo(,)g(and)g(is)g(de\014ne)n(d)1020 321 y(by)g(the)g(fol)r
(lowing)e(set)i(of)g(r)n(e)n(cursive)f(e)n(quations:)1118
404 y Fp(Pr)1159 386 y Fh(T)1183 404 y Fp(\()p 1198 373
V Fj(f)t Fp(\))c Fl(\016)h Fj(C)1299 408 y Fh(i)1323
404 y Fp(=)i Fj(f)1383 408 y Fh(i)1404 404 y Fl(\016)e
Fj(E)1462 386 y Fh(T)1460 411 y(i)1487 404 y Fp(\()p
Fj(id)1535 408 y Fi(1)1552 404 y Fj(;)d(:)g(:)g(:)g(;)g(id)1670
408 y Fh(p)1688 404 y Fj(;)h Fl(h)p Fj(id;)f Fp(Pr)1812
386 y Fh(T)1836 404 y Fp(\()p 1851 373 V Fj(f)t Fp(\))p
Fl(i)p Fp(\))1020 482 y Fo(for)13 b(every)g(c)n(onstructor)e
Fj(C)1412 486 y Fh(i)1439 482 y Fo(of)i Fj(T)5 b Fo(.)18
b(Wher)n(e)13 b Fl(h)p Fj(f)r(;)6 b(g)q Fl(i)h Fj(x)21
b Fp(=)g(\()p Fj(f)14 b(x;)6 b(g)13 b(x)p Fp(\))p Fo(.)1076
561 y Fp(F)m(or)h(example,)i(the)e(list)i(primitiv)o(e)g(recursiv)o(e)g
(op)q(erator)f(is)g(de-)1020 602 y(\014ned)f(as:)1080
676 y(Pr)1122 660 y Fh(list)1182 676 y Fp(\()p Fj(f)1216
680 y Fh(n)1237 676 y Fj(;)6 b(f)1273 680 y Fh(c)1288
676 y Fp(\))11 b(Nil)22 b(=)g Fj(f)1456 680 y Fh(n)1477
676 y Fp(\(\))1080 721 y(Pr)1122 706 y Fh(list)1182 721
y Fp(\()p Fj(f)1216 725 y Fh(n)1237 721 y Fj(;)6 b(f)1273
725 y Fh(c)1288 721 y Fp(\))11 b(Cons\()p Fj(a;)c(l)q
Fp(\))21 b(=)g Fj(f)1568 725 y Fh(c)1584 721 y Fp(\()p
Fj(a;)6 b Fp(\()p Fj(l)q(;)g Fp(Pr)1722 706 y Fh(list)1782
721 y Fp(\()p Fj(f)1816 725 y Fh(n)1837 721 y Fj(;)g(f)1873
725 y Fh(c)1888 721 y Fp(\))11 b Fj(l)q Fp(\)\))1076
800 y(The)f(promotion)h(theorem)g(for)e(primitiv)o(e)k(recursion)e(is)g
(sligh)o(tly)1020 842 y(more)16 b(complex)h(than)g(the)f(one)g(for)g
(fold)h(as)f(there)g(is)g(a)g(relation-)1020 883 y(ship)c(b)q(et)o(w)o
(een)e(the)h(v)n(ariables)h(and)f(their)h(recursiv)o(ely)g(transformed)
1020 925 y(copies,)i(b)q(oth)g(of)e(whic)o(h)i(app)q(ear)g(in)g(the)f
(output)h(of)1020 966 y Fj(E)1050 951 y Fh(T)1048 974
y(i)1075 966 y Fp(\()p Fj(id)1123 970 y Fi(1)1140 966
y Fj(;)6 b(:)g(:)g(:)g(;)g(id)1258 970 y Fh(p)1276 966
y Fj(;)h Fl(h)p Fj(id;)f(P)f(r)1407 951 y Fh(T)1431 966
y Fp(\()p 1446 935 V Fj(f)t Fp(\))p Fl(i)p Fp(\))12 b([7,)h(6].)1020
1033 y Fk(Theorem)i(4)g(\(Primitiv)o(e)e(Recursion)h(Promotion\))1147
1117 y Fl(8)p Fj(i)d Fp(:)21 b Fj(\036)1247 1121 y Fh(i)1268
1117 y Fl(\016)9 b Fj(E)1326 1101 y Fh(T)1324 1124 y(i)1351
1117 y Fp(\()p Fj(id)1399 1121 y Fi(1)1416 1117 y Fj(;)d(:)g(:)g(:)g(;)
g(id)1534 1121 y Fh(p)1553 1117 y Fj(;)g Fl(h)p Fj(id;)g(g)k
Fl(\016)f Fp(Pr)1732 1101 y Fh(T)1756 1117 y Fp(\()p
1771 1086 V Fj(f)t Fp(\))p Fl(i)p Fp(\))21 b(=)1269 1164
y Fj(g)10 b Fl(\016)f Fj(f)1344 1168 y Fh(i)1366 1164
y Fl(\016)f Fj(E)1423 1148 y Fh(T)1421 1171 y(i)1448
1164 y Fp(\()p Fj(id)1496 1168 y Fi(1)1513 1164 y Fj(;)e(:)g(:)g(:)h(;)
f(id)1632 1168 y Fh(p)1650 1164 y Fj(;)g Fl(h)p Fj(id;)g
Fp(Pr)1773 1148 y Fh(T)1797 1164 y Fp(\()p 1812 1133
V Fj(f)t Fp(\))p Fl(i)p Fp(\))p 1128 1178 781 2 v 1336
1226 a Fj(g)k Fl(\016)f Fp(Pr)1433 1210 y Fh(T)1457 1226
y Fp(\()p 1472 1195 23 2 v Fj(f)t Fp(\))21 b(=)g(Pr)1623
1210 y Fh(T)1648 1226 y Fp(\()p 1663 1195 V Fj(\036)p
Fp(\))1020 1305 y Fo(Pr)n(o)n(of:)16 b Fp(Similar)f(to)e(Theorem)h(1.)j
Fc(2)1076 1347 y Fp(F)m(or)c(example,)h(the)f(promotion)i(theorem)e
(for)g Fj(T)27 b Fp(=)21 b Fj(l)q(ist)13 b Fp(is:)1039
1423 y Fj(\036)1062 1427 y Fh(n)1083 1423 y Fp(\(\))413
b(=)37 b Fj(g)q Fp(\()p Fj(f)1646 1427 y Fh(n)1667 1423
y Fp(\(\)\))1039 1469 y Fj(\036)1062 1473 y Fh(c)1078
1469 y Fp(\()p Fj(a;)6 b Fp(\()p Fj(l)q(;)g(g)q Fp(\(Pr)1250
1453 y Fh(list)1299 1469 y Fp(\()p Fj(f)1333 1473 y Fh(n)1354
1469 y Fj(;)g(f)1390 1473 y Fh(c)1406 1469 y Fp(\))k
Fj(l)q Fp(\)\)\))38 b(=)f Fj(g)q Fp(\()p Fj(f)1646 1473
y Fh(c)1662 1469 y Fp(\()p Fj(a;)6 b Fp(\()p Fj(l)q(;)h
Fp(Pr)1800 1453 y Fh(list)1849 1469 y Fp(\()p Fj(f)1883
1473 y Fh(n)1904 1469 y Fj(;)f(f)1940 1473 y Fh(c)1956
1469 y Fp(\))k Fj(l)q Fp(\)\)\))p 1020 1483 1037 2 v
1229 1530 a Fj(g)q Fp(\(Pr)1304 1515 y Fh(list)1354 1530
y Fp(\()p Fj(f)1388 1534 y Fh(n)1409 1530 y Fj(;)c(f)1445
1534 y Fh(c)1460 1530 y Fp(\))11 b Fj(x)p Fp(\))21 b(=)g(Pr)1636
1515 y Fh(list)1686 1530 y Fp(\()p Fj(\036)1724 1534
y Fh(n)1745 1530 y Fj(;)6 b(\036)1785 1534 y Fh(c)1801
1530 y Fp(\))11 b Fj(x)1020 1609 y Fp(The)j(promotion)h(theorem)f
(justi\014es)h(a)f(normalization)j(algorithm)1020 1651
y(for)12 b(primitiv)o(e)j(recursions)g(as)e(w)o(ell.)k(T)m(o)c(see)f
(this,)i(consider)g(gener-)1020 1692 y(alizing)i(the)d(term)g(\(Pr)1356
1677 y Fh(list)1405 1692 y Fp(\()p Fj(f)1439 1696 y Fh(n)1460
1692 y Fj(;)6 b(f)1496 1696 y Fh(c)1512 1692 y Fp(\))k
Fj(l)q Fp(\))j(to)g(the)g(v)n(ariable)i Fj(r)q Fp(.)j(Th)o(us:)1208
1771 y Fj(\036)1231 1775 y Fh(n)1252 1771 y Fp(\(\))197
b(=)37 b Fj(g)q Fp(\()p Fj(f)1599 1775 y Fh(n)1620 1771
y Fp(\(\)\))1208 1813 y Fj(\036)1231 1817 y Fh(c)1247
1813 y Fp(\()p Fj(a;)6 b Fp(\()p Fj(l)q(;)h(g)q Fp(\()p
Fj(r)q Fp(\)\)\))38 b(=)f Fj(g)q Fp(\()p Fj(f)1599 1817
y Fh(c)1615 1813 y Fp(\()p Fj(a;)6 b Fp(\()p Fj(l)q(;)h(r)q
Fp(\)\)\))p 1190 1827 658 2 v 1208 1874 a Fj(g)q Fp(\(Pr)1284
1858 y Fh(list)1334 1874 y Fp(\()p Fj(f)1368 1878 y Fh(n)1388
1874 y Fj(;)g(f)1425 1878 y Fh(c)1440 1874 y Fp(\))k
Fj(x)p Fp(\))21 b(=)g(Pr)1616 1858 y Fh(list)1666 1874
y Fp(\()p Fj(\036)1704 1878 y Fh(n)1725 1874 y Fj(;)6
b(\036)1765 1878 y Fh(c)1781 1874 y Fp(\))k Fj(x)1020
1953 y Fp(This)g(theorem)h(resem)o(bles)g(the)f(promotion)h(theorem)f
(for)g(folds)g(and)1020 1995 y(can)20 b(b)q(e)g(used)g(to)f(extend)i
(the)e(normalization)k(algorithm)e(from)1020 2036 y(folds)14
b(to)f(primitiv)o(e)i(recursions)g(in)f(a)f(seamless)h(manner.)1020
2134 y Fq(7)41 b(Second-o)o(rder)12 b(F)o(olds)1020 2212
y Fp(Some)e(common)g(computations)h(are)e(not)h(amenable)h(to)e
(normaliza-)1020 2254 y(tion)h(since)h(they)f(tra)o(v)o(erse)f(accum)o
(ulativ)o(e)j(result)e(v)n(ariables.)18 b(Recall)1020
2295 y(the)13 b(rev)o(erse)h(example)g(from)f(Section)h(5.1:)1025
2378 y(rev\()p Fj(x)p Fp(\))21 b(=)g(fold)1264 2360 y
Fh(list)1314 2378 y Fp(\()p Fj(\025)p Fp(\(\))p Fj(:)p
Fp(Nil)q Fj(;)6 b(\025)p Fp(\()p Fj(a;)h(r)q Fp(\))p
Fj(:)p Fp(app)q(end)q(\()p Fj(r)o(;)g Fp(Cons\()p Fj(a;)f
Fp(Nil)q(\)\)\))11 b Fj(x)1020 2456 y Fp(where)i Fo(app)n(end)d
Fp(is)k(a)e(fold)i(whic)o(h)g(tra)o(v)o(erses)f(the)g(accum)o(ulativ)o
(e)i(re-)1020 2498 y(sult)k(v)n(ariable)h Fj(r)q Fp(.)31
b(Man)o(y)19 b(suc)o(h)f(functions)h(can)g(b)q(e)f(equiv)n(alen)o(tly)
1020 2539 y(expressed)c(b)o(y)f(functions)h(whic)o(h)f(use)g(an)f
(extra)h(parameter)g(whic)o(h)1020 2581 y(acts)j(as)g(an)h(accum)o
(ulator)g(or)f(a)g(con)o(tin)o(uation)j([17].)25 b(Suc)o(h)17
b(func-)1020 2622 y(tions)c(can)g(b)q(e)f(expressed)i(as)e
(second-order)i(folds)f(\(so)f(called)i(since)961 2747
y(7)p eop
%%Page: 8 8
8 7 bop -76 -34 a Fp(the)9 b(accum)o(ulating)i(functions)g(return)e
(functions)h(as)f(results\).)17 b(These)-76 7 y(second-order)i(fold)f
(computations)i(are)d(often)h(normalizable)j(al-)-76
49 y(though)15 b(their)g(equiv)n(alen)o(t)i(\014rst-order)e
(computation)h(is)f(not.)20 b(F)m(or)-76 90 y(example,)14
b(the)g(iterativ)o(e)g(v)o(ersion)h(of)e(the)g(list)h(rev)o(erse)g(is)g
(rev\()p Fj(x)p Fp(\))d(=)-76 132 y(itrev)q(\()p Fj(x;)6
b Fp(Nil)q(\),)12 b(where)h Fo(itr)n(ev)f Fp(is)i(computed)g(b)o(y:)50
201 y(itrev)d(Nil)d Fj(w)184 b Fp(=)38 b Fj(w)50 242
y Fp(itrev)11 b(\(Cons)q(\()p Fj(a;)6 b(l)q Fp(\)\))k
Fj(w)38 b Fp(=)g(itrev)11 b Fj(l)h Fp(\(Cons\()p Fj(a;)7
b(w)q Fp(\)\))-76 311 y(The)13 b(second-order)g(fold)h(form)e(of)g
(this)h(iterativ)o(e)h(computation)h(is:)-68 384 y(rev\()p
Fj(x)p Fp(\))21 b(=)g(fold)171 366 y Fh(list)221 384
y Fp(\()p Fj(\025)p Fp(\(\))p Fj(:\025w)q(:w)q(;)5 b(\025)p
Fp(\()p Fj(a;)h(r)q Fp(\))p Fj(:\025w)q(:r)q Fp(\(Cons)q(\()p
Fj(a;)g(w)q Fp(\)\)\))g Fj(x)g Fp(Nil)-76 452 y(W)m(e)13
b(will)i(see)e(that)g(this)h(form)f(is)g(amenable)i(to)e
(normalization.)-20 493 y(In)i(this)h(section)g(w)o(e)f(describ)q(e)h
(ho)o(w)f(suc)o(h)g(fold)h(computations)-76 535 y(can)d(b)q(e)g
(recognized)i(and)e(automatically)j(transformed)d(in)o(to)g(their)-76
576 y(second-order)i(coun)o(terparts,)f(whic)o(h)f(can)h(then)f(b)q(e)h
(normalized.)-76 643 y Fk(De\014nition)f(10)i(\()p Fl(A)p
Fk(-function\))g Fo(A)c(binary)e(function)f Fl(G)13 b
Fo(is)d(an)g Fl(A)p Fo(-)-76 685 y(function)h(if)i(it)h(is)f(asso)n
(ciativ)o(e)e(with)i(right)g(identity)e Fl(I)719 689
y Fa(G)741 685 y Fo(,)j(that)e(is)-21 753 y Fl(G)r Fp(\()p
Fj(a;)7 b Fl(G)r Fp(\()p Fj(b;)f(c)p Fp(\)\))21 b(=)g
Fl(G)r Fp(\()p Fl(G)r Fp(\()p Fj(a;)6 b(b)p Fp(\))p Fj(;)h(c)p
Fp(\))64 b(and)h Fl(G)r Fp(\()p Fj(a;)6 b Fl(I)735 757
y Fa(G)757 753 y Fp(\))22 b(=)f Fj(a)-76 820 y Fp(Suc)o(h)e(functions)h
(are)e(not)g(uncommon.)33 b(In)18 b(fact)g(ev)o(ery)g(t)o(yp)q(e)h
Fj(T)-76 862 y Fp(whic)o(h)h(has)f(a)g(zero)g(constructor,)j
Fj(C)488 866 y Fh(z)525 862 y Fp(\(a)d(constructor)g(with)h(no)-76
903 y(argumen)o(ts,)13 b(lik)o(e)f(Nil)h(for)e(list\),)i(has)f(a)f
Fo(zer)n(o)g(r)n(eplac)n(ement)f(function)-76 945 y Fp(that)18
b(is)g(asso)q(ciativ)o(e,)i(and)e(that)g(has)f(the)h(zero,)g
Fj(C)696 949 y Fh(z)714 945 y Fp(,)g(for)f(b)q(oth)h(a)-76
986 y(left)e(and)g(righ)o(t)h(iden)o(tit)o(y)h([11].)24
b(The)16 b(zero)g(replacemen)o(t)h(for)e Fj(T)22 b Fp(is)-76
1028 y(de\014ned)14 b(b)o(y:)42 1098 y(\(Zr)96 1082 y
Fh(T)126 1098 y Fj(y)q Fp(\))9 b Fl(\016)g Fj(C)225 1102
y Fh(z)280 1098 y Fp(=)38 b Fj(\025)p Fp(\(\))p Fj(:y)42
1144 y Fp(\(Zr)96 1128 y Fh(T)126 1144 y Fj(y)q Fp(\))9
b Fl(\016)g Fj(C)225 1148 y Fh(i)280 1144 y Fp(=)38 b
Fj(C)375 1148 y Fh(i)397 1144 y Fl(\016)9 b Fj(E)455
1128 y Fh(T)453 1151 y(i)479 1144 y Fp(\()p Fj(id)527
1148 y Fi(1)544 1144 y Fj(;)e(:)f(:)g(:)g(;)g(id)663
1148 y Fh(p)681 1144 y Fj(;)g Fp(Zr)736 1128 y Fh(T)767
1144 y Fj(y)q Fp(\))-76 1219 y(W)m(e)18 b(call)h(\(Zr)123
1204 y Fh(T)154 1219 y Fj(y)8 b(x)p Fp(\))17 b(a)g(zero)h(replacemen)o
(t,)i(since)f(it)f(replaces)h(all)-76 1261 y(zeros)14
b(in)g Fj(x)f Fp(with)g Fj(y)q Fp(.)18 b(Note)13 b(that)h(an)o(y)g
(zero)f(replacemen)o(t)i(function)-76 1302 y Fl(G)r Fp(\()p
Fj(x;)6 b(y)q Fp(\))12 b(=)h(\(Zr)146 1287 y Fh(T)177
1302 y Fj(y)7 b(x)p Fp(\))14 b(can)g(b)q(e)g(expressed)i(as)e(a)g(fold)
h(o)o(v)o(er)f Fj(x)p Fp(.)19 b(Rec-)-76 1349 y(ognize)13
b(that)e(Zr)160 1333 y Fh(list)221 1349 y Fp(is)h(the)f(list)i(app)q
(end)g(op)q(erator,)f(and)g(that)g(Zr)876 1333 y Fh(int)-76
1391 y Fp(is)i(in)o(teger)g(addition.)-76 1452 y Fk(De\014nition)f(11)i
(\()p Fl(G)r Fk(-term\))k Fo(L)n(et)d Fl(G)i Fo(b)n(e)d(an)h
Fl(A)p Fo(-function)c(and)p 866 1431 19 2 v 15 w Fj(r)18
b Fo(a)-76 1494 y(set)g(of)g(ac)n(cumulative)d(r)n(esult)j(variables.)
30 b(A)18 b(term)g(in)g(our)h(term)-76 1535 y(language)e(is)i(a)g
Fl(G)r Fo(-term)g(for)g(the)g(set)p 513 1514 V 19 w Fj(r)h
Fo(if)g(it)f(c)n(an)f(b)n(e)h(expr)n(esse)n(d)-76 1577
y(using)10 b(the)h(fol)r(lowing)e(rules.)16 b(1\))11
b(A)o(n)g(ac)n(cumulative)d(r)n(esult)j(variable)-76
1618 y(fr)n(om)p 18 1597 V 17 w Fj(r)18 b Fo(is)e(a)h
Fl(G)r Fo(-term.)26 b(2\))16 b(A)h(term)g(that)e(do)n(es)h(not)f(c)n
(ontain)g(any)-76 1660 y(ac)n(cumulative)9 b(r)n(esult)i(variables)e
(fr)n(om)p 500 1639 V 12 w Fj(r)14 b Fo(is)d(a)h Fl(G)r
Fo(-term.)17 b(3\))11 b(If)h Fj(t)g Fo(and)-76 1701 y
Fj(t)-62 1685 y Fa(0)-37 1701 y Fo(ar)n(e)h Fl(G)r Fo(-terms)g(then)f
(the)h(expr)n(ession)e Fl(G)r Fp(\()p Fj(t;)6 b(t)593
1685 y Fa(0)604 1701 y Fp(\))14 b Fo(is)f(a)g Fl(G)r
Fo(-term.)-76 1775 y Fk(De\014nition)g(12)i(\()p Fl(G)r
Fk(-fold\))i Fo(A)c(fold)f Fp(fold)534 1759 y Fh(T)558
1775 y Fp(\()p 573 1744 23 2 v Fj(f)t Fp(\))h Fo(is)g(a)g
Fl(G)r Fo(-fold)f(if)h(e)n(ach)-76 1816 y(ac)n(cumulating)f(function)h
Fj(f)330 1820 y Fh(i)343 1816 y Fp(\()p 358 1795 35 2
v Fj(x)380 1820 y Fh(i)393 1816 y Fp(\))i Fo(that)g(intr)n(o)n(duc)n
(es)d(the)j(ac)n(cumula-)-76 1858 y(tive)f(r)n(esult)g(variables)p
265 1837 31 2 v 12 w Fj(r)282 1862 y Fh(i)311 1858 y
Fo(\(i.e.)p 401 1837 V 20 w Fj(r)418 1862 y Fh(i)447
1858 y Fo(is)g(a)h(subset)e(of)p 685 1837 35 2 v 14 w
Fj(x)707 1862 y Fh(i)720 1858 y Fo(\))i(c)n(an)f(b)n(e)g(ex-)-76
1899 y(pr)n(esse)n(d)e(as)h(a)g Fl(G)r Fo(-term)h(for)f(the)g(set)p
453 1878 31 2 v 12 w Fj(r)470 1903 y Fh(i)484 1899 y
Fo(.)-76 1967 y Fp(F)m(or)g(example,)h(the)f(rev)o(erse)h(function)g
Fo(r)n(ev)e Fp(computed)i(b)o(y:)19 2040 y(fold)82 2022
y Fh(list)132 2040 y Fp(\()p Fj(\025)p Fp(\(\))p Fj(:)p
Fp(Nil)q Fj(;)6 b(\025)p Fp(\()p Fj(a;)h(r)q Fp(\))p
Fj(:)p Fp(app)q(end)q(\()p Fj(r)o(;)f Fp(Cons)q(\()p
Fj(a;)g Fp(Nil)q(\)\)\))h Fj(x)-76 2107 y Fp(is)14 b(a)f
Fl(G)r Fp(-fold)g(for)g Fl(G)g Fp(=)f(app)q(end.)-20
2149 y(It)18 b(is)i(a)e(simple)j(matter)d(to)h(syn)o(tactically)j
(recognize)e Fl(G)r Fp(-fold)-76 2190 y(programs)f(whose)e(accum)o
(ulating)k(functions)e(are)e(expressed)i(us-)-76 2232
y(ing)e(zero)f(replacemen)o(t)i(functions.)27 b(In)16
b(the)h(follo)o(wing)h(examples)-76 2273 y(w)o(e)d(will)i(use)f(only)g
(zero)g(replacemen)o(t)h(functions)g(for)e Fl(G)r Fp(,)g(but)h(the)-76
2315 y(analysis)h(is)d(v)n(alid)i(for)e(an)o(y)g(asso)q(ciativ)o(e)j
(function)e Fl(G)h Fp(with)e(a)g(righ)o(t)-76 2356 y(iden)o(tit)o(y)h
Fl(I)87 2360 y Fa(G)109 2356 y Fp(.)-76 2418 y Fk(De\014nition)e(13)i
(\()p Fl(F)235 2422 y Fa(G)256 2418 y Fk(-transformation\))k
Fo(F)m(or)10 b(e)n(ach)e Fl(A)p Fo(-function)-76 2460
y Fl(G)15 b Fo(the)d Fl(F)53 2464 y Fa(G)74 2460 y Fo(-tr)n
(ansformation)e(over)i Fl(G)r Fo(-terms)g(is)g(de\014ne)n(d)f(as)h(fol)
r(lows:)-42 2526 y Fl(F)-14 2530 y Fa(G)7 2526 y Fp(\()p
Fj(r)q Fp(\))130 b(=)37 b Fj(\025w)q(:r)q Fp(\()p Fj(w)q
Fp(\))133 b(for)13 b(accum.)k(result)d(v)n(ar.)-42 2568
y Fl(F)-14 2572 y Fa(G)7 2568 y Fp(\()p Fj(v)q Fp(\))128
b(=)37 b Fj(\025w)q(:)p Fl(G)r Fp(\()p Fj(v)q(;)6 b(w)q
Fp(\))89 b(for)13 b(v)n(alue)-42 2610 y Fl(F)-14 2614
y Fa(G)7 2610 y Fp(\()p Fl(G)r Fp(\()p Fj(t;)6 b(t)107
2594 y Fa(0)118 2610 y Fp(\)\))37 b(=)g Fl(F)280 2614
y Fa(G)302 2610 y Fp(\()p Fj(t)p Fp(\))8 b Fl(\016)h(F)410
2614 y Fa(G)432 2610 y Fp(\()p Fj(t)461 2594 y Fa(0)472
2610 y Fp(\))37 b(otherwise)1020 -34 y(This)16 b(transformation)h(is)f
(similar)h(to)e(CPS)g(transformation)i(that)1020 7 y(transforms)c(a)g
(program)g(in)h(direct)f(st)o(yle)h(in)o(to)f(a)g(program)g(in)h(con-)
1020 49 y(tin)o(uation)e(passing)f(st)o(yle.)17 b(Here,)10
b(instead)h(of)e(a)h(con)o(tin)o(uation)i(func-)1020
90 y(tion)i(w)o(e)f(use)g(an)g(accum)o(ulation)j(v)n(alue.)1020
162 y Fk(Theorem)f(5)k Fo(L)n(et)13 b Fp(fold)1378 146
y Fh(T)1402 162 y Fp(\()p 1417 131 23 2 v Fj(f)t Fp(\))g
Fo(b)n(e)g(a)g Fl(G)r Fo(-fold)f(and)g Fl(8)p Fj(i)f
Fp(:)21 b Fj(\036)1835 166 y Fh(i)1859 162 y Fp(=)11
b Fl(F)1928 166 y Fa(G)1957 162 y Fl(\016)e Fj(f)2004
166 y Fh(i)1020 203 y Fo(then)1289 245 y Fp(fold)1352
227 y Fh(T)1376 245 y Fp(\()p 1391 214 V Fj(f)t Fp(\))d
Fj(x)21 b Fp(=)h(fold)1593 227 y Fh(T)1617 245 y Fp(\()p
1632 214 V Fj(\036)p Fp(\))6 b Fj(x)g Fl(I)1725 249 y
Fa(G)1020 316 y Fo(Pr)n(o)n(of:)16 b Fp(It)d(can)g(b)q(e)g(pro)o(v)o
(ed)h(b)o(y)g(induction)h(that)e(for)g(an)o(y)h Fj(x)e
Fp(and)i Fj(w)q Fp(:)1255 400 y(fold)1318 382 y Fh(T)1342
400 y Fp(\()p 1357 369 V Fj(\036)p Fp(\))6 b Fj(x)h(w)22
b Fp(=)f Fl(G)r Fp(\(fold)q(\()p 1649 369 V Fj(f)s Fp(\))7
b Fj(x;)12 b(w)q Fp(\))1020 479 y(from)h(whic)o(h)h(the)f(theorem)g
(follo)o(ws.)18 b Fc(2)1076 520 y Fp(F)m(or)13 b(example,)h(the)g
(follo)o(wing)h(non-p)q(oten)o(tiall)q(y)h(normalizable)1020
562 y(\014rst-order)f(fold)h(functions)g(can)e(b)q(e)h(transformed)h
(to)e(p)q(oten)o(tially)1020 603 y(normalizable)i(second-order)f
(functions:)1039 674 y(rev\()p Fj(x)p Fp(\))1103 719
y(=)21 b(fold)1217 703 y Fh(list)1267 719 y Fp(\()p Fj(\025)p
Fp(\(\))p Fj(:)p Fp(Nil)q Fj(;)6 b(\025)p Fp(\()p Fj(a;)h(r)q
Fp(\))p Fj(:)p Fp(app)q(end)q(\()p Fj(r)o(;)g Fp(Cons\()p
Fj(a;)f Fp(Nil)q(\)\)\))h Fj(x)1103 765 y Fp(=)21 b(fold)1217
749 y Fh(list)1267 765 y Fp(\()p Fj(\025)p Fp(\(\))p
Fj(:\025w)q(:)p Fp(app)q(end)q(\(Nil)q Fj(;)6 b(w)q Fp(\))p
Fj(;)1282 806 y(\025)p Fp(\()p Fj(a;)g(r)q Fp(\))p Fj(:\025w)q(:r)q
Fp(\(app)q(end)r(\(Cons\()p Fj(a;)h Fp(Nil)q(\))p Fj(;)f(w)q
Fp(\)\)\))g Fj(x)g Fp(Nil)1103 852 y(=)21 b(fold)1217
836 y Fh(list)1267 852 y Fp(\()p Fj(\025)p Fp(\(\))p
Fj(:\025w)q(:w)q(;)5 b(\025)p Fp(\()p Fj(a;)i(r)q Fp(\))p
Fj(:\025w)q(:r)q Fp(\(Cons\()p Fj(a;)f(w)q Fp(\)\)\))g
Fj(x)g Fp(Nil)1039 894 y(\015at\()p Fj(x)p Fp(\))1103
937 y(=)21 b(fold)1217 921 y Fh(tr)q(ee)1276 937 y Fp(\()p
Fj(\025)p Fp(\()p Fj(i)p Fp(\))p Fj(:)p Fp(Cons\()p Fj(i;)6
b Fp(Nil)q(\))p Fj(;)g(\025)p Fp(\()p Fj(l)q(;)h(r)q
Fp(\))p Fj(:)p Fp(app)q(end)r(\()p Fj(l)q(;)f(r)q Fp(\)\))g
Fj(x)1103 981 y Fp(=)21 b(fold)1217 965 y Fh(tr)q(ee)1276
981 y Fp(\()p Fj(\025)p Fp(\()p Fj(i)p Fp(\))p Fj(:\025w)q(:)p
Fp(app)q(end)q(\(Cons\()p Fj(i;)6 b Fp(Nil)r(\))p Fj(;)g(w)q
Fp(\))p Fj(;)1291 1022 y(\025)p Fp(\()p Fj(l)q(;)g(r)q
Fp(\))p Fj(:\025w)q(:l)q Fp(\()p Fj(r)q Fp(\()p Fj(w)q
Fp(\)\)\))g Fj(x)g Fp(Nil)1103 1066 y(=)21 b(fold)1217
1050 y Fh(tr)q(ee)1276 1066 y Fp(\()p Fj(\025)p Fp(\()p
Fj(i)p Fp(\))p Fj(:\025w)q(:)p Fp(Cons\()p Fj(i;)6 b(w)q
Fp(\))p Fj(;)f(\025)p Fp(\()p Fj(l)q(;)i(r)q Fp(\))p
Fj(:\025w)q(:l)q Fp(\()p Fj(r)q Fp(\()p Fj(w)q Fp(\)\)\))f
Fj(x)g Fp(Nil)1039 1108 y(add)p 1102 1108 12 2 v 14 w(tips)q(\()p
Fj(x)p Fp(\))1103 1151 y(=)21 b(fold)1217 1135 y Fh(tr)q(ee)1276
1151 y Fp(\()p Fj(\025)p Fp(\()p Fj(i)p Fp(\))p Fj(:i;)6
b(\025)p Fp(\()p Fj(l)q(;)g(r)q Fp(\))p Fj(:)p Fp(plus)r(\()p
Fj(l)q(;)g(r)q Fp(\)\))h Fj(x)1103 1195 y Fp(=)21 b(fold)1217
1179 y Fh(tr)q(ee)1276 1195 y Fp(\()p Fj(\025)p Fp(\()p
Fj(i)p Fp(\))p Fj(:\025w)q(:)p Fp(plus)q(\()p Fj(i;)6
b(w)q Fp(\))p Fj(;)f(\025)p Fp(\()p Fj(l)q(;)i(r)q Fp(\))p
Fj(:\025w)q(:l)q Fp(\()p Fj(r)q Fp(\()p Fj(w)q Fp(\)\)\))f
Fj(x)g Fp(Zero)1076 1275 y(In)14 b(the)g(follo)o(wing)j(theorem)d(w)o
(e)g(consider)i(folds)f(consisting)h(of)1020 1316 y(sums-of-pro)q
(ducts)j(t)o(yp)q(es)f(where)g(the)g(recursiv)o(e)h(t)o(yp)q(e,)g
Fj(T)5 b Fp(,)19 b(do)q(es)1020 1358 y(not)c(app)q(ear)h(as)f(a)g
(parameter)g(to)g(some)g(other)g(parametric)h(t)o(yp)q(e.)1020
1399 y(That)h(is,)h(w)o(e)e(do)h(not)g(consider)h(t)o(yp)q(es)f(suc)o
(h)g(as)g Fj(bush)p Fp(.)28 b(In)17 b(addi-)1020 1441
y(tion,)e(w)o(e)f(simplify)i(the)e(notation)i(of)d(this)i(theorem)g(b)o
(y)f(assuming)1020 1482 y(that)e(accum)o(ulativ)o(e)i(result)e(v)n
(ariables)i Fj(r)1612 1486 y Fh(j)1640 1482 y Fp(are)d(separated)i
(from)e(the)1020 1524 y(others)j Fj(a)1156 1528 y Fh(j)1172
1524 y Fp(,)f(suc)o(h)g(as)g(in)h Fj(f)1393 1528 y Fh(i)1406
1524 y Fp(\()p 1421 1503 21 2 v Fj(a;)p 1458 1503 19
2 v 6 w(r)r Fp(\).)1020 1595 y Fk(Theorem)h(6)g(\(Second-order)e
(Promotion)i(Theorem\))1107 1676 y Fl(8)p Fj(i)d Fp(:)1185
1646 y Fb(V)1219 1690 y Fh(j)1235 1676 y Fp(\()p Fj(r)1267
1680 y Fh(j)1292 1676 y Fl(\016)d Fj(g)23 b Fp(=)e Fj(g)11
b Fl(\016)d Fj(s)1486 1680 y Fh(j)1502 1676 y Fp(\))38
b Fl(^)f Fj(\036)1641 1680 y Fh(i)1654 1676 y Fp(\()p
1669 1655 21 2 v Fj(a;)p 1706 1655 19 2 v 6 w(r)q Fp(\))22
b(=)f Fj(f)1831 1680 y Fh(i)1844 1676 y Fp(\()p 1859
1655 21 2 v Fj(a;)p 1896 1655 18 2 v 6 w(s)p Fp(\))p
1089 1696 859 2 v 1228 1745 a Fj(g)10 b Fl(\016)f Fp(\(fold)1362
1729 y Fh(T)1386 1745 y Fp(\()p 1401 1714 23 2 v Fj(f)t
Fp(\))d Fj(x)p Fp(\))21 b(=)g(\(fold)1632 1729 y Fh(T)1657
1745 y Fp(\()p 1672 1714 V Fj(\036)o Fp(\))7 b Fj(x)p
Fp(\))h Fl(\016)h Fj(g)1020 1824 y Fp(W)m(e)15 b(will)h(pro)o(v)o(e)f
(this)h(theorem)f(only)h(for)f(the)g(sp)q(ecial)h(case)f(of)g(list)1020
1866 y(second-order)f(folds.)k(F)m(or)13 b(other)g(t)o(yp)q(es)h(the)f
(pro)q(of)h(is)f(similar.)1451 1944 y Fj(\036)1474 1948
y Fh(n)1495 1944 y Fp(\(\))8 b Fl(\016)h Fj(g)23 b Fp(=)e
Fj(g)10 b Fl(\016)f Fj(f)1728 1948 y Fh(n)1749 1944 y
Fp(\(\))1130 1985 y Fj(r)h Fl(\016)e Fj(g)23 b Fp(=)f
Fj(g)10 b Fl(\016)f Fj(s)37 b Fl(^)g Fj(\036)1474 1989
y Fh(c)1490 1985 y Fp(\()p Fj(a;)6 b(r)q Fp(\))j Fl(\016)g
Fj(g)22 b Fp(=)g Fj(g)10 b Fl(\016)f Fj(f)1779 1989 y
Fh(c)1794 1985 y Fp(\()p Fj(a;)e(s)p Fp(\))p 1111 1999
815 2 v 1130 2047 a Fj(g)j Fl(\016)f Fp(\(fold)1264 2031
y Fh(list)1313 2047 y Fp(\()p Fj(f)1347 2051 y Fh(n)1368
2047 y Fj(;)d(f)1404 2051 y Fh(c)1420 2047 y Fp(\))g
Fj(x)p Fp(\))21 b(=)g(\(fold)1628 2031 y Fh(list)1678
2047 y Fp(\()p Fj(\036)1716 2051 y Fh(n)1737 2047 y Fj(;)6
b(\036)1777 2051 y Fh(c)1793 2047 y Fp(\))g Fj(x)p Fp(\))i
Fl(\016)h Fj(g)1020 2127 y Fo(Pr)n(o)n(of:)16 b Fp(Base)e(case)f
Fj(x)d Fp(=)h(Nil)q(:)1079 2171 y Fj(g)f Fl(\016)f Fp(\(fold)1213
2155 y Fh(list)1263 2171 y Fp(\()p Fj(f)1297 2175 y Fh(n)1317
2171 y Fj(;)e(f)1354 2175 y Fh(c)1369 2171 y Fp(\))f(Nil)r(\))37
b(=)g Fj(g)10 b Fl(\016)f Fj(f)1635 2175 y Fh(n)1656
2171 y Fp(\(\))1493 2213 y(=)37 b Fj(\036)1583 2217 y
Fh(n)1604 2213 y Fp(\(\))9 b Fl(\016)f Fj(g)1493 2258
y Fp(=)37 b(\(fold)1638 2243 y Fh(list)1688 2258 y Fp(\()p
Fj(\036)1726 2262 y Fh(n)1747 2258 y Fj(;)6 b(\036)1787
2262 y Fh(c)1803 2258 y Fp(\))g(Nil)q(\))i Fl(\016)h
Fj(g)1020 2301 y Fp(Induction)15 b(h)o(yp)q(othesis:)1061
2342 y Fj(g)10 b Fl(\016)e Fp(\(fold)1194 2327 y Fh(list)1244
2342 y Fp(\()p Fj(f)1278 2346 y Fh(n)1299 2342 y Fj(;)e(f)1335
2346 y Fh(c)1350 2342 y Fp(\))h Fj(l)q Fp(\))j(=)h(\(fold)1528
2327 y Fh(list)1577 2342 y Fp(\()p Fj(\036)1615 2346
y Fh(n)1637 2342 y Fj(;)6 b(\036)1677 2346 y Fh(c)1692
2342 y Fp(\))h Fj(l)q Fp(\))h Fl(\016)h Fj(g)q Fp(.)1020
2384 y(Induction)15 b(step)e Fj(x)e Fp(=)f(Cons)q(\()p
Fj(a;)c(l)q Fp(\):)1059 2431 y Fj(g)k Fl(\016)f Fp(\(fold)1193
2415 y Fh(list)1242 2431 y Fp(\()p Fj(f)1276 2435 y Fh(n)1297
2431 y Fj(;)d(f)1333 2435 y Fh(c)1349 2431 y Fp(\))g(Cons)q(\()p
Fj(a;)g(l)q Fp(\)\))37 b(=)21 b Fj(g)11 b Fl(\016)d Fj(f)1711
2435 y Fh(c)1727 2431 y Fp(\()p Fj(a;)e Fp(fold)1842
2415 y Fh(list)1892 2431 y Fp(\()p Fj(f)1926 2435 y Fh(n)1947
2431 y Fj(;)g(f)1983 2435 y Fh(c)1998 2431 y Fp(\))h
Fj(l)q Fp(\))1585 2472 y(=)21 b Fj(\036)1659 2476 y Fh(c)1675
2472 y Fp(\()p Fj(a;)7 b(r)q Fp(\))i Fl(\016)f Fj(g)1061
2533 y Fp(where)13 b Fj(r)d Fl(\016)e Fj(g)23 b Fp(=)e
Fj(g)11 b Fl(\016)d Fj(s)1269 2575 y Fp(=)22 b Fj(g)10
b Fl(\016)f Fp(\(fold)1454 2559 y Fh(list)1504 2575 y
Fp(\()p Fj(f)1538 2579 y Fh(n)1559 2575 y Fj(;)d(f)1595
2579 y Fh(c)1610 2575 y Fp(\))h Fj(l)q Fp(\))1269 2622
y(=)22 b(\(fold)1398 2606 y Fh(list)1448 2622 y Fp(\()p
Fj(\036)1486 2626 y Fh(n)1507 2622 y Fj(;)6 b(\036)1547
2626 y Fh(c)1563 2622 y Fp(\))g Fj(l)q Fp(\))j Fl(\016)g
Fj(g)961 2747 y Fp(8)p eop
%%Page: 9 9
9 8 bop -15 -34 a Fl(\))22 b Fj(r)12 b Fp(=)e(fold)177
-50 y Fh(list)227 -34 y Fp(\()p Fj(\036)265 -30 y Fh(n)286
-34 y Fj(;)c(\036)326 -30 y Fh(c)342 -34 y Fp(\))g Fj(l)q
Fp(.)-76 12 y(Therefore,)13 b Fj(\036)132 16 y Fh(c)148
12 y Fp(\()p Fj(a;)6 b(r)q Fp(\))j Fl(\016)g Fj(g)23
b Fp(=)e Fj(\036)385 16 y Fh(c)401 12 y Fp(\()p Fj(a;)6
b Fp(fold)516 -4 y Fh(list)566 12 y Fp(\()p Fj(\036)604
16 y Fh(n)625 12 y Fj(;)g(\036)665 16 y Fh(c)681 12 y
Fp(\))g Fj(l)q Fp(\))i Fl(\016)h Fj(g)300 59 y Fp(=)21
b(\(fold)429 43 y Fh(list)479 59 y Fp(\()p Fj(\036)517
63 y Fh(n)538 59 y Fj(;)6 b(\036)578 63 y Fh(c)594 59
y Fp(\))g(Cons\()p Fj(a;)h(l)q Fp(\)\))h Fl(\016)h Fj(g)q
Fp(.)p Fc(2)-20 107 y Fp(If)h(fold)79 91 y Fh(T)104 107
y Fp(\()p 119 76 23 2 v Fj(f)s Fp(\))h(is)g(a)g(second-order)h(fold)f
(then)g(eac)o(h)h(accum)o(ulating)-76 148 y(function)h(can)e(b)q(e)h
(expressed)g(as)g Fj(f)427 152 y Fh(i)440 148 y Fp(\()p
455 127 22 2 v Fj(x)o Fp(\))f(=)f Fj(\025w)q(:e)p Fp(\()p
Fj(w)q Fp(\).)15 b(W)m(e)d(call)g Fj(w)g Fp(an)-76 190
y Fo(ac)n(cumulating)e(stack)i(variable)p Fp(.)-20 231
y(W)m(e)f(ha)o(v)o(e)h(dev)o(elop)q(ed)h(an)f(extension)h(to)e(the)g
(normalization)k(al-)-76 273 y(gorithm,)c(based)f(on)f(the)g
(second-order)h(promotion)h(theorem,)f(that)-76 314 y(normalizes)20
b(second-order)f(folds)f(whic)o(h)h(con)o(tain)g(no)f(folds)g(o)o(v)o
(er)-76 356 y(accum)o(ulativ)o(e)h(result)f(or)e(accum)o(ulating)j
(stac)o(k)e(v)n(ariables.)30 b(This)-76 397 y(allo)o(ws)13
b(the)f(relaxation)h(of)f(the)f(de\014nition)j(of)e(p)q(oten)o(tially)i
(normal-)-76 439 y(izable)19 b(b)o(y)e(allo)o(wing)i(folds)f(whose)f
(accum)o(ulating)j(functions)e(are)-76 480 y(themselv)o(es)e(folds)f(o)
o(v)o(er)g(accum)o(ulating)i(result)e(v)n(ariables,)h(if)f(eac)o(h)-76
522 y(suc)o(h)i(accum)o(ulating)i(function)e(is)g(expressed)g(using)h
(the)e(same)g Fl(G)-76 563 y Fp(function,)11 b(b)q(ecause)g(w)o(e)d
(can)i(alw)o(a)o(ys)g(apply)h(the)f Fl(F)652 567 y Fa(G)673
563 y Fp(-transform)g(and)-76 605 y(then)k(apply)g(the)f(extended)i
(normalization)h(algorithm.)-20 646 y(The)e(follo)o(wing)i(is)f(a)f(sk)
o(etc)o(h)h(of)e(the)i(extended)g(normalization)-76 688
y(algorithm:)j(When)13 b(an)o(y)f(expression)h Fj(g)g
Fp(\(that)f(ma)o(y)f(or)h(ma)o(y)f(not)h(b)q(e)-76 729
y(a)e(p)q(oten)o(tially)i(normalizabl)q(e)g(\014rst-order)e(fold\))g
(is)g(applied)i(to)e(a)f(p)q(o-)-76 771 y(ten)o(tially)18
b(normalizable)h(second-order)e(fold)596 755 y Fi(5)614
771 y Fp(,)e(the)h(second-order)-76 812 y(promotion)c(theorem)f(is)g
(used)g(to)f(push)i Fj(g)f Fp(in)o(to)h(eac)o(h)f(accum)o(ulating)-76
854 y(function)j(of)f(that)g(fold.)18 b(In)12 b(this)i(pro)q(cess,)g(a)
e(subterm)i Fj(g)q Fp(\()p Fj(s)p Fp(\()p Fj(:)6 b(:)g(:)p
Fp(\)\))13 b(is)-76 895 y(normalized)19 b(b)o(y)d(rewriting)i(it)e(to)g
Fj(r)q Fp(\()p Fj(g)q Fp(\()p Fj(:)7 b(:)f(:)p Fp(\)\),)16
b(where)g Fj(s)g Fp(and)h Fj(r)g Fp(are)-76 937 y(accum)o(ulativ)o(e)e
(result)e(v)n(ariables)i(giv)o(en)e(in)g(the)f(second-order)i(pro-)-76
978 y(motion)i(theorem.)22 b(The)14 b(pro)q(cess)i(stops)f(when)g
Fj(g)h Fp(is)f(applied)i(to)d(a)-76 1020 y(v)n(ariable.)k(In)11
b(that)g(case,)g Fj(g)h Fp(is)g(generalized)h(a)o(w)o(a)o(y)e(and)g
(the)g(premise)-76 1061 y(of)g(the)g(promotion)i(theorem)e(is)h(used)f
(to)g(deriv)o(e)i(the)e(new)g(accum)o(u-)-76 1103 y(lating)k
(functions.)-20 1144 y(F)m(or)e(example,)h(length)r(\(rev\()p
Fj(x)p Fp(\)\))e(is:)-47 1226 y(length)q(\(fold)135 1208
y Fh(list)185 1226 y Fp(\()p Fj(\025)p Fp(\(\))p Fj(:\025w)q(:w)q(;)5
b(\025)p Fp(\()p Fj(a;)h(r)q Fp(\))p Fj(:\025w)q(:r)q
Fp(\(Cons)q(\()p Fj(a;)g(w)q Fp(\)\)\))g Fj(x)g Fp(Nil)q(\))-76
1300 y(whic)o(h)11 b(according)h(to)f(the)f(promotion)i(theorem)f(can)g
(b)q(e)f(computed)-76 1341 y(b)o(y)j(some:)-36 1420 y(fold)27
1402 y Fh(list)77 1420 y Fp(\()p Fj(\036)115 1424 y Fh(n)136
1420 y Fj(;)6 b(\036)176 1424 y Fh(c)192 1420 y Fp(\))g
Fj(x)g Fp(\(length)r(\(Nil)q(\)\))21 b(=)g(fold)591 1402
y Fh(list)641 1420 y Fp(\()p Fj(\036)679 1424 y Fh(n)700
1420 y Fj(;)6 b(\036)740 1424 y Fh(c)756 1420 y Fp(\))g
Fj(x)g Fp(Zero)-76 1494 y(W)m(e)13 b(apply)i(the)e(promotion)i
(theorem:)-76 1561 y Fj(\036)-53 1565 y Fh(n)-32 1561
y Fp(\(\))9 b Fl(\016)f Fp(length)13 b(=)21 b(length)10
b Fl(\016)f Fj(f)361 1565 y Fh(n)381 1561 y Fp(\(\))150
1603 y(=)21 b(length)10 b Fl(\016)f Fp(\()p Fj(\025w)q(:w)q
Fp(\))20 b(=)h(length)-76 1644 y Fl(\))11 b Fj(\036)-4
1648 y Fh(n)17 1644 y Fp(\(\))22 b(=)f Fj(\025w)q(:w)-76
1686 y Fp(Assuming)15 b Fj(r)9 b Fl(\016)g Fp(length)23
b(=)e(length)10 b Fl(\016)f Fj(s)k Fp(then)-76 1727 y
Fj(\036)-53 1731 y Fh(c)-37 1727 y Fp(\()p Fj(a;)6 b(r)q
Fp(\))j Fl(\016)g Fp(length)j(=)21 b(length)10 b Fl(\016)f
Fj(f)411 1731 y Fh(c)427 1727 y Fp(\()p Fj(a;)d(s)p Fp(\))200
1769 y(=)21 b(length)10 b Fl(\016)f Fp(\()p Fj(\025w)q(:s)p
Fp(\(Cons\()p Fj(a;)d(w)q Fp(\)\)\))200 1810 y(=)21 b
Fj(\025w)q(:)p Fp(length)q(\()p Fj(s)p Fp(\(Cons)q(\()p
Fj(a;)6 b(w)q Fp(\)\)\))200 1852 y(=)21 b Fj(\025w)q(:r)q
Fp(\(length)r(\(Cons\()p Fj(a;)6 b(w)q Fp(\)\)\))200
1893 y(=)21 b Fj(\025w)q(:r)q Fp(\(Succ)q(\(length)r(\()p
Fj(w)q Fp(\)\)\))200 1935 y(=)g(\()p Fj(\025w)q(:r)q
Fp(\(Succ)q(\()p Fj(w)q Fp(\)\)\))8 b Fl(\016)h Fp(length)-76
1976 y Fl(\))i Fj(\036)-4 1980 y Fh(c)12 1976 y Fp(\()p
Fj(a;)6 b(r)q Fp(\))22 b(=)f Fj(\025w)q(:r)q Fp(\(Succ)q(\()p
Fj(w)q Fp(\)\))-76 2043 y(Therefore,)13 b(length)q(\(rev)q(\()p
Fj(x)p Fp(\)\))f(is:)29 2124 y(fold)92 2106 y Fh(list)142
2124 y Fp(\()p Fj(\025)p Fp(\(\))p Fj(:\025w)q(:w)q(;)5
b(\025)p Fp(\()p Fj(a;)i(r)q Fp(\))p Fj(:\025w)q(:r)q
Fp(\(Succ)q(\()p Fj(w)q Fp(\)\)\))e Fj(x)h Fp(Zero)-20
2198 y(There)14 b(are)g(cases)g(where)g(the)g(application)j(of)c(a)h
(second-order)-76 2240 y(fold)e(to)f(a)h(second-order)h(fold)f
(normalizes)h(to)e(a)h(second-order)g(fold)-76 2281 y(that)17
b(tra)o(v)o(erses)g(the)f(accum)o(ulating)k(stac)o(k)c(v)n(ariable)j
Fj(w)q Fp(.)27 b(In)16 b(that)-76 2323 y(case)10 b(it)g(is)h(necessary)
f(to)g(apply)h(the)f(in)o(v)o(erse)h(transformation)g(of)f
Fl(F)899 2327 y Fa(G)-76 2364 y Fp(to)h(get)h(a)f(\014rst-order)h(fold)
g(from)f(the)h(resulting)h(second-order)g(fold.)-76 2406
y(This)i(is)g(analogous)h(to)e(the)g(DS)h(transformation)g(that)g
(translates)-76 2447 y(a)h(program)g(in)h(con)o(tin)o(uation)h(passing)
f(st)o(yle)g(in)o(to)f(a)g(program)g(in)-76 2489 y(direct)e(st)o(yle.)p
-76 2517 399 2 v -34 2543 a Fi(5)-16 2556 y Fm(Note)g(that)h(the)g
(application)h(of)f(an)o(y)h(function)g(to)f(a)g(p)q(oten)o(tially)i
(im-)-76 2589 y(pro)o(v)n(able)f(\014rst-order)f(fold,)i(suc)o(h)f(as)f
(rev)o(erse\(app)q(end)q(\()p Fd(x;)5 b(y)q Fm(\)\),)17
b(can)d(alw)o(a)o(ys)-76 2622 y(b)q(e)d(normalized)h(b)o(y)g(the)f
(\014rst-order)g(promotion)g(theorem.)1020 -34 y Fk(De\014nition)h(14)j
(\(In)o(v)o(erse)h Fl(F)1484 -30 y Fa(G)1505 -34 y Fk
(-transformation\))j Fo(The)10 b(inverse)1020 13 y Fl(F)1048
17 y Fa(G)1070 13 y Fo(-tr)n(ansformation)j Fl(F)1380
-2 y Fp(-)o Fi(1)1376 21 y Fa(G)1427 13 y Fo(for)j(a)h(se)n(c)n(ond-or)
n(der)d(fold)i Fp(fold)1895 -2 y Fh(T)1919 13 y Fp(\()p
1934 -18 23 2 v Fj(\036)p Fp(\))h Fo(is)1020 55 y(de\014ne)n(d)11
b(by)i(the)g(fol)r(lowing)f(rules:)1179 136 y Fl(F)1211
120 y Fp(-)o Fi(1)1207 143 y Fa(G)1240 136 y Fp(\()p
Fj(\025w)q(:w)q Fp(\))171 b(=)37 b Fl(I)1620 140 y Fa(G)1179
180 y Fl(F)1211 164 y Fp(-)o Fi(1)1207 188 y Fa(G)1240
180 y Fp(\()p Fj(\025w)q(:r)q Fp(\()p Fj(t)p Fp(\)\))138
b(=)37 b Fl(G)r Fp(\()p Fj(r)o(;)6 b Fl(F)1704 164 y
Fp(-)o Fi(1)1700 188 y Fa(G)1733 180 y Fp(\()p Fj(\025w)q(:t)p
Fp(\)\))1179 224 y Fl(F)1211 209 y Fp(-)o Fi(1)1207 232
y Fa(G)1240 224 y Fp(\()p Fj(\025w)q(:)p Fl(G)r Fp(\()p
Fj(v)q(;)g(t)p Fp(\)\))94 b(=)37 b Fl(G)r Fp(\()p Fj(v)q(;)6
b Fl(F)1708 209 y Fp(-)o Fi(1)1704 232 y Fa(G)1737 224
y Fp(\()p Fj(\025w)q(:t)p Fp(\)\))1179 269 y Fl(F)1211
253 y Fp(-)o Fi(1)1207 277 y Fa(G)1240 269 y Fp(\()p
Fj(\025w)q(:r)q Fp(\()p Fl(G)r Fp(\()p Fj(w)q(;)g(t)p
Fp(\)\)\))37 b(=)g Fl(G)r Fp(\()p Fl(F)1671 253 y Fp(-)o
Fi(1)1667 277 y Fa(G)1700 269 y Fp(\()p Fj(\025w)q(:t)p
Fp(\))p Fj(;)6 b(r)q Fp(\))1020 357 y Fo(wher)n(e)15
b Fj(r)i Fo(is)e(an)g(ac)n(cumulative)d(r)n(esult)i(variable)f(of)i
Fp(fold)1855 341 y Fh(T)1879 357 y Fp(\()p 1894 326 V
Fj(\036)p Fp(\))h Fo(\(i.e.)1020 399 y(a)g(variable)e(b)n(ound)h(to)g
(a)h(function\))e(and)h Fj(v)i Fo(is)f(a)g(value)f(that)g(do)n(es)1020
440 y(not)e(dep)n(end)e(on)i(any)f(such)h(ac)n(cumulative)d(r)n(esult)i
(variable.)1020 512 y Fp(The)h(\014rst)h(three)f(rules)i(de\014ne)f
(the)f(in)o(v)o(erse)i(of)e Fl(G)r Fp(-transformation,)1020
553 y(that)h(is,)g Fl(F)1186 537 y Fp(-)o Fi(1)1182 561
y Fa(G)1224 553 y Fl(\016)9 b(F)1280 557 y Fa(G)1313
553 y Fp(=)k(id.)19 b(The)14 b(last)g(rule)g(is)g(the)g(most)g(imp)q
(ortan)o(t)1020 595 y(one)g(b)q(ecause)h(it)f(transforms)g(a)f(fold)h
(o)o(v)o(er)g Fj(w)g Fp(\(if)g Fl(G)r Fp(\()p Fj(w)q(;)5
b(t)p Fp(\))13 b(is)h(a)g(zero)1020 636 y(replacemen)o(t)j(function\))g
(in)o(to)f(a)g(fold)g(o)o(v)o(er)g Fj(t)p Fp(.)24 b(It)15
b(can)h(b)q(e)g(pro)o(v)o(ed)1020 684 y(that)d(if)g Fj(f)1157
688 y Fh(i)1181 684 y Fp(=)d Fl(F)1253 668 y Fp(-)o Fi(1)1249
692 y Fa(G)1291 684 y Fl(\016)f Fj(\036)1342 688 y Fh(i)1368
684 y Fp(then)k(fold)1518 668 y Fh(T)1543 684 y Fp(\()p
1558 653 V Fj(\036)o Fp(\))7 b Fj(x)f Fl(I)1651 688 y
Fa(G)1690 684 y Fp(=)17 b(fold)1800 668 y Fh(T)1824 684
y Fp(\()p 1839 653 V Fj(f)t Fp(\))6 b Fj(x)p Fp(.)1076
725 y(F)m(or)13 b(example,)1184 809 y(rev\(rev)q(\()p
Fj(x)p Fp(\)\))21 b(=)g(fold)1506 791 y Fh(list)1555
809 y Fp(\()p Fj(\036)1593 813 y Fh(n)1614 809 y Fj(;)7
b(\036)1655 813 y Fh(c)1670 809 y Fp(\))g Fj(x)f Fp(rev\(Nil)q(\))1020
888 y(W)m(e)13 b(apply)i(the)e(promotion)i(theorem:)1020
960 y Fj(\036)1043 964 y Fh(n)1064 960 y Fp(\(\))9 b
Fl(\016)f Fp(rev)22 b(=)f(rev)9 b Fl(\016)g Fp(\()p Fj(\025w)q(:w)q
Fp(\))20 b(=)h(rev)1020 1001 y Fl(\))11 b Fj(\036)1092
1005 y Fh(n)1113 1001 y Fp(\(\))21 b(=)h Fj(\025w)q(:w)1020
1043 y Fp(If)12 b(w)o(e)h(assume)h Fj(r)c Fl(\016)e Fp(rev)22
b(=)f(rev)9 b Fl(\016)g Fj(s)k Fp(then)1020 1084 y Fj(\036)1043
1088 y Fh(c)1059 1084 y Fp(\()p Fj(a;)6 b(r)q Fp(\))j
Fl(\016)g Fp(rev)i(=)21 b(rev)9 b Fl(\016)g Fj(f)1403
1088 y Fh(c)1418 1084 y Fp(\()p Fj(a;)e(s)p Fp(\))1244
1126 y(=)21 b(rev)9 b Fl(\016)g Fp(\()p Fj(\025w)q(:s)p
Fp(\(Cons)o(\()p Fj(a;)e(w)q Fp(\)\)\))1244 1167 y(=)21
b Fj(\025w)q(:)p Fp(rev\()p Fj(s)p Fp(\(Cons\()p Fj(a;)7
b(w)q Fp(\)\)\))1244 1209 y(=)21 b Fj(\025w)q(:r)q Fp(\(rev\(Cons)q(\()
p Fj(a;)6 b(w)q Fp(\)\)\))1244 1250 y(=)21 b Fj(\025w)q(:r)q
Fp(\(app)q(end)r(\(rev\()p Fj(w)q Fp(\))p Fj(;)5 b Fp(Cons)q(\()p
Fj(a;)h Fp(Nil)q(\)\)\))1020 1292 y Fl(\))11 b Fj(\036)1092
1296 y Fh(c)1108 1292 y Fp(\()p Fj(a;)6 b(r)q Fp(\))22
b(=)f Fj(\025w)q(:r)q Fp(\(app)q(end)r(\()p Fj(w)q(;)5
b Fp(Cons)q(\()p Fj(a;)h Fp(Nil)q(\)\)\))1020 1363 y(Therefore,)13
b(rev\(rev\()p Fj(x)p Fp(\)\))g(is)1020 1449 y(fold)1083
1431 y Fh(list)1133 1449 y Fp(\()p Fj(\025)p Fp(\(\))p
Fj(:\025w)q(:w)q(;)5 b(\025)p Fp(\()p Fj(a;)h(r)q Fp(\))p
Fj(:\025w)q(:r)q Fp(\(app)q(end)r(\()p Fj(w)q(;)f Fp(Cons)q(\()p
Fj(a;)h Fp(Nil)q(\)\)\)\))g Fj(x)h Fp(Nil)1020 1528 y(W)m(e)13
b(apply)i(the)e Fl(F)1290 1512 y Fp(-)o Fi(1)1286 1536
y Fa(G)1332 1528 y Fp(transform)g(to)g(get:)1114 1613
y(fold)1177 1597 y Fh(list)1227 1613 y Fp(\()p Fj(\025)p
Fp(\(\))p Fj(:)p Fp(Nil)q Fj(;)6 b(\025)p Fp(\()p Fj(a;)g(r)q
Fp(\))p Fj(:)p Fp(app)q(end)r(\(Cons\()p Fj(a;)h Fp(Nil)q(\))p
Fj(;)f(r)q Fp(\)\))h Fj(x)1198 1659 y Fp(=)22 b(fold)1312
1643 y Fh(list)1362 1659 y Fp(\()p Fj(\025)p Fp(\(\))p
Fj(:)p Fp(Nil)q Fj(;)6 b(\025)p Fp(\()p Fj(a;)h(r)q Fp(\))p
Fj(:)p Fp(Cons\()p Fj(a;)g(r)q Fp(\)\))f Fj(x)1020 1738
y Fp(whic)o(h)14 b(is)g(the)f(list)h(iden)o(tit)o(y)h(function.)1020
1836 y Fq(8)41 b(Relationship)11 b(to)j(Other)f(W)o(o)o(rk)1020
1915 y Fp(This)k(w)o(ork)g(is)g(related)h(to)f(W)m(ater's)f(on)h
(series)h(expressions)h([18].)1020 1956 y(His)14 b(tec)o(hniques)i
(apply)g(only)f(to)f(linear)i(data)f(structures)f(suc)o(h)h(as)1020
1998 y(lists,)f(v)o(ectors,)e(and)i(streams,)e(y)o(et)h(his)g(tec)o
(hniques)i(automatically)1020 2039 y(detect)h(and)h(fuse)f(m)o(ultiple)
i(w)o(alks)e(do)o(wn)h(the)f(same)g(data)g(struc-)1020
2081 y(ture,)d(unlik)o(e)i(some)e(of)g(the)g(more)g(general)i(tec)o
(hniques.)1076 2122 y(It)10 b(is)h(also)h(related)f(to)g(W)m(adler's)g
(w)o(ork)g(on)f(listlessness)q(,)j(and)e(de-)1020 2164
y(forestation)i([14,)f(15,)g(8].)k(Deforestation)e(w)o(orks)e(on)h(all)
g(\014rst)g(order)1020 2205 y(treeless)h(terms.)j(A)12
b(treeless)i(term)e(is)i(one)f(whic)o(h)h(is)f(exactly)h(anal-)1020
2247 y(ogous)e(to)g(a)f Fo(p)n(otential)r(ly)e(normalizable)g
Fp(term,)i(but)h(is)g(describ)q(ed)h(in)1020 2288 y(a)d(m)o(uc)o(h)h
(di\013eren)o(t)h(manner)f(due)g(to)f(lac)o(k)i(of)e(structure)h(imp)q
(osed)h(on)1020 2330 y(suc)o(h)i(terms.)i(W)m(adler)f(mak)o(es)e(the)g
(observ)n(ation)i(that)e(some)h(in)o(ter-)1020 2371 y(mediate)d(data)f
(structures)h(for)e(primitiv)o(e)j(t)o(yp)q(es,)f(suc)o(h)f(as)g(in)o
(tegers,)1020 2413 y(c)o(haracters,)i(etc.)k(do)c(not)f(really)i(tak)o
(e)e(up)h(space,)f(so)h(he)f(dev)o(elop)q(ed)1020 2454
y(a)k(metho)q(d)h(to)f(handle)h(suc)o(h)g(terms,)f(using)i(a)e(tec)o
(hnique)h(he)g(calls)1020 2496 y(blazing.)1076 2537 y(Chin's)10
b(w)o(ork)f(on)g(fusion)i([1])d(extends)i(W)m(adler's)h(w)o(ork)e(on)g
(defor-)1020 2579 y(estation.)17 b(He)9 b(generalizes)i(W)m(adler's)g
(tec)o(hniques)g(to)e(all)h(\014rst)g(order)1020 2620
y(programs,)h(not)e(just)h(treeless)g(ones,)h(b)o(y)e(recognizing)j
(and)e(skipping)961 2747 y(9)p eop
%%Page: 10 10
10 9 bop -76 -34 a Fp(o)o(v)o(er)15 b(terms)f(to)g(whic)o(h)h(his)g
(tec)o(hniques)i(do)d(not)h(apply)m(.)22 b(His)14 b(w)o(ork)-76
7 y(also)19 b(applies)h(to)d(higher)j(order)e(programs)g(in)h(general.)
32 b(This)19 b(is)-76 49 y(accomplished)g(b)o(y)d(a)f(higher)i(order)f
(remo)o(v)n(al)h(phase,)g(whic)o(h)f(\014rst)-76 90 y(remo)o(v)o(es)11
b(some)f(higher)h(order)g(functions)g(from)f(a)g(program.)17
b(Those)-76 132 y(not)11 b(remo)o(v)o(ed)h(are)f(recognizable)i(and)f
(are)f(simply)i(\\skipp)q(ed")g(o)o(v)o(er)-76 173 y(in)20
b(the)f(impro)o(v)o(emen)o(t)i(phase.)36 b(Our)19 b(normalization)j
(algorithm)-76 215 y(needs)14 b(no)f(explicit)j(higher)e(order)g(remo)o
(v)n(al)g(phase.)-76 313 y Fq(9)41 b(Conclusions)-76
391 y Fp(Recursiv)o(e)18 b(de\014nitions)i(and)d(higher)h(order)f
(functions,)i(as)d(found)-76 433 y(in)f(most)e(functional)j
(programming)g(languages,)f(pro)o(vide)h(a)d(p)q(o)o(w-)-76
474 y(erful)k(mec)o(hanism)h(for)e(sp)q(ecifying)j(programs,)f(but)e
(they)h(do)g(not)-76 516 y(imp)q(ose)i(m)o(uc)o(h)f(structure)g(on)g
(the)f(form)h(of)f(the)h(programs)g(that)-76 557 y(ma)o(y)c(b)q(e)g
(expressed.)19 b(By)14 b(programming)i(with)e(a)f(small,)i(\014xed)f
(set)-76 599 y(of)j(recursion)i(patterns)f(deriv)n(able)h(from)e
(algebraic)i(t)o(yp)q(e)f(de\014ni-)-76 640 y(tions,)d(an)e(orderly)i
(structure)g(can)e(b)q(e)h(imp)q(osed)h(up)q(on)g(functional)-76
682 y(programs.)22 b(This)15 b(structure)g(can)f(b)q(e)h(exploited)i
(to)d(facilitate)i(the)-76 723 y(pro)q(of)d(of)f(program)i(prop)q
(erties,)g(and)f(ev)o(en)g(to)g(calculate)h(program)-76
765 y(transformations.)-20 806 y(In)g(this)h(pap)q(er)g(w)o(e)e
(generalized)j(the)f(class)f(of)g(t)o(yp)q(es)h(to)e(whic)o(h)-76
848 y(these)g(tec)o(hniques)i(are)e(applicable)j(to)d(m)o(utually)i
(recursiv)o(e)f(sums-)-76 889 y(of-pro)q(ducts)j(with)g(tuples)g(and)g
(function)g(t)o(yp)q(es.)27 b(W)m(e)16 b(describ)q(ed)-76
931 y(sev)o(eral)i(useful)f(patterns)h(of)e(recursion)i(\()p
Fo(fold)p Fp(,)e Fo(derive)p Fp(,)f Fo(primitive)-76
972 y(r)n(e)n(cursion)p Fp(,)d(and)k Fo(se)n(c)n(ond-or)n(de)o(r)d
(fold)g Fp(in)i(v)n(arying)h(lev)o(els)g(of)f(detail\))-76
1014 y(applicabl)q(e)g(to)e(ev)o(ery)h(t)o(yp)q(e)f(in)h(this)g(class.)
-20 1055 y(In)19 b(addition,)j(w)o(e)c(describ)q(ed)j(the)d
Fo(normalization)e(algorithm)-76 1097 y Fp(whic)o(h)21
b(automatically)h(calculates)g(normalized)g(forms)e(for)f(pro-)-76
1138 y(grams)d(expressed)g(in)g(the)g Fo(fold)d Fp(sub-language.)27
b(This)16 b(algorithm,)-76 1180 y(based)i(up)q(on)g(a)f(generic)h
Fo(pr)n(omotion)e(the)n(or)n(em)p Fp(,)g(is)i(facilitated)h(b)o(y)-76
1221 y(the)13 b(explicit)i(structure)e(of)f(fold)h(programs)h(rather)f
(than)g(using)h(an)-76 1263 y(analysis)i(phase)d(to)g(searc)o(h)h(for)f
(implicit)j(structure.)-20 1304 y(W)m(e)g(iden)o(ti\014ed)j(generic)e
Fo(pr)n(omotion)d(the)n(or)n(ems)g Fp(for)i(eac)o(h)g(pat-)-76
1346 y(tern)i(of)f(recursion.)31 b(It)17 b(is)h(our)g
Fo(hop)n(e)e Fp(that)h(these)h(theorems)g(can)-76 1387
y(b)q(e)c(the)g(basis)h(of)f(normalization)j(algorithms)f(for)d
(patterns)i(of)f(re-)-76 1429 y(cursion)19 b(other)f(than)h
Fj(f)t(ol)q(d)p Fp(.)30 b(A)o(t)17 b(the)h(momen)o(t)g(this)g(is)g(an)g
(op)q(en)-76 1470 y(problem.)-20 1512 y(Other)12 b(problems)h(remain)f
(as)g(w)o(ell.)17 b(Man)o(y)12 b(algorithms)i(can)e(b)q(e)-76
1553 y(expressed)18 b(using)h(sev)o(eral)f(di\013eren)o(t)g(patterns)g
(of)f(recursion.)30 b(In)-76 1595 y(a)12 b(system)g(with)h
(normalization)i(algorithms)f(for)d(sev)o(eral)i(patterns)-76
1636 y(of)e(recursion,)i(it)f(w)o(ould)g(b)q(e)g(useful)g(to)f(kno)o(w)
h(su\016cien)o(t)h(conditions)-76 1678 y(for)e(translating)i(suc)o(h)f
(algorithms)h(from)d(one)h(pattern)h(to)f(another.)-76
1719 y(Th)o(us)j(enabling)j(the)d(impro)o(v)o(emen)o(t)h(of)e(terms,)h
(not)g(normalizable)-76 1761 y(in)g(one)f(pattern,)h(but)f
(normalizable)j(in)e(another.)-76 1859 y Fq(References)-57
1937 y Fp([1])19 b(W.)e(Chin.)31 b(Safe)17 b(F)m(usion)i(of)e(F)m
(unctional)j(Expressions.)32 b(In)3 1979 y Fo(Pr)n(o)n(c.)17
b(1992)g(A)o(CM)h(Confer)n(enc)n(e)f(on)g(Lisp)g(and)g(F)m(unctional)3
2020 y(Pr)n(o)n(gr)n(amming)p Fp(,)11 b(San)j(F)m(rancisco,)g(Ca.,)e
(June)h(1992.)-57 2092 y([2])19 b(J.)28 b(Co)q(c)o(k)o(ett)i(and)g(D.)f
(Sp)q(encer.)67 b(Strong)30 b(Categorical)3 2133 y(Datat)o(yp)q(es)18
b(I.)28 b(In)17 b(R.)g(Seely)m(,)h(editor,)h Fo(Internationa)o(l)14
b(Me)n(et-)3 2175 y(ing)e(on)h(Cate)n(gory)f(The)n(ory)h(1991)p
Fp(,)e(Canadian)k(Mathematical)3 2216 y(So)q(ciet)o(y)h(Pro)q
(ceedings,)h(V)m(ol.)e(13,)h(pp)f(141-169.)h(AMS,)f(Mon-)3
2258 y(treal,)e(1992.)-57 2329 y([3])19 b(J.)9 b(Co)q(c)o(k)o(ett)i
(and)g(T.)f(F)m(ukushima.)15 b(Ab)q(out)c(Charit)o(y)j(The)d(Uni-)3
2371 y(v)o(ersit)o(y)18 b(of)f(Calgary)m(,)i(Departmen)o(t)f(of)f
(Computer)h(Science,)3 2412 y(Researc)o(h)13 b(Rep)q(ort)h(No.)f
(92/480/18.)h(June)f(1992.)-57 2484 y([4])19 b(J.)d(Darlington)k(and)f
(R.)e(Burstall.)32 b(A)17 b(System)h(whic)o(h)h(Au-)3
2525 y(tomatically)27 b(Impro)o(v)o(es)e(Programs.)51
b Fo(A)n(cta)23 b(Informatic)n(a)p Fp(,)3 2567 y(6\(1\):41{60,)13
b(1976.)1039 -34 y([5])18 b(H.)e(Dybkj\032r.)27 b(Category)17
b(Theory)m(,)g(T)o(yp)q(es,)g(and)g(Program-)1098 7 y(ming)i
(Languages.)33 b(Ph.D.)18 b(thesis,)i(Departmen)o(t)f(of)f(Com-)1098
49 y(puter)13 b(Science,)g(Univ)o(ersit)o(y)h(of)e(Cop)q(enhagen)i
(\(DIKU\),)d(Ma)o(y)1098 90 y(1991.)1039 162 y([6])18
b(L.)c(F)m(egaras.)19 b Fo(A)14 b(T)m(r)n(ansformational)d(Appr)n(o)n
(ach)h(to)i(Datab)n(ase)1098 203 y(System)23 b(Implementation)p
Fp(.)46 b(Ph.D.)24 b(thesis,)j(Departmen)o(t)1098 245
y(of)f(Computer)h(Science,)k(Univ)o(ersit)o(y)d(of)e(Massac)o(h)o
(usetts,)1098 286 y(Amherst,)18 b(F)m(ebruary)f(1993.)29
b(Also)17 b(app)q(eared)h(as)f(CMPSCI)1098 328 y(T)m(ec)o(hnical)e(Rep)
q(ort)f(92-68.)1039 399 y([7])k(L.)9 b(F)m(egaras,)h(T.)e(Sheard,)j
(and)e(D.)g(Stemple.)j(Uniform)e(T)m(ra)o(v)o(er-)1098
441 y(sal)19 b(Com)o(binators:)28 b(De\014nition,)21
b(Use)d(and)g(Prop)q(erties.)33 b(In)1098 482 y Fo(Pr)n(o)n(c)n(e)n(e)n
(dings)19 b(of)i(the)f(11th)g(International)e(Confer)n(enc)n(e)h(on)
1098 524 y(A)o(utomate)n(d)g(De)n(duction)f(\(CADE-11\),)i(Sar)n(ato)n
(ga)f(Springs,)1098 565 y(New)14 b(Y)m(ork)p Fp(,)d(pp)j(148{162.)g
(Springer-V)m(erlag,)h(June)e(1992.)1039 636 y([8])18
b(A.)c(F)m(erguson,)i(and)f(P)m(.)f(W)m(adler.)23 b(When)15
b(will)h(Deforestation)1098 678 y(Stop.)32 b(In)18 b
Fo(Pr)n(o)n(c.)f(of)h(1988)e(Glasgow)h(Workshop)f(on)i(F)m(unc-)1098
720 y(tional)d(Pr)n(o)n(gr)n(amming)g Fp(\(also)i(as)f(researc)o(h)g
(rep)q(ort)h(89/R4)f(of)1098 761 y(Glasgo)o(w)f(Univ)o(ersit)o(y\),)h
(pp)e(39-56,)g(Rothesa)o(y)m(,)h(Isle)g(of)e(Bute,)1098
803 y(August)h(1988.)1039 874 y([9])k(T.)24 b(Hagino.)50
b Fo(A)24 b(Cate)n(goric)n(al)d(Pr)n(o)n(gr)n(amming)i(L)n(anguage.)
1098 915 y Fp(Ph.D.)13 b(thesis,)h(Univ)o(ersit)o(y)h(of)e(Edin)o
(burgh,)i(1987.)1020 987 y([10])j(J.)9 b(Hughes.)j(Wh)o(y)f(F)m
(unctional)h(Programming)f(Matters.)h Fo(The)1098 1028
y(Computer)h(Journal)p Fp(,)e(32\(2\):98{107,)j(1989.)1020
1100 y([11])k(J.)13 b(Ho)q(ok,)g(R.)f(Kieburtz,)i(and)f(T.)g(Sheard.)k
(Generating)e(Pro-)1098 1141 y(grams)f(b)o(y)g(Re\015ection.)19
b(Oregon)14 b(Graduate)g(Institute)h(T)m(ec)o(h-)1098
1183 y(nical)c(Rep)q(ort)f(92-015,)g(submitted)g(to)f
Fo(Journal)f(of)h(F)m(unctional)1098 1224 y(Pr)n(o)n(gr)n(amming)p
Fp(.)1020 1296 y([12])18 b(G.)f(Malcolm.)29 b(Homomorphisms)18
b(and)f(Promotabilit)o(y)m(.)30 b(In)1098 1337 y Fo(Mathematics)21
b(of)i(Pr)n(o)n(gr)n(am)f(Construction)p Fp(,)h(pp)g(335{347.)1098
1379 y(Springer-V)m(erlag,)15 b(June)f(1989.)1020 1450
y([13])k(E.)e(Meijer,)g(M.)g(F)m(okkinga,)h(and)g(R.)e(P)o(aterson.)26
b(F)m(unctional)1098 1492 y(Programming)e(with)e(Bananas,)j(Lenses,)f
(En)o(v)o(elop)q(es)f(and)1098 1533 y(Barb)q(ed)16 b(Wire.)22
b(In)15 b Fo(Pr)n(o)n(c)n(e)n(e)n(dings)d(of)j(the)f(5th)g(A)o(CM)h
(Confer-)1098 1575 y(enc)n(e)d(on)h(F)m(unctional)d(Pr)n(o)n(gr)n
(amming)i(L)n(anguages)e(and)i(Com-)1098 1616 y(puter)f(A)o(r)n(chite)n
(ctur)n(e,)e(Cambridge,)j(Massachuset)o(ts)p Fp(,)c(pp)k(124{)1098
1658 y(144,)i(August)f(1991.)1020 1729 y([14])18 b(P)m(.)d(W)m(adler.)
26 b(Listlessness)18 b(is)e(Better)f(than)h(Laziness:)24
b(Lazy)1098 1771 y(Ev)n(aluation)13 b(and)d(Garbage)h(Collection)h(at)e
(Compile-time.)j(In)1098 1812 y Fo(Pr)n(o)n(c.)i(of)g(the)f(A)o(CM)h
(Symp)n(osium)f(on)g(Lisp)g(and)g(F)m(unctional)1098
1854 y(Pr)n(o)n(gr)n(amming)p Fp(,)e(Austin)i(T)m(exas,)f(August,)g
(1984.)1020 1925 y([15])18 b(P)m(.)e(W)m(adler.)28 b(Deforestation:)e
(T)m(ransforming)17 b(Programs)g(to)1098 1967 y(Eliminate)d(T)m(rees.)f
Fo(Pr)n(o)n(c)n(e)n(e)n(dings)8 b(of)j(the)g(2nd)f(Eur)n(op)n(e)n(an)g
(Sym-)1098 2008 y(p)n(osium)k(on)h(Pr)n(o)n(gr)n(amming,)g(Nancy,)e(F)m
(r)n(anc)n(e)p Fp(,)h(Marc)o(h)h(1988.)1098 2050 y(Lecture)f(Notes)f
(in)h(Computer)f(Science)h(300.)1020 2121 y([16])k(P)m(.)e(W)m(adler.)
28 b(Editorial)19 b(-)c(Lazy)i(F)m(unctional)h(Programming)1098
2162 y Fo(The)c(Computer)f(Journal)p Fp(,)e(V)m(ol.)i(32,)f(No.)h(2,)g
(1989,)g(p.)g(97.)1020 2234 y([17])18 b(M.)f(W)m(and.)30
b(Con)o(tin)o(uation-Based)21 b(Program)c(T)m(ransforma-)1098
2275 y(tion)j(Strategies.)34 b Fo(Journal)17 b(of)h(the)f(A)o(CM)p
Fp(,)h(27\(1\):164{180,)1098 2317 y(Jan)o(uary)c(1980.)1020
2388 y([18])k(R.)10 b(W)m(aters.)i(Automatic)e(T)m(ransformation)h(of)f
(Series)h(Expres-)1098 2430 y(sions)16 b(in)o(to)f(Lo)q(ops,)21
b Fo(A)o(CM)15 b(T)m(r)n(ansactions)d(on)i(Pr)n(o)n(gr)n(amming)1098
2471 y(L)n(anguages)d(and)i(Systems)p Fp(,)d(13\(1\):52-98,)k(Jan)o
(uary)f(1991.)951 2747 y(10)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
