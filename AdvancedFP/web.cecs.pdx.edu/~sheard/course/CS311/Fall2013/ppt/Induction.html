Remember when you prove things by induction, you
are proving something over elements in an infinite set.
That set is always defined by some set of inductive rules.
<p>

<B><BIG>First thing to do is identify what infinite set, and identify the
inductive rules that define it.
</BIG></B>

<p>
When you write down your proof, it is best to follow some
rules about its organization. Here are a few rules to follow

<UL>
        <LI> Write down whatever definitions you will use. This includes
               <ul>
               <li> The inductive rules that define the infinite set.
               <li> Any function definitions over that set
               <li> Any other assumption you will make in your proof.
               </ul>

        <li> Write down the formula you are trying to prove, both as a
             sentence and as a precise mathematical formula.

        <LI> Write down the proof idea, this will help readers follow your proof.

        <LI> State clearly what variable you are doing induction over.
             If there is only one variable, this is easy, but if there are
             more than one, look for variables which are in inductive positions
             in the function definitions mentioned in the formula you are proving.
             <p>
             It is best to make a formula of the the induction variable. For
             example: <p>  P(x) ==>  x+(y+z) = (x+y)+z
             <p> Note that we have chosen "x" as the induction variable by
             making it an argument of "P".


        <LI> Write down all the cases, be sure to include the induction
              hypotheses, if a case has induction hypotheses. This is easy to do
              usimng the formula "P". For example over the natural numbers we have 2 cases.
                <ul> <li> P(Zero) <li> P(n)  => p(Succ n) </ul>

              Note how the induction hypotheses become implications.



        <LI> Then write down all the steps for each case. Justify each step.
</UL>

<HR ALIGN="center" WIDTH="100%">


Here is an example of a structural induction over lists.
First note that every list has only one of two forms. These rules
inductively define the infinite set of lists.

<ul>
<li> It is the empty list:  <B>[]</B>
<li> It was formed by <I>consing</I> an element <B>x</B> onto an existing list <B>xs</B>, so it looks like:  <B>(x : xs )</B>
<li> Nothing else is a list.
</ul>

<PRE>
Prove:  map id x = id x.

Induction variable is: x.

Formula: P(x) ==>   map id x = id x

-- List all the definitions and equations you use.
-- label each with a name

1 map f [] = []
2 map f (x:xs) = (f x) : (map f xs)

3 id x = x

-- Set up the structure of the proof
Prove 2 things

1) P([])
   map id [] = id []

2) P(zs) => P(z:zs)
   Assuming:    map id zs = id zs
   Prove:       map id (z:zs)  = id (z:zs)

-- label each step with the label of the definition
-- or equation that justifes it.

1) map id [] = id []
Proceed by transforming LHS into RHS with meaning preserving steps

 map id [] = []        -->    (By 1)
 [] = id []            -->    (By 3, backwards)
                QED

2) Assuming:    map id zs = id zs
   Prove:       map id (z:zs)  = id (z:zs)

   Proceed by transforming LHS into RHS with meaning preserving steps

map id (z:zs) = (id z): (map id zs)    --> (By 2)
(id z):(map id z) = id z:(id zs)       --> (By induction hyp)
id z:(id zs) = z : zs                  --> (By 3, used twice)
z:zs = id (z:zs)                       --> (By 3 used backwards)

<HR ALIGN="center" WIDTH="100%">

</PRE>

Proofs about strings have a lot in common with proofs about lists
(they are both finite sequences). When we prove things about strings
we sometimes have a choice about how we break the string into parts.
This choice is reflected in the inductive rules that define the infinite set
of strings.


<H4>Character on the Left</H4>
First note that every string has only one of two forms
<ul>
<li> It is the empty string:  <B>""</B>
<li> It was formed by adding a character <B>c</B> onto an existing string on the left <B>y</B>, so it looks like:  <B>(c y)</B>
<li> Nothing else is a String.
</ul>

<H4>Character on the Right</H4>
First note that every string has only one of two forms
<ul>
<li> It is the empty string:  <B>""</B>
<li> It was formed by adding a character <B>c</B> onto an existing string on the right <B>y</B>, so it looks like:  <B>(y c)</B>
<li> Nothing else is a String.
</ul>

Both of these are legitimate inductive definitions of the set of strings. Sometimes one works better
than the other when proving something about functions over strings.

<p>
Example: Prove that string concatenation is associatve. This proof uses
the <Strong>Character on the left</strong> inductive definition of the infinite set of strings.

<p>
<pre>
Prove:  xs++(ys++zs) = (xs++ys)++zs
Where ++ is string concatenation.

-- List all the definitions and equations you use.
-- label each with a name. We use the convention that
-- two character names (ending in 's') to name strings, and one
-- character names to name charaters.

1)  "" ++ ws = ws
2) (x ys) ++ ws = x (ys ++ ws)

Prove:  x++(y++z) = (x++y)++z
By induction on: x
Formula:  P(x) = x++(y++z) = (x++y)++z

-- Set up the structure of the proof
Prove 2 things

A) P("")  = "" ++(ys++zs) = ("" ++ys)++zs

B) P(ws) => P(w ws)

Assume: ws++(ys++zs) = (ws++ys)++zs
Prove:  (w ws)++(ys++zs) = ((w ws)++ys)++zs

Step A
"" ++(ys++zs) =  By rule (1)
(ys++ zs)     =  By rule (1) backwards on ys
("" ++ys)++zs

Step B
(w ws)++(ys++zs)   =   By rule (2)
w (ws++(ys++zs))   = By assumption
w ((ws++ys)++zs)   = By rule (2) backwards on (ws+zs)
((w (ws++ys))++zs) = By rule (2) backwards on ws
((w ws)++ys)++zs


</pre>

<HR ALIGN="center" WIDTH="100%">

The infinite set of Strings of balanced parenthesis can be defined inductively as follows.
<p>

<ul>
<li> The empty string "" is in the language of balanced parentheses
<li> If "x" is in the language of balanced parentheses, then so is "(x)"
<li> If "x" and "y" are in the the language of balanced parentheses, then so is "xy"
<li> Nothing else is in the language of balanced parenthesis.
</ul>
<p>
The following strings are examples

<ul> ""
<li> "()"
<li> "(()())"
<li> "(())()"
<li> "(((())))"
</ul>
<p>
Be sure you understand how each of these was added to the language of balanced parentheses.
<p>

Here are two functions over the language of balanced parentheses. Note how the functions
are defined by cases over how the infinite set is formed.
<p>
<pre>
leftCount "" = 0
leftCount (x) = 1 + leftCount x
leftCount xy = leftCount x + leftCount y

length "" = 0
length (x) = 2 + length x
length xy = length x + length y
</pre>
Now we want to prove that:  length x = leftCount x + leftCount x
<p>
Our proof will have three parts.
<ul>
<li> The facts. We have lots of facts for this proof.
   <br>
   First the inductive defintion of the infinite set.
  <ul>
  <li> The empty string "" is in the language of balanced parentheses
  <li> If "x" is in the language of balanced parentheses, then so is "(x)"
  <li> If "x" and "y" are in the the language of balanced parentheses, then so is "xy"
  <li> Nothing else is in the language of balanced parenthesis.
</ul>
 <br> Then the function definitions
 <pre>
(1)  leftCount "" = 0
(2)  leftCount (x) = 1 + leftCount x
(3)  leftCount xy = leftCount x + leftCount y

(4)  length "" = 0
(5)  length (x) = 2 + length x
(6)  length xy = length x + length y
</pre>
<br> Finally laws about addition
<ul>
<li> (7)      0 + x = x
<li> (8)   x+(y+z) = (x+y)+z
<li> (9)   x+y = y+x
</ul>

<p>
<li> What we are proving.
  <br> In English: The length of a string is twice its leftCount
  <br> In formal mathematical notation.  <b>length x = leftCount x + leftCount x</b>
  <br> As a formula of the induction variable:  <b>P{x} ==> length x = leftCount x + leftCount x</b>

<p>
<li> The cases of the proof
<ul>
<li> <p> case 1.    P{""}
<br> <b>length "" = LeftCount "" + leftCount ""</b>
<br> Simplfiying both sides of the equality in each step, we get.
<br> <b>length "" = LeftCount "" + leftCount ""</b>  <SMALL>using facts (1) and (4)</b></SMALL>
<br> <b>0 = 0 + 0</b>    <SMALL>using fact (7)</SMALL>
<br> <b>0 = 0</b>

<li> <p> case 2. P{x} => P{(x)}
<br> (11) assume: <B>length x = leftCount x + leftCount x</B>
<br> prove: <B>length (x) = leftCount (x) + leftCount (x) </B> <SMALL>using fact (2) and (5) </SMALL>
<br> <B>2 + length x = (1 + leftCount x) + (1 + leftCount x)</B>  <SMALL>using facts (8) and (9) many times</SMALL>
<br> <B>2 + length x = 2 + (leftCount x + leftCount y) </B> <small> using the assumption (11), the inductive hypothesis. </small>
<br> <B>2 + (leftCount x + leftCount y) = 2 + (leftCount x + leftCount x) </B><small> equal things are equal! </small>
<br> <B>TRUE</B>


<li> <p> case 3. P{x} and P{y} => P{xy}
<br>(12) assume: length x = leftCount x + leftCount x
<br>(13) assume: length y = leftCount y + leftCount y
<br> prove:  <B>length xy = leftCount xy + leftCount xy</B>
<br><B>length x + length y = (leftCount x + leftCount y) + (leftCount x + leftCount y)</b>   <SMALL>using facts (8) and (9) many times</SMALL>
<br><B>length x + length y  = (leftCount x + leftCount x) + (leftCount y + leftCount y)</B>  <SMALL>using facts (12) and (13)</SMALL>
<br> <B> (leftCount x + leftCount x) + (leftCount y + leftCount y)</B>
<br> TRUE
</ul>

</ul>





