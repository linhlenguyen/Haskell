%!PS-Adobe-2.0
%%Creator: dvips 5.499 Copyright 1986, 1993 Radical Eye Software
%%Title: typeclass.dvi
%%CreationDate: Mon Apr 26 11:24:38 1993
%%Pages: 10
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%EndComments
%DVIPSCommandLine: dvips -o pldi93.ps typeclass.dvi
%DVIPSSource:  TeX output 1993.04.26:1123
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N /X{S N}
B /TR{translate}N /isls false N /vsize 11 72 mul N /@rigin{isls{[0 -1 1 0 0 0]
concat}if 72 Resolution div 72 VResolution div neg scale isls{Resolution hsize
-72 div mul 0 TR}if Resolution VResolution vsize -72 div 1 add mul TR matrix
currentmatrix dup dup 4 get round 4 exch put dup dup 5 get round 5 exch put
setmatrix}N /@landscape{/isls true N}B /@manualfeed{statusdict /manualfeed
true put}B /@copies{/#copies X}B /FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N
/IE 0 N /ctr 0 N /df-tail{/nn 8 dict N nn begin /FontType 3 N /FontMatrix
fntrx N /FontBBox FBB N string /base X array /BitMaps X /BuildChar{
CharBuilder}N /Encoding IE N end dup{/foo setfont}2 array copy cvx N load 0 nn
put /ctr 0 N[}B /df{/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0
0 sf neg 0 0]N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data
dup length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{128
ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub get 127
sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data dup type
/stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N /rc 0 N /gp 0 N
/cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup /base get 2 index get
S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx 0 ch-xoff ch-yoff ch-height
sub ch-xoff ch-width add ch-yoff setcachedevice ch-width ch-height true[1 0 0
-1 -.1 ch-xoff sub ch-yoff .1 add]{ch-image}imagemask restore}B /D{/cc X dup
type /stringtype ne{]}if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1
ne{dup dup length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}
B /I{cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul add
.99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore showpage userdict
/eop-hook known{eop-hook}if}N /@start{userdict /start-hook known{start-hook}
if pop /VResolution X /Resolution X 1000 div /DVImag X /IE 256 array N 0 1 255
{IE S 1 string dup 0 3 index put cvn put}for 65781.76 div /vsize X 65781.76
div /hsize X}N /p{show}N /RMat[1 0 0 -1 0 0]N /BDot 260 string N /rulex 0 N
/ruley 0 N /v{/ruley X /rulex X V}B /V{}B /RV statusdict begin /product where{
pop product dup length 7 ge{0 7 getinterval dup(Display)eq exch 0 4
getinterval(NeXT)eq or}{pop false}ifelse}{false}ifelse end{{gsave TR -.1 -.1
TR 1 1 scale rulex ruley false RMat{BDot}imagemask grestore}}{{gsave TR -.1
-.1 TR rulex ruley scale 1 1 false RMat{BDot}imagemask grestore}}ifelse B /QV{
gsave transform round exch round exch itransform moveto rulex 0 rlineto 0
ruley neg rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N
/tail{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{4 M}B
/w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{p 1 w}B /r{
p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p a}B /bos{/SS save
N}B /eos{SS restore}B end
%%EndProcSet
%%BeginProcSet: special.pro
TeXDict begin /SDict 200 dict N SDict begin /@SpecialDefaults{/hs 612 N /vs
792 N /ho 0 N /vo 0 N /hsc 1 N /vsc 1 N /ang 0 N /CLIP 0 N /rwiSeen false N
/rhiSeen false N /letter{}N /note{}N /a4{}N /legal{}N}B /@scaleunit 100 N
/@hscale{@scaleunit div /hsc X}B /@vscale{@scaleunit div /vsc X}B /@hsize{/hs
X /CLIP 1 N}B /@vsize{/vs X /CLIP 1 N}B /@clip{/CLIP 2 N}B /@hoffset{/ho X}B
/@voffset{/vo X}B /@angle{/ang X}B /@rwi{10 div /rwi X /rwiSeen true N}B /@rhi
{10 div /rhi X /rhiSeen true N}B /@llx{/llx X}B /@lly{/lly X}B /@urx{/urx X}B
/@ury{/ury X}B /magscale true def end /@MacSetUp{userdict /md known{userdict
/md get type /dicttype eq{userdict begin md length 10 add md maxlength ge{/md
md dup length 20 add dict copy def}if end md begin /letter{}N /note{}N /legal{
}N /od{txpose 1 0 mtx defaultmatrix dtransform S atan/pa X newpath clippath
mark{transform{itransform moveto}}{transform{itransform lineto}}{6 -2 roll
transform 6 -2 roll transform 6 -2 roll transform{itransform 6 2 roll
itransform 6 2 roll itransform 6 2 roll curveto}}{{closepath}}pathforall
newpath counttomark array astore /gc xdf pop ct 39 0 put 10 fz 0 fs 2
F/|______Courier fnt invertflag{PaintBlack}if}N /txpose{pxs pys scale ppr
aload pop por{noflips{pop S neg S TR pop 1 -1 scale}if xflip yflip and{pop S
neg S TR 180 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0
get neg sub neg TR}if xflip yflip not and{pop S neg S TR pop 180 rotate ppr 3
get ppr 1 get neg sub neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get
neg TR}if}{noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop
pop 90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr 1 get
neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr 2 get ppr 0
get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4 -1 roll add 2 div 3
1 roll add 2 div 2 copy TR .96 dup scale neg S neg S TR}if}N /cp{pop pop
showpage pm restore}N end}if}if}N /normalscale{Resolution 72 div VResolution
72 div neg scale magscale{DVImag dup scale}if 0 setgray}N /psfts{S 65781.76
div N}N /startTexFig{/psf$SavedState save N userdict maxlength dict begin
/magscale false def normalscale currentpoint TR /psf$ury psfts /psf$urx psfts
/psf$lly psfts /psf$llx psfts /psf$y psfts /psf$x psfts currentpoint /psf$cy X
/psf$cx X /psf$sx psf$x psf$urx psf$llx sub div N /psf$sy psf$y psf$ury
psf$lly sub div N psf$sx psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy
psf$sy div psf$ury sub TR /showpage{}N /erasepage{}N /copypage{}N /p 3 def
@MacSetUp}N /doclip{psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll
newpath 4 copy 4 2 roll moveto 6 -1 roll S lineto S lineto S lineto closepath
clip newpath moveto}N /endTexFig{end psf$SavedState restore}N /@beginspecial{
SDict begin /SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count /ocount X /dcount countdictstack N}N /@setspecial{CLIP
1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto closepath
clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx sub div rhiSeen{
rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR}{rhiSeen{rhi ury lly
sub div dup scale llx neg lly neg TR}if}ifelse CLIP 2 eq{newpath llx lly
moveto urx lly lineto urx ury lineto llx ury lineto closepath clip}if
/showpage{}N /erasepage{}N /copypage{}N newpath}N /@endspecial{count ocount
sub{pop}repeat countdictstack dcount sub{end}repeat grestore SpecialSave
restore end}N /@defspecial{SDict begin}N /@fedspecial{end}B /li{lineto}B /rl{
rlineto}B /rc{rcurveto}B /np{/SaveX currentpoint /SaveY X N 1 setlinecap
newpath}N /st{stroke SaveX SaveY moveto}N /fil{fill SaveX SaveY moveto}N
/ellipse{/endangle X /startangle X /yrad X /xrad X /savematrix matrix
currentmatrix N TR xrad yrad scale 0 0 1 startangle endangle arc savematrix
setmatrix}N end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 300 300
(/server/u4/homes.systems.overflow/hcompile/pldi/typeclass.dvi)
@start /Fa 1 106 df<040C0000000000305898983030606464683006127E910B>105
D E /Fb 20 122 df<01800780FF80FF8007800780078007800780078007800780078007800780
0780078007800780078007800780FFFCFFFC0E187C9716>49 D<0FF0003FFC00787E00FC1F00FC
1F80FC0F80FC0F80780F80001F80001F00001E00003C0000780000700000E00001800003018006
01800C01801003803FFF007FFF00FFFF00FFFF0011187E9716>I<1FF000383C007C1E007C0F00
7C0F00380F00000F0000FF000FCF003E0F007C0F00F80F00F80F00F80F00F817007C27E01FC3E0
13117F9015>97 D<FC0000FC00003C00003C00003C00003C00003C00003C00003C00003CFE003F
87803E01C03C01E03C00F03C00F03C00F83C00F83C00F83C00F83C00F83C00F03C00F03C01E03E
01C03B078030FE00151A7E9919>I<03FC000F0E001C1F003C1F00781F00780E00F80000F80000
F80000F80000F800007800007800003C01801C03000F060003FC0011117F9014>I<0007E00007
E00001E00001E00001E00001E00001E00001E00001E003F9E00F07E01C03E03C01E07801E07801
E0F801E0F801E0F801E0F801E0F801E07801E07801E03C01E01C03E00F0DF803F9F8151A7F9919
>I<03F0000E1C001C0E003C0700780700780780F80780F80780FFFF80F80000F8000078000078
00003C01801C03000E060003FC0011117F9014>I<FC0000FC00003C00003C00003C00003C0000
3C00003C00003C00003C3E003CC7803D03803E03C03E03C03C03C03C03C03C03C03C03C03C03C0
3C03C03C03C03C03C03C03C03C03C0FF0FF0FF0FF0141A7E9919>104 D<3C7E7E7E7E3C000000
00FCFC3C3C3C3C3C3C3C3C3C3C3C3C3CFFFF081B7E9A0D>I<FCFC3C3C3C3C3C3C3C3C3C3C3C3C
3C3C3C3C3C3C3C3C3C3CFFFF081A7E990D>108 D<FC3E03E0FCC78C783D0390383E03E03C3E03
E03C3C03C03C3C03C03C3C03C03C3C03C03C3C03C03C3C03C03C3C03C03C3C03C03C3C03C03C3C
03C03CFF0FF0FFFF0FF0FF20117E9025>I<FC3E00FCC7803D03803E03C03E03C03C03C03C03C0
3C03C03C03C03C03C03C03C03C03C03C03C03C03C03C03C0FF0FF0FF0FF014117E9019>I<03F8
000E0E003C07803803807803C07803C0F803E0F803E0F803E0F803E0F803E0F803E07803C07C07
C03C07800E0E0003F80013117F9016>I<FCFE00FF87803E03C03C01E03C01F03C00F03C00F83C
00F83C00F83C00F83C00F83C00F03C01F03C01E03E03C03F07803CFE003C00003C00003C00003C
00003C0000FF0000FF000015187E9019>I<F8F0F9383A7C3A7C3C7C3C383C003C003C003C003C
003C003C003C003C00FF80FF800E117E9012>114 D<1FD820784018C018C018F000FF807FE03F
F007F8003CC00CC00CE00CE008F830CFE00E117F9011>I<06000600060006000E000E001E003F
F0FFF01E001E001E001E001E001E001E001E001E181E181E181E181E180F3003E00D187F9711>
I<FF03F0FF03F03E01C01E01801F03800F03000F030007860007860003CC0003CC0003FC0001F8
0001F80000F00000F00000600014117F9017>118 D<FF07F0FF07F01E07000F0600078C0003DC
0003F80001F00000F00001F80001BC00031E00071E000E0F001C0780FE0FF0FE0FF014117F9017
>120 D<FF03F0FF03F03E01C01E01801F03800F03000F030007860007860003CC0003CC0003FC
0001F80001F80000F00000F00000600000600070C000F8C000F9C000F980007700003C00001418
7F9017>I E /Fc 3 117 df<0F000003800003C00001C00001C00001E00000E00000E00000F000
007000007000007800003800003800003C00007C0000DE00018E00030E00060F000C07001C0700
380780700380E00380C001C0121A7E9916>21 D<60F0F06004047D830B>58
D<06000E000E000E000E001C001C00FFE01C0038003800380038007000700070007000E080E080
E100E100660038000B177E960E>116 D E /Fd 1 16 df<07801FE03FF07FF87FF8FFFCFFFCFF
FCFFFCFFFCFFFC7FF87FF83FF01FE007800E107E9013>15 D E /Fe 55
125 df<0700000F800018C00038E00038E00038E00038C00039CF80398F801F1C001E1C001E1C
000E38001E3800377000677000E3F000E3E000E1C380E1E38063F3803F3F001E1E0011177F9614
>38 D<60F0F878181818303060C080050C789614>I<0180038006000C001C0018003800700070
007000E000E000E000E000E000E000E000E000E000700070007000380018001C000C0006000380
0180091D799914>I<80C0603038181C0E0E0E0707070707070707070E0E0E1C18383060C08008
1D7C9914>I<01C00001C00001C00001C00001C00001C00001C000FFFF80FFFF80FFFF8001C000
01C00001C00001C00001C00001C00001C00011117F9314>43 D<70F8FCFC7C0C1830E0C0060A79
8414>I<FFFEFFFEFFFE0F037E8C14>I<70F8F8F8700505798414>I<0300030007000F003F00F7
004700070007000700070007000700070007000700070007000700070007007FF07FF00C177C96
14>49 D<0FC01FF03838701CE00EE00EE00E400E000E001C001C00380030007000E001C0030006
000C00180E300E7FFE7FFE0F177E9614>I<0FC01FF03838701C701C201C001C0018003800700F
E00FF00038001C000E000E400EE00EE00E701C78383FF00FC00F177E9614>I<70F8F8F8700000
0000000070F8F8F8700510798F14>58 D<000E003E007C00F003E007C01F003E00F800F000F800
3E001F0007C003E000F0007C003E000E0F137E9414>60 D<FFFF80FFFF807FFF80000000000000
0000007FFF80FFFF80FFFF8011097F8F14>I<4000E000F8007C001E000F8007C001F000F8003E
001E003E00F801F007C00F801E007C00F800E00040000F157E9514>I<01C00003E00003E00003
60000360000770000770000770000770000630000E38000E38000E38000E38001C1C001FFC001F
FC001C1C001C1C00380E00380E00FE3F80FE3F8011177F9614>65 D<FFF0FFFC381E380E380738
0738073807380E381E3FFC3FFC381E380E38073807380738073807380E381EFFFCFFF810177F96
14>I<01F18007FF800E1F801C0780380780700380700380700380E00000E00000E00000E00000
E00000E00000E000007003807003807003803807001C07000E0E0007FC0001F00011177F9614>
I<FFE000FFF800383C00381E00380E003807003807003807003803803803803803803803803803
80380380380380380380380700380700380E00381E00383C00FFF800FFE00011177F9614>I<FF
FF00FFFF003807003807003807003807003800003800003838003838003FF8003FF80038380038
3800380000380000380000380380380380380380380380FFFF80FFFF8011177F9614>I<FFFF80
FFFF803803803803803803803803803800003800003838003838003FF8003FF800383800383800
380000380000380000380000380000380000380000FF0000FF000011177F9614>I<FFF8FFF807
00070007000700070007000700070007000700070007000700070007000700070007000700FFF8
FFF80D177D9614>73 D<FF00FF0038003800380038003800380038003800380038003800380038
00380038003807380738073807FFFFFFFF10177E9614>76 D<FE3F80FE3F803E0E003B0E003B0E
003B0E003B0E003B8E00398E00398E0039CE0039CE0039CE0038CE0038CE0038EE00386E00386E
00386E00386E00383E00FE3E00FE3E0011177F9614>78 D<1FF07FFC783C701CE00EE00EE00EE0
0EE00EE00EE00EE00EE00EE00EE00EE00EE00EE00EE00E701C783C7FFC1FF00F177E9614>I<0F
CC1FFC307C603CE01CE01CE01CE00070007E003FE00FF001F8001C001E000E600EE00EE00EF01C
F838FFF0C7E00F177E9614>83 D<7FFF80FFFF80E1C380E1C380E1C380E1C38001C00001C00001
C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0000F
F8000FF80011177F9614>I<FFE0FFE0E000E000E000E000E000E000E000E000E000E000E000E0
00E000E000E000E000E000E000E000E000E000E000E000E000E000FFE0FFE00B1D799914>91
D<C000E000E00070007000380038001C001C000E000E000700070003800380038001C001C000E0
00E00070007000380038001C001C000E000E00060F1D7E9914>I<FFE0FFE000E000E000E000E0
00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000
E000E0FFE0FFE00B1D7F9914>I<FFFEFFFEFFFE0F037E7E14>95 D<1FC0007FF0007078002018
00001C00001C0007FC001FFC003C1C00701C00E01C00E01C00E01C00707C003FFF800F8F801110
7E8F14>97 D<FC0000FC00001C00001C00001C00001C00001C00001CF8001DFE001F07001E0300
1C03801C01C01C01C01C01C01C01C01C01C01C01C01C03801E03001F0E001DFC000CF800121780
9614>I<03F80FFE1C0E380470006000E000E000E000E00060007000380E1C1E0FFC03F00F107E
8F14>I<007E00007E00000E00000E00000E00000E00000E0007CE000FFE001C3E00301E00700E
00E00E00E00E00E00E00E00E00E00E00E00E00700E00301E00383E001FEFC007CFC012177F9614
>I<07E00FF01C38301C700CE00EE00EFFFEFFFEE00060007000380E1C1E0FFC03F00F107E8F14>
I<00FC01FE038E07040700070007007FFEFFFE0700070007000700070007000700070007000700
07000700FFF8FFF80F177F9614>I<07CF001FFF80383B80301800701C00701C00701C00301800
3838003FF00037C0007000007000003FF8001FFC003FFE00700F00E00380E00380E00380E00380
7007003C1E001FFC0007F00011197F8F14>I<FC0000FC00001C00001C00001C00001C00001C00
001C78001DFE001F86001E07001C07001C07001C07001C07001C07001C07001C07001C07001C07
001C0700FF8FE0FF8FE01317809614>I<06000F000F0006000000000000000000FF00FF000700
07000700070007000700070007000700070007000700FFF8FFF80D187C9714>I<FF80FF800380
038003800380038003800380038003800380038003800380038003800380038003800380FFFEFF
FE0F177E9614>108 D<FB8E00FFDF003CF3803CF38038E38038E38038E38038E38038E38038E3
8038E38038E38038E38038E380FEFBE0FE79E01310808F14>I<FC7800FDFE001F86001E07001C
07001C07001C07001C07001C07001C07001C07001C07001C07001C0700FF8FE0FF8FE01310808F
14>I<07C01FF03C78701C701CE00EE00EE00EE00EE00EE00E701C783C3C781FF007C00F107E8F
14>I<FCF800FDFE001F07001E03001C03801C01C01C01C01C01C01C01C01C01C01C01C01C0380
1E03001F0E001DFC001CF8001C00001C00001C00001C00001C00001C0000FF8000FF8000121880
8F14>I<03E7000FF7001C1F00300F00700F00E00700E00700E00700E00700E00700E00700700F
00300F001C3F000FF70007C700000700000700000700000700000700000700003FE0003FE01318
7F8F14>I<FE1F00FE7F800EE3800F81000F00000F00000E00000E00000E00000E00000E00000E
00000E00000E0000FFF000FFF00011107F8F14>I<0FD83FF86038C038C038F0007F803FF007F8
001C6006E006F006F81CFFF8CFE00F107E8F14>I<06000E000E000E000E007FFCFFFC0E000E00
0E000E000E000E000E000E000E0E0E0E0E0E0E1C07F801F00F157F9414>I<FC3F00FC3F001C07
001C07001C07001C07001C07001C07001C07001C07001C07001C07001C07001C1F000FFFE003E7
E01310808F14>I<FE3F80FE3F803C1E001C1C001C1C001C1C000E38000E38000E380006300007
700007700007700003E00003E00003E00011107F8F14>I<FE3F80FE3F80700700380E00380E00
380E0039CE0039CE0039CE001B6C001A6C001A6C001A6C001E7C001E7C000E380011107F8F14>
I<7E3F007E3F001E3C000E780007700007E00003E00001C00003C00003E0000770000E78000E38
001C1C00FE3F80FE3F8011107F8F14>I<FE3F80FE3F801C0E001C1C001C1C000E1C000E38000E
380007380007300007300003700003700003E00001E00001E00001C00001C00001C00003800073
80007700007E00003C000011187F8F14>I<E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0E0
E0E0E0E0E0E0E0E0031D789914>124 D E /Ff 42 124 df<FF80FF80FF0009037D880E>45
D<000800180030007001F00E7000E000E000E000E001C001C001C001C003800380038003800700
0700070007000F00FFE00D187C9714>49 D<003E0000C1800100800200C00600C00600C00E0180
07030007860003CC0001F00001F800067C000C3E00181E00300700600700600700C00600C00600
400C006018003070000FC00012187D9714>56 D<007C000186000703000E03000C03801C038038
0380380380380380380780380700380F001817000C270007CE00000E00000C00001C00001800E0
3000E0600080C000C380003E000011187C9714>I<0000200000600000E00000E00001E00001F0
00027000027000047000087000087000107000107000207000407000407000803800FFF8010038
020038020038040038040038080038180038FE01FF181A7E991D>65 D<000F8200706200C01603
801E07000C0E000C1C000C18000C380008300008700000700000E00000E00000E00000E00000E0
0020E00020E00020E000406000406000803001001006000C180003E000171A7A991B>67
D<03FFFF00700700700300700100E00100E00100E00100E00101C08001C08001C08001C18003FF
000381000381000381000702000700040700040700080E00080E00180E00100E00301C00E0FFFF
E0181A7D991A>69 D<03FFFF00700700700300700100E00100E00100E00100E00101C08001C080
01C08001C18003FF000381000381000381000702000700000700000700000E00000E00000E0000
0E00001E0000FFC000181A7D9919>I<000FC100302100C01301800F0700060E00060C00061800
06380004300004700000700000E00000E00000E00000E007FEE00070E00070E00070E000706000
E06000E03000E01801E00C064003F840181A7A991E>I<03FF00700070007000E000E000E000E0
01C001C001C001C0038003800380038007000700070007000E000E000E000E001C00FF80101A7D
990F>73 D<00FFC0000E00000E00000E00001C00001C00001C00001C0000380000380000380000
380000700000700000700000700000E00000E00000E00000E00061C000E1C000E1800083800047
00003C0000121A7C9914>I<03FF0000700000700000700000E00000E00000E00000E00001C000
01C00001C00001C0000380000380000380000380000700000700100700100700200E00200E0060
0E00400E00C01C0380FFFF80141A7D9918>76 D<03F8001FC00078003C000078003C000078005C
0000B800B80000B800B800009C013800009C013800011C027000011C027000011C047000011C08
7000021C08E000021C10E000021C10E000021C20E000041C41C000041C41C000041C81C000041C
81C000080F038000080F038000080E038000180C038000180C070000FE083FE000221A7D9922>
I<03F007F8007800C00078008000780080009C0100009C0100009C0100008E0100010E02000106
020001070200010702000203840002038400020384000201C4000401C8000401C8000400E80004
00E8000800F00008007000080070001800700018002000FE0020001D1A7D991D>I<03FFF80070
1C00700600700700E00700E00700E00700E00701C00E01C00E01C01C01C03803806003FF800380
000380000700000700000700000700000E00000E00000E00000E00001C0000FF8000181A7D991A
>80 D<003F1000609001807001007003002006002006002006002006000007000007C00003F800
01FE00007F00000F80000380000180000180200180200180600300600300600600700C00C81800
87E000141A7D9916>83 D<FF87FC1FC03C00E007003800E004003801E004003801E008003802E0
08001C02E010001C04E010001C04E020001C08E020001C08E040001C10E040001C10E080001C20
E100001C40E100001C40E200001C80E200001C80E400001D00E400001D00E800001E00E800001E
007000001C007000001C0060000018006000001800400000221A789926>87
D<03CC0E2E181C381C301C701CE038E038E038E038C072C072C07260F261341E180F107C8F14>
97 D<7E000E000E000E001C001C001C001C00380038003BC03C307830701870187018E038E038
E038E038C070C060C0E060C063801E000D1A7C9912>I<01E006180C181838301070006000E000
E000E000E000E008E010602030C01F000D107C8F12>I<001F8000038000038000038000070000
0700000700000700000E00000E0003CE000E2E00181C00381C00301C00701C00E03800E03800E0
3800E03800C07200C07200C0720060F2006134001E1800111A7C9914>I<01E00E181C08380870
087010FFE0E000E000E000E000E0086010602030C01F000D107C8F12>I<000700000980001B80
003B0000380000300000700000700000700000700007FF0000E00000E00000E00000E00000E000
01C00001C00001C00001C00001C000038000038000038000038000030000070000070000060000
660000E40000CC0000700000112181990C>I<00F300038B800607000E07000C07001C0700380E
00380E00380E00380E00301C00301C00301C00183C0018780007B8000038000038000070006070
00E0E000C1C0007F000011177E8F12>I<1F800003800003800003800007000007000007000007
00000E00000E00000E7C000F86001E07001E07001C07001C0700380E00380E00380E00381C0070
1C80701C80703880703900E01900600E00111A7E9914>I<030706000000000000384C4E8E9C9C
1C3838707272E2E4643808197C980C>I<000C000E000C00000000000000000000000000E00138
0238043804380438007000700070007000E000E000E000E001C001C001C001C003806380E700CE
0078000F2081980C>I<1F8003800380038007000700070007000E000E000E0E0E131C271C431C
801F003C003F8039C038E070E270E270E270E4E0646038101A7E9912>I<1F0707070E0E0E0E1C
1C1C1C3838383870707070E4E4E4E4E830081A7D990A>I<307C1E00598663009E0783809E0703
809C0703809C070380380E0700380E0700380E0700380E0E00701C0E40701C0E40701C1C40701C
1C80E0380C80601807001A107C8F1F>I<307C005986009E07009E07009C07009C0700380E0038
0E00380E00381C00701C80701C80703880703900E01900600E0011107C8F16>I<01F006180C0C
180E300E700E600EE00EE00EE00CE01CE018E030606030C01F000F107C8F14>I<030F000590C0
09E0C009C06009C06009C0600380E00380E00380E00380E00701C00701800703800703000E8E00
0E78000E00000E00001C00001C00001C00001C0000FF00001317808F14>I<30F05D189E389C18
9C009C0038003800380038007000700070007000E00060000D107C8F10>114
D<03E004300830187018601C001F801FC00FE000E00060E060E06080C041803E000C107D8F10>
I<06000E000E000E000E001C001C00FFC01C0038003800380038007000700070007000E100E100
E100E200E40038000A177C960D>I<38064C074E0E8E0E9C0E9C0E1C1C381C381C381C70397039
70393079389A0F0C10107C8F15>I<38184C1C4E1C8E0C9C0C9C0C1C0838083808381070107010
7020304018C00F000E107C8F12>I<380C104C0E384E1C388E1C189C1C189C1C181C3810383810
38381038381070702070702070704030704018B8800F0F0015107C8F19>I<078F0008D18010F3
8020E18020E00020E00001C00001C00001C00001C000038200038200C38200E78400C5880078F0
0011107E8F12>I<38064C074E0E8E0E9C0E9C0E1C1C381C381C381C703870387038307838F00F
700070006060E0E1C0C18047003C0010177C8F13>I<FFFF8011017D8914>123
D E /Fg 83 124 df<00FE7C0381C60603CE0E03841C03801C03801C03801C03801C03801C0380
FFFFF01C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C0380
1C03801C0380FF8FF0171A809916>11 D<00FE000381000601800E03801C01001C00001C00001C
00001C00001C0000FFFF801C03801C03801C03801C03801C03801C03801C03801C03801C03801C
03801C03801C03801C03801C0380FF8FF0141A809915>I<00FF800383800603800E03801C0380
1C03801C03801C03801C03801C0380FFFF801C03801C03801C03801C03801C03801C03801C0380
1C03801C03801C03801C03801C03801C03801C0380FF9FF0141A809915>I<007E1F8001C17040
0703C060060380E00E0380400E0380000E0380000E0380000E0380000E038000FFFFFFE00E0380
E00E0380E00E0380E00E0380E00E0380E00E0380E00E0380E00E0380E00E0380E00E0380E00E03
80E00E0380E00E0380E00E0380E07F8FE3FC1E1A809920>I<60C0F1E0F9F068D0081008100810
10201020204040800C0B7F9913>34 D<60F0F86808080810102040050B7D990B>39
D<00800100020004000C00080018003000300030006000600060006000E000E000E000E000E000
E000E000E000E000E0006000600060006000300030003000180008000C00040002000100008009
267D9B0F>I<8000400020001000180008000C0006000600060003000300030003000380038003
80038003800380038003800380038003000300030003000600060006000C000800180010002000
4000800009267E9B0F>I<000C0000000C0000000C0000000C0000000C0000000C0000000C0000
000C0000000C0000000C0000000C0000000C0000FFFFFF80FFFFFF80000C0000000C0000000C00
00000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000191A
7E951E>43 D<60F0F07010101020204040040B7D830B>I<FFC0FFC00A0280880D>I<60F0F06004
047D830B>I<0004000C00180018001800300030003000600060006000C000C000C00180018001
800300030003000600060006000C000C000C00180018001800300030003000600060006000C000
C0000E257E9B13>I<07E01C38381C300C700E60066006E007E007E007E007E007E007E007E007
E007E00760066006700E300C381C1C3807E010187F9713>I<03000700FF000700070007000700
07000700070007000700070007000700070007000700070007000700070007007FF80D187D9713
>I<0F80106020304038803CC01CE01C401C003C003800380070006000C0018001000200040408
04100430083FF87FF8FFF80E187E9713>I<07E01838201C601E700E201E001E001C001C003800
7007E00038001C000E000F000FE00FE00FC00F400E601C183807E010187F9713>I<0018001800
38007800F800B8013802380238043808381838103820384038C038FFFF00380038003800380038
003803FF10187F9713>I<30183FF03FE03F80200020002000200020002FC03060203000380018
001C001C401CE01CE01C80184038403030E00F800E187E9713>I<01F807040C06180E300E3000
70006000E000E3E0E418E80CF00EE006E007E007E007600760077006300E180C0C3807E010187F
9713>I<40007FFF7FFE7FFE400480088010801000200040004000800180010003000300070006
0006000E000E000E000E000E00040010197E9813>I<07E01818300C2006600660067006780C3E
181F3007C003E00CF8307C601E600FC007C003C003C00360022004181807E010187F9713>I<07
E01C303018700C600EE006E006E007E007E0076007700F3017182707C700070006000E000C700C
7018603030600F8010187F9713>I<60F0F060000000000000000060F0F06004107D8F0B>I<60F0
F060000000000000000060F0F0701010102020404004177D8F0B>I<FFFFFF80FFFFFF80000000
000000000000000000000000000000000000000000FFFFFF80FFFFFF80190A7E8D1E>61
D<1FC020604030C038E038E0380038007000E00180010003000200020002000200020002000000
00000000000006000F000F0006000D1A7E9912>63 D<007F00000180C000060030000800080010
000400203E020020E1020041C08100438071008380708087007080870070808700708087007080
8700708087007080838070804380708041C0F10020E13100203E1E001000000008000000060003
8001803E00007FE000191A7E991E>I<000C0000000C0000000C0000001E0000001E0000002F00
0000270000002700000043800000438000004380000081C0000081C0000181E0000100E0000100
E00003FFF000020070000200700004003800040038000400380008001C0008001C003C001E00FF
00FFC01A1A7F991D>I<FFFF800E00E00E00700E00380E003C0E003C0E003C0E003C0E003C0E00
780E00700E01E00FFFC00E00F00E00780E003C0E001C0E001E0E001E0E001E0E001E0E001C0E00
3C0E00780E00F0FFFFC0171A7F991B>I<003F0201C0C603002E0E001E1C000E1C000638000678
0002700002700002F00000F00000F00000F00000F00000F000007000027000027800023800041C
00041C00080E000803003001C0C0003F00171A7E991C>I<FFFF80000E00E0000E0070000E0038
000E001C000E000E000E000E000E0007000E0007000E0007800E0007800E0007800E0007800E00
07800E0007800E0007800E0007800E0007000E0007000E000F000E000E000E001C000E001C000E
0078000E00E000FFFF8000191A7F991D>I<FFFFF80E00380E00180E00080E000C0E00040E0004
0E00040E01000E01000E01000E03000FFF000E03000E01000E01000E01000E00020E00020E0002
0E00060E00040E00040E000C0E003CFFFFFC171A7F991A>I<FFFFF80E00380E00180E00080E00
0C0E00040E00040E00040E01000E01000E01000E03000FFF000E03000E01000E01000E01000E00
000E00000E00000E00000E00000E00000E00000E0000FFE000161A7F9919>I<003F020001C0C6
0003002E000E001E001C000E001C00060038000600780002007000020070000200F0000000F000
0000F0000000F0000000F0000000F001FFC070000E0070000E0078000E0038000E001C000E001C
000E000E000E000300160001C06600003F82001A1A7E991E>I<FFE1FFC00E001C000E001C000E
001C000E001C000E001C000E001C000E001C000E001C000E001C000E001C000E001C000FFFFC00
0E001C000E001C000E001C000E001C000E001C000E001C000E001C000E001C000E001C000E001C
000E001C000E001C00FFE1FFC01A1A7F991D>I<FF801C001C001C001C001C001C001C001C001C
001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00FF80091A7E990E>
I<0FFE007000700070007000700070007000700070007000700070007000700070007000700070
00704070E070E07040E061C01F000F1A7E9914>I<FFE01FC00E000F000E000C000E0008000E00
10000E0020000E0040000E0180000E0200000E0400000E0C00000E1C00000E2E00000E4700000E
8380000F0380000E01C0000E00E0000E00E0000E0070000E0038000E0038000E001C000E001E00
0E001F00FFE07FC01A1A7F991E>I<FFE0000E00000E00000E00000E00000E00000E00000E0000
0E00000E00000E00000E00000E00000E00000E00000E00000E00000E00080E00080E00080E0018
0E00100E00300E00700E00F0FFFFF0151A7F9918>I<FF0000FF0F0000F00F0000F00B8001700B
80017009C0027009C0027009C0027008E0047008E0047008700870087008700870087008381070
0838107008381070081C2070081C2070080E4070080E4070080E40700807807008078070080300
701C030070FF8307FF201A7F9923>I<FE007FC00F000E000F0004000B80040009C0040009C004
0008E00400087004000870040008380400081C0400081C0400080E040008070400080384000803
84000801C4000800E4000800E4000800740008003C0008003C0008001C0008000C001C000C00FF
8004001A1A7F991D>I<007F000001C1C000070070000E0038001C001C003C001E0038000E0078
000F0070000700F0000780F0000780F0000780F0000780F0000780F0000780F0000780F0000780
78000F0078000F0038000E003C001E001C001C000E0038000700700001C1C000007F0000191A7E
991E>I<FFFF800E01E00E00700E00780E00380E003C0E003C0E003C0E003C0E00380E00780E00
700E01E00FFF800E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00
00FFE000161A7F991A>I<007F000001C1C000070070000E0038001C001C003C001E0038000E00
78000F0070000700F0000780F0000780F0000780F0000780F0000780F0000780F0000780F00007
807000070078000F0038000E003C1C1E001C221C000E4138000741F00001E1C000007F80800000
C0800000C0800000E18000007F0000007F0000003E0000001C0019217E991E>I<FFFF00000E01
C0000E0070000E0078000E003C000E003C000E003C000E003C000E003C000E0078000E0070000E
01C0000FFF00000E0380000E00C0000E00E0000E0070000E0070000E0070000E0078000E007800
0E0078000E0078400E003C400E001C80FFE00F001A1A7F991C>I<0FC21836200E6006C006C002
C002C002E00070007E003FE01FF803FC007E000E00070003800380038003C002C006E004D81887
E0101A7E9915>I<7FFFFF00701C0700401C0100401C0100C01C0180801C0080801C0080801C00
80001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C
0000001C0000001C0000001C0000001C0000001C0000001C0000001C000003FFE000191A7F991C
>I<FFE07FC00E000E000E0004000E0004000E0004000E0004000E0004000E0004000E0004000E
0004000E0004000E0004000E0004000E0004000E0004000E0004000E0004000E0004000E000400
0E0004000600080007000800030010000180200000E0C000003F00001A1A7F991D>I<FF801FC0
1C0007001C0006000E0004000E0004000E00040007000800070008000380100003801000038010
0001C0200001C0200000E0400000E0400000E04000007080000070800000798000003900000039
0000001E0000001E0000001E0000000C0000000C00001A1A7F991D>I<FF81FF07F03C007801C0
1C007800801C007800801C007800800E009C01000E009C01000E009C010007010E020007010E02
0007010E020003830F0400038207040003820704000382070C0001C403880001C403880001C403
880000E801D00000E801D00000E801D000007000E000007000E000007000E000003000C0000020
004000241A7F9927>I<FF801FE01E0007001E0006000F00040007000C00078008000380100001
C0100001E0200000E06000007040000078800000388000001D0000001F0000000E0000000E0000
000E0000000E0000000E0000000E0000000E0000000E0000000E0000000E000000FFC0001B1A7F
991D>89 D<FEFEC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
C0FEFE07257D9B0B>91 D<2040204040804080810081008100E1C0F1E0F1E060C00B0B7A9913>
I<FEFE060606060606060606060606060606060606060606060606060606060606060606FEFE07
25809B0B>I<20204040808080E0F0F060040B7D990B>96 D<1FC000387000383800101C00001C
00001C0003FC001E1C00381C00701C00E01C00E01C80E01C80E03C80705F801F8F0011107F8F13
>I<FC00001C00001C00001C00001C00001C00001C00001C00001C00001C00001CFC001D07001E
03801C01C01C00C01C00E01C00E01C00E01C00E01C00E01C00E01C01C01C01801E030019060010
F800131A809915>I<07F81C1C381C70087000E000E000E000E000E000E0007000700438081C18
07E00E107F8F11>I<003F00000700000700000700000700000700000700000700000700000700
03E7000C1700180F00300700700700E00700E00700E00700E00700E00700E00700600700700700
380F001C370007C7E0131A7F9915>I<07C01C3030187018600CE00CFFFCE000E000E000E00060
00700438081C1807E00E107F8F11>I<01F007180E381C101C001C001C001C001C001C00FFC01C
001C001C001C001C001C001C001C001C001C001C001C001C001C00FF800D1A80990C>I<0FCF00
1871803030007038007038007038007038003030001860002FC0006000006000007000003FF000
3FFC001FFE00600F00C00300C00300C00300C00300600600381C0007E00011187F8F13>I<FC00
001C00001C00001C00001C00001C00001C00001C00001C00001C00001C7C001D87001E03801E03
801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C0380FF9FF0141A
809915>I<183C3C18000000000000FC1C1C1C1C1C1C1C1C1C1C1C1C1C1CFF081A80990A>I<0180
03C003C001800000000000000000000000000FC001C001C001C001C001C001C001C001C001C001
C001C001C001C001C001C001C001C001C041C0E180E3007E000A2182990C>I<FC00001C00001C
00001C00001C00001C00001C00001C00001C00001C00001C1FC01C0F001C0C001C18001C20001C
40001CE0001DE0001E70001C78001C38001C1C001C1E001C0F001C0F80FF9FE0131A809914>I<
FC001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C
001C001C001C001C001C00FF80091A80990A>I<FC7C1F001D8E63801E0781C01E0781C01C0701
C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C07
01C0FF9FE7F81D107F8F20>I<FC7C001D87001E03801E03801C03801C03801C03801C03801C03
801C03801C03801C03801C03801C03801C0380FF9FF01410808F15>I<07E01C38300C700E6006
E007E007E007E007E007E0076006700E381C1C3807E010107F8F13>I<FCFC001D07001E03801C
01C01C01C01C00E01C00E01C00E01C00E01C00E01C00E01C01C01C01801E03001D06001CF8001C
00001C00001C00001C00001C00001C0000FF80001317808F15>I<03E1000C1300180B00300F00
700700E00700E00700E00700E00700E00700E00700700700700700380F001C370007C700000700
000700000700000700000700000700003FE013177F8F14>I<FC781D9C1E1C1E081C001C001C00
1C001C001C001C001C001C001C001C00FF800E10808F0F>I<1F2060E04020C020C020F0007F00
3FC01FE000F080708030C030C020F0408F800C107F8F0F>I<0800080008000800180018003800
FFC038003800380038003800380038003800382038203820382018201C4007800B177F960F>I<
FC1F801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C0780
0C07800E0B8003F3F01410808F15>I<FF0F803C07001C06001C04001C04000E08000E08000710
0007100007100003A00003A00001C00001C00001C00000800011107F8F14>I<FE7F1F80381C07
003C1C06001C0C04001C0E04000E1608000E1708000E170800072310000723900007A3900003C1
A00003C1E0000180C0000180C0000180C00019107F8F1C>I<FE3F803C1E001C08000E10000F30
0007600003C00001C00001E00003E000027000043800083800181C00381E00FC3FC012107F8F14
>I<FF0F803C07001C06001C04001C04000E08000E080007100007100007100003A00003A00001
C00001C00001C000008000008000010000010000E10000E20000E4000078000011177F8F14>I<
FFF8E070C07080E081C081C00380070007000E041C041C04380870087038FFF80E107F8F11>I<
FFFFC01201808913>I E /Fh 50 124 df<0003C003F7E007F7E00FF7E01F13C01F00001F0000
1F00001F00001F00007FF3E0FFF3E0FFF3E01F03E01F03E01F03E01F03E01F03E01F03E01F03E0
1F03E01F03E01F03E01F03E01F03E01F03E00F03E0131B809A16>12 D<F8F8F8F8F805057D840B
>46 D<07E01FF83FFC3E7C7C3E781EF81FF81FF81FF81FF81FF81FF81FF81FF81FF81FF81FF81F
F81FF81F781E7C3E3E7C3FFC1FF807E0101A7E9915>48 D<01C003C01FC0FFC0FFC067C007C007
C007C007C007C007C007C007C007C007C007C007C007C007C007C007C007C07FFCFFFC7FFC0E1A
7D9915>I<07E01FF03FFC7FFEF87EF03F603F201F001F003F003F003E007C007C00F801F003E0
07800F000E001C0038007FFFFFFFFFFF7FFF101A7E9915>I<0FE03FF87FFCFFFC707E407E003E
007E007E00FC07F807F007F8007C003E003F003F003F003F403F603FF87EFFFE7FFC3FF80FE010
1A7E9915>I<00FC0000FC0001FC0001FC0003BC0007BC00073C000F3C000F3C001E3C001E3C00
3C3C003C3C00783C00783C00F03C00FFFFC0FFFFC0FFFFC0FFFFC0003C00003C00003C00003C00
003C00003C00121A7F9915>I<1FFF003FFF003FFF003FFF003E00003E00003E00003E00003E00
003E00003FF8003FFC003FFE003E1F001C1F80001F80001F80001F80201F80601F80701F80F83F
007FFF003FFE001FFC0007F000111A7F9915>I<01F007F81FF81FF83F087C007C007800F800F8
F0FBFCFFFEFE3EFC1FF81FF81FF81FF81FF81F781F7C1F7C3E3FFE1FFC0FF807E0101A7E9915>
I<FFFFFFFFFFFFFFFF001E003C007C00F800F801F001F003E003E007E007C00FC00FC00FC00F80
1F801F801F801F801F801F801F80101A7E9915>I<0FF03FFC7FFE7FFEFC3FF81FF81FF81FF81F
781E7FFE1FF81FF87E7E7C3EF81FF81FF81FF81FF81FF81F7C3E7FFE3FFC1FF807E0101A7E9915
>I<07E01FF03FFC7FFC7C3EF83EF81EF81FF81FF81FF81FF81FF83F7C7F7FFF3FDF0F1F001F00
1E003E003E307C3FFC7FF83FF00FC0101A7E9915>I<00FC0001FE0001FE0003FF0003FF0003DF
0003DF0007DF80079F80078F800F8FC00F8FC00F0FC01F07E01F07E01E07E03E03F03FFFF03FFF
F07FFFF87C01F87801F8F800FCF800FCF800FCF0007C161A7E991B>65 D<007FC003FFF80FFFF8
1FFFF83FC0703F00107E00007E00007E0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000
FC00007E00007E00007E00003F00083FC0781FFFF80FFFF803FFF0007F80151A7E991A>67
D<7FFF00FFFFE0FFFFF0FC07F8FC01FCFC00FCFC007EFC007EFC003FFC003FFC003FFC003FFC00
3FFC003FFC003FFC003FFC003FFC003FFC003EFC007EFC007EFC00FCFC03F8FFFFF0FFFFE07FFF
00181A7D991E>I<7FFFC0FFFFC0FFFFC0FFFFC0FC0000FC0000FC0000FC0000FC0000FC0000FC
0000FFFF80FFFF80FFFF80FFFF80FC0000FC0000FC0000FC0000FC0000FC0000FC0000FFFFC0FF
FFC0FFFFC07FFFC0121A7D9918>I<7C007EFC007EFC007EFC007EFC007EFC007EFC007EFC007E
FC007EFC007EFFFFFEFFFFFEFFFFFEFFFFFEFC007EFC007EFC007EFC007EFC007EFC007EFC007E
FC007EFC007EFC007EFC007E7C007E171A7D991E>72 D<7CFCFCFCFCFCFCFCFCFCFCFCFCFCFCFC
FCFCFCFCFCFCFCFCFC7C061A7D990C>I<7E0001FCFF0003FCFF0003FCFF0003FCFF8007FCF780
077CF7C00F7CF3C00E7CF3C00E7CF3E01E7CF1E01C7CF1F03C7CF1F03C7CF0F0387CF0F8787CF0
F8787CF078707CF07CF07CF07CF07CF03CE07CF03CE07CF01FC07CF01FC07CF01FC07CF00F807C
7007007C1E1A7D9925>77 D<00FF800003FFE0000FFFF8001FC1FC003F007E003E003E007E003F
007C001F00FC001F80FC001F80FC001F80FC001F80FC001F80FC001F80FC001F80FC001F80FC00
1F80FC001F807E003F007E003F007F007F003F007E001FC1FC000FFFF80007FFF00000FF800019
1A7E991E>79 D<7FFE00FFFF80FFFFC0FC0FE0FC03E0FC03F0FC03F0FC03F0FC03F0FC03F0FC03
F0FC03E0FC0FE0FFFFC0FFFF80FFFE00FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC00
00FC00007C0000141A7D991A>I<7FFE00FFFF80FFFFC0FC07E0FC03F0FC03F0FC03F0FC03F0FC
03F0FC03F0FC07E0FFFFC0FFFF80FFFE00FC7E00FC3F00FC3F00FC1F80FC1F80FC0FC0FC0FC0FC
07E0FC07E0FC03F0FC03F07C01F0141A7D991A>82 D<07F8001FFE003FFF007FFF007C0F00F802
00F80000F80000FC0000FF80007FF8007FFC003FFF000FFF0007FF80007FC0000FC00007C00007
C04007C0F007C0FC0F80FFFF807FFF001FFE0007F800121A7E9917>I<7FFFFFFFFFFFFFFFFFFF
FFFF007E00007E00007E00007E00007E00007E00007E00007E00007E00007E00007E00007E0000
7E00007E00007E00007E00007E00007E00007E00007E00007E00003E00181A7F991B>I<7C007C
FC007CFC007CFC007CFC007CFC007CFC007CFC007CFC007CFC007CFC007CFC007CFC007CFC007C
FC007CFC007CFC007CFC007CFC007CFC007C7C00787E00F83F01F01FFFE00FFFC001FF00161A7D
991D>I<F000F80070F801FC00F0F801FC00F07C01FC00E07C03FE01E07C03BE01E07C039E01E0
3E039E03C03E079F03C03E079F03C03E070F03C01F0F0F07801F0F0F87801F0F0F87800F0E0787
000F8E078F000F9E07CF000F9C07CF00079C03CE00079C03CE0007DC03DE0007F803FE0003F801
FC0003F801FC0003F801FC0001F000F800241A7F9927>87 D<0FF03FFC3FFE381F201F001F00FF
0FFF3F1F7C1FF81FF81FF81FFC7F7FFF3FDF1F1F10117F9014>97 D<780000F80000F80000F800
00F80000F80000F80000F80000F80000F8F800FBFE00FFFE00FC1F00F81F80F80F80F80F80F80F
80F80F80F80F80F80F80F80F80F81F00FC3F00FFFE00FBFC0079F000111A7E9915>I<07F81FFE
3FFE7C0E7C00F800F800F800F800F800F800F8007C027C0E3FFE1FFE07F80F117F9012>I<000F
80000F80000F80000F80000F80000F80000F80000F80000F800FCF801FFF803FFF807E1F807C0F
80F80F80F80F80F80F80F80F80F80F80F80F80F80F807C0F807C1F803FFF801FEF800FCF80111A
7F9915>I<07F01FFC3FFE7C1E780FF80FF80FFFFFFFFFF800F800F80078007C033FFF1FFF03FC
10117F9013>I<01FC07FC0FFC1F041F001F001F001F001F007FE0FFE0FFE01F001F001F001F00
1F001F001F001F001F001F001F001F001F000F000E1A80990D>I<0FE1C03FFFC07FFDC07C7C00
F83E00F83E00F83E00F83E00F83E007C7C007FFC003FF8006FE0006000007FFC007FFF003FFF80
7FFFC0F007C0F003C0F003C0F807C07FFF803FFF000FFC0012197F9015>I<7800F800F800F800
F800F800F800F800F800F8FCF9FEFBFFFE1FFC1FF81FF81FF81FF81FF81FF81FF81FF81FF81FF8
1FF81F781F101A7E9915>I<7CFCFCFCFCFC000000003C7C7C7C7C7C7C7C7C7C7C7C7C7C7C7C3C
061B7F9A0A>I<7000F000F000F000F000F000F000F000F000F07CF0F8F1F8F3F0F7E0FFC0FF80
FF80FF80FFC0FBE0F1E0F1F0F0F8F07CF03C703C0E1A7D9914>107 D<78F8F8F8F8F8F8F8F8F8
F8F8F8F8F8F8F8F8F8F8F8F8F8F8F878051A7E990A>I<78FC1F80F9FE3FC0FBFF7FE0FE1FC3E0
FC1F83E0F81F03E0F81F03E0F81F03E0F81F03E0F81F03E0F81F03E0F81F03E0F81F03E0F81F03
E0F81F03E0F81F03E0780F01E01B117E9020>I<78FCF9FEFBFFFE1FFC1FF81FF81FF81FF81FF8
1FF81FF81FF81FF81FF81FF81F781F10117E9015>I<07F8001FFE003FFF007E1F807C0F80F807
C0F807C0F807C0F807C0F807C0F807C0F807C07C0F807E1F803FFF001FFE0007F80012117F9015
>I<78F800FBFE00FFFE00FC3F00F81F80F80F80F80F80F80F80F80F80F80F80F80F80F80F80F8
1F00FC3F00FFFE00FBFC00F9F000F80000F80000F80000F80000F80000F8000078000011187E90
15>I<78C0FBC0FFC0FFC0FE00FC00F800F800F800F800F800F800F800F800F800F80078000A11
7E900E>114 D<1FC03FF07FF0F070F000F000FF007FE03FF01FF003F80078C078F078FFF07FE0
1FC00D117F9010>I<1E003E003E003E003E007FE0FFE0FFE03E003E003E003E003E003E003E00
3E003E003E003E203FF01FF00FC00C167F950F>I<781FF81FF81FF81FF81FF81FF81FF81FF81F
F81FF81FF81FF81FF87FFFFF7F9F3F1F10117E9015>I<E007F00FF00F781E781E781E3C3C3C3C
3C3C1E781E781E780FF00FF00FF007E007E010117F9013>I<E03E0380F07F0780F07F0780F07F
078078F70F0078E78F0078E78F0078E78F003CE39E003DC3DE003DC3DE003DC3DE001FC1DC001F
C1FC001F81FC001F81FC000F00F80019117F901C>I<F00EF81E7C3C3E781EF80FF007E007C003
C007E00FF01E701E783C3C781EF81FF00F10117F9013>I<F007F80F780F781E3C1E3C1E3E3C1E
3C1E3C0F380F78077007F003F003E001E001E001C001C003C08780FF80FF00FC0010187F9013>
I<FFFFF0FFFFF0FFFFF01403808B15>123 D E /Fi 20 122 df<7FFFC0FFFFE0FFFFE07FFFC0
13047E8F18>45 D<3078FCFC78300606778518>I<007C0001FE0007FF000F87801E03C03C1DC0
387FC070FFE071E3E071C1E0E1C1E0E380E0E380E0E380E0E380E0E380E0E380E0E1C1C071C1C0
71E3C070FF80387F003C1C001E00E00F83E007FFC001FF80007E00131C7E9B18>64
D<0FF0001FFC003FFE003C0F0018070000038000038000FF8007FF801FFF807F0380780380E003
80E00380E00380F00780780F803FFFF81FFDF807F0F815147E9318>97 D<01FE0007FF001FFF80
3E0780380300700000700000E00000E00000E00000E00000E00000E000007000007001C03801C0
3E03C01FFF8007FF0001FC0012147D9318>99 D<001F80003F80001F8000038000038000038000
038000038003E3800FFB801FFF803C1F80380F80700780700380E00380E00380E00380E00380E0
0380E00380700780700780380F803C1F801FFFF00FFBF803E3F0151C7E9B18>I<01F00007FC00
1FFE003E0F00380780700380700380E001C0E001C0FFFFC0FFFFC0FFFFC0E000007000007001C0
3801C03E07C01FFF8007FF0001F80012147D9318>I<7E0000FE00007E00000E00000E00000E00
000E00000E00000E3E000EFF800FFFC00FC1C00F80E00F00E00E00E00E00E00E00E00E00E00E00
E00E00E00E00E00E00E00E00E00E00E00E00E07FC7FCFFE7FE7FC7FC171C809B18>104
D<0038007C007C007C003800000000000000000FFC0FFC0FFC001C001C001C001C001C001C001C
001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C6038F078FFF07FE03F
800E277E9C18>106 D<7E0000FE00007E00000E00000E00000E00000E00000E00000E3FF00E3F
F00E3FF00E07800E0F000E1E000E3C000E78000EF0000FF8000FFC000F9C000F0E000E0F000E07
000E03800E03C07FC7F8FFC7F87FC7F8151C7F9B18>I<FFC000FFC000FFC00001C00001C00001
C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C00001C00001C000FFFF80FFFF80FFFF80111C7D9B18>I<F9C1C0
FFF7F0FFFFF03E3E383C3C383C3C38383838383838383838383838383838383838383838383838
383838383838383838FE3E3EFE7E7EFE3E3E1714809318>I<7E3E00FEFF807FFFC00FC1C00F80
E00F00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E07FC7
FCFFE7FE7FC7FC1714809318>I<01F0000FFE001FFF003E0F803803807001C07001C0E000E0E0
00E0E000E0E000E0E000E0F001E07001C07803C03C07803E0F801FFF000FFE0001F00013147E93
18>I<7E3E00FEFF807FFFC00FC1E00F80E00F00700E00700E00380E00380E00380E00380E0038
0E00380F00700F00700F80E00FC1E00FFFC00EFF800E3E000E00000E00000E00000E00000E0000
0E00000E00007FC000FFE0007FC000151E809318>I<FF0FC0FF3FE0FF7FF007F0F007E06007C0
00078000078000070000070000070000070000070000070000070000070000070000FFFC00FFFE
00FFFC0014147E9318>114 D<07F7003FFF007FFF00780F00E00700E00700E007007C00007FE0
001FFC0003FE00001F00600780E00380E00380F00380F80F00FFFF00FFFC00E7F00011147D9318
>I<0180000380000380000380000380007FFFC0FFFFC0FFFFC003800003800003800003800003
80000380000380000380000380000380400380E00380E00380E001C1C001FFC000FF80003E0013
197F9818>I<7E07E0FE0FE07E07E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E0
0E00E00E00E00E00E00E00E00E01E00F03E007FFFC03FFFE01FCFC1714809318>I<7F8FF0FF8F
F87F8FF00E01C00E03800E0380070380070700070700038700038700038E0001CE0001CE0001CC
0000CC0000DC0000780000780000780000700000700000700000F00000E00079E0007BC0007F80
003F00001E0000151E7F9318>121 D E /Fj 46 122 df<70F0F8F87808080810101020204005
0E7C840D>44 D<FFF0FFF00C02808A0F>I<70F8F8F87005057C840D>I<03F0000E1C001C0E0018
0600380700700380700380700380700380F003C0F003C0F003C0F003C0F003C0F003C0F003C0F0
03C0F003C0F003C0F003C0F003C0F003C07003807003807003807807803807001806001C0E000E
1C0003F000121F7E9D17>48 D<008003800F80F380038003800380038003800380038003800380
03800380038003800380038003800380038003800380038003800380038007C0FFFE0F1E7C9D17
>I<03F0000C1C00100E00200700400780800780F007C0F803C0F803C0F803C02007C00007C000
0780000780000F00000E00001C0000380000700000600000C0000180000300000600400C004018
00401000803FFF807FFF80FFFF80121E7E9D17>I<1803001FFE001FFC001FF8001FE000100000
10000010000010000010000010000011F000161C00180E001007001007800003800003800003C0
0003C00003C07003C0F003C0F003C0E00380400380400700200600100C0008380007E000121F7E
9D17>53 D<007C000182000701000E03800C0780180780380300380000780000700000700000F1
F000F21C00F40600F80700F80380F80380F003C0F003C0F003C0F003C0F003C07003C07003C070
03803803803807001807000C0E00061C0001F000121F7E9D17>I<03F0000C0C00100600300300
2001806001806001806001807001807803003E03003F06001FC8000FF00003F80007FC000C7E00
103F00300F806007806001C0C001C0C000C0C000C0C000C0C000806001802001001002000C0C00
03F000121F7E9D17>56 D<70F8F8F8700000000000000000000070F8F8F87005147C930D>58
D<000100000003800000038000000380000007C0000007C0000007C0000009E0000009E0000009
E0000010F0000010F0000010F00000207800002078000020780000403C0000403C0000C03E0000
801E0000801E0001FFFF0001000F0001000F00020007800200078002000780040003C0040003C0
0C0003C01E0003E0FF801FFE1F207F9F22>65 D<FFFFE0000F0078000F001E000F001E000F000F
000F000F800F000F800F000F800F000F800F000F800F000F000F001F000F001E000F007C000FFF
F0000F007C000F001F000F000F800F0007C00F0003C00F0003E00F0003E00F0003E00F0003E00F
0003E00F0003C00F0007C00F0007800F000F000F003E00FFFFF0001B1F7E9E20>I<000FE01000
381C3000E0027003C00170078000F00F0000701E0000701E0000303C0000303C0000107C000010
78000010F8000000F8000000F8000000F8000000F8000000F8000000F8000000F8000000F80000
00780000007C0000103C0000103C0000101E0000201E0000200F0000200780004003C0008000E0
030000380C00000FF0001C217E9F21>I<FFFFF80007801E0007800780078003C0078001E00780
00F00780007007800078078000780780003C0780003C0780003C0780003E0780003E0780003E07
80003E0780003E0780003E0780003E0780003E0780003C0780003C0780007C0780007807800078
078000F0078001E0078003C00780078007801E00FFFFF8001F1F7F9E23>I<FFFFFF800F000F80
0F0003800F0001800F0000800F0000C00F0000400F0000400F0000400F0040400F0040000F0040
000F00C0000F01C0000FFFC0000F01C0000F00C0000F0040000F0040000F0040000F0000200F00
00200F0000200F0000400F0000400F0000400F0000C00F0001C00F0003800F000F80FFFFFF801B
1F7E9E1F>I<FFF07FF80F0007800F0007800F0007800F0007800F0007800F0007800F0007800F
0007800F0007800F0007800F0007800F0007800F0007800FFFFF800F0007800F0007800F000780
0F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007
800F0007800F000780FFF07FF81D1F7E9E22>72 D<07FFC0003E00001E00001E00001E00001E00
001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00
001E00001E00001E00001E00201E00F81E00F81E00F81E00F01C00403C006038001070000FC000
12207F9E17>74 D<FF800007FE07800007C007800007C005C0000BC005C0000BC004E00013C004
E00013C004E00013C004700023C004700023C004380043C004380043C004380043C0041C0083C0
041C0083C0040E0103C0040E0103C0040E0103C004070203C004070203C004070203C004038403
C004038403C00401C803C00401C803C00401C803C00400F003C00400F003C004006003C01F0060
03C0FFE0607FFE271F7F9E2A>77 D<FF000FF80F8003E00F8000800BC0008009E0008009E00080
08F000800878008008780080083C0080081E0080081E0080080F008008078080080780800803C0
800801E0800801E0800800F080080078800800788008003C8008001E8008001E8008000F800800
07800800078008000380080001803E000180FF8000801D1F7E9E22>I<001FE0000070380001C0
0E0003800700070003800F0003C01E0001E03C0000F03C0000F07C0000F87C0000F878000078F8
00007CF800007CF800007CF800007CF800007CF800007CF800007CF800007CF800007C78000078
7C0000F87C0000F83C0000F03E0001F01E0001E00F0003C0070003800380070001E01E00007038
00001FE0001E217E9F23>I<FFFFE0000F007C000F001E000F000F000F0007800F0007800F0007
C00F0007C00F0007C00F0007C00F0007800F0007800F000F000F001E000F007C000FFFE0000F00
00000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F
0000000F0000000F0000000F000000FFF000001A1F7E9E1F>I<03F0400C0CC01803C03001C060
00C06000C0E000C0E00040E00040E00040F00000F800007C00007F80003FF8001FFF0007FF8000
FFC0001FE00003E00001E00000F0000070800070800070800070800070C00060C000E0E000C0F8
0180C6030081FC0014217E9F19>83 D<7FFFFFE0780F01E0600F0060400F0020400F0020C00F00
30800F0010800F0010800F0010800F0010000F0000000F0000000F0000000F0000000F0000000F
0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F000000
0F0000000F0000000F0000000F0000001F800003FFFC001C1F7E9E21>I<FFF00FF80F0003E00F
0000800F0000800F0000800F0000800F0000800F0000800F0000800F0000800F0000800F000080
0F0000800F0000800F0000800F0000800F0000800F0000800F0000800F0000800F0000800F0000
800F0000800F0000800700010007800100038001000380020001C0040000E0080000383000000F
C0001D207E9E22>I<FFF001FF1F8000780F8000600780006007C0004003C0008003E0008001F0
010000F0010000F80200007C0600003C0400003E0800001E0800001F1000000FB0000007A00000
07E0000003C0000003C0000003C0000003C0000003C0000003C0000003C0000003C0000003C000
0003C0000003C0000003C000003FFC00201F7F9E22>89 D<1FE000303000781800781C00300E00
000E00000E00000E0000FE00078E001E0E00380E00780E00F00E10F00E10F00E10F01E10781E10
3867200F83C014147E9317>97 D<01FC000706001C0F00380F00380600780000700000F00000F0
0000F00000F00000F00000F000007000007800003800803800801C010007060001F80011147F93
14>99 D<0001C0000FC00001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C001F1C0070DC00C03C01801C03801C07801C07001C0F001C0F001C0F001C0F001C0F001C0F001
C07001C07001C03801C01803C00C03C0070DC001F1F815207F9F19>I<03F0000E1C001C0E0038
0700380700700700700380F00380F00380FFFF80F00000F00000F0000070000070000038008038
00801C010007060001F80011147F9314>I<007C01C6030F070F0E060E000E000E000E000E000E
000E00FFF00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E00
0E007FE01020809F0E>I<1C0000FC00001C00001C00001C00001C00001C00001C00001C00001C
00001C00001C00001C7C001C86001D03001E03801E03801C03801C03801C03801C03801C03801C
03801C03801C03801C03801C03801C03801C03801C03801C0380FF8FF014207E9F19>104
D<38007C007C007C0038000000000000000000000000001C00FC001C001C001C001C001C001C00
1C001C001C001C001C001C001C001C001C001C001C00FF80091F7F9E0C>I<1C0000FC00001C00
001C00001C00001C00001C00001C00001C00001C00001C00001C00001C1FE01C07801C06001C04
001C08001C10001C20001C60001CE0001DF0001E70001C38001C3C001C1C001C0E001C0F001C07
001C07801C07C0FF9FF014207E9F18>107 D<1C00FC001C001C001C001C001C001C001C001C00
1C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C
001C00FF8009207F9F0C>I<1C3E03E000FCC30C30001D039038001E01E01C001E01E01C001C01
C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C
01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C00FF8FF8FF8021147E9326
>I<1C7C00FC86001D03001E03801E03801C03801C03801C03801C03801C03801C03801C03801C
03801C03801C03801C03801C03801C03801C0380FF8FF014147E9319>I<01F800070E001C0380
3801C03801C07000E07000E0F000F0F000F0F000F0F000F0F000F0F000F07000E07000E03801C0
3801C01C0380070E0001F80014147F9317>I<1C7C00FD87001E01801E01C01C00E01C00F01C00
701C00781C00781C00781C00781C00781C00781C00701C00F01C00E01E01C01E03801D87001C7C
001C00001C00001C00001C00001C00001C00001C00001C0000FF8000151D7E9319>I<1CF0FD18
1E3C1E3C1E181C001C001C001C001C001C001C001C001C001C001C001C001C001C00FFC00E147E
9312>114 D<0FC830386018C008C008C008E0007C003FE01FF007F8003C800E8006C006C006C0
04E00CD81887E00F147F9312>I<020002000200060006000E000E003E00FFF80E000E000E000E
000E000E000E000E000E000E000E000E040E040E040E040E040708030801F00E1C7F9B12>I<1C
0380FC1F801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C
03801C03801C03801C07800C0780061B8003E3F014147E9319>I<FF83F83E00E01C00C00E0080
0E00800E008007010007010007830003820003820001C40001C40001E40000E80000E800007000
00700000700000200015147F9318>I<FF9FE1FC3C0780701C0300601C0380200E0380400E0380
400E03C0400704C0800704E0800704E08003886100038871000388710001D0320001D03A0001D0
3E0000E01C0000E01C0000601800004008001E147F9321>I<FF87F81E03C00E01800E03000702
0003840001C80001D80000F00000700000780000F800009C00010E00020E000607000403800C03
C03C03E0FE07FC16147F9318>I<FF83F83E00E01C00C00E00800E00800E008007010007010007
830003820003820001C40001C40001E40000E80000E80000700000700000700000200000200000
4000004000004000F08000F08000F100006200003C0000151D7F9318>I
E /Fk 14 122 df<0000FF00100007FFE030001FC07830003E000C7000F80006F001F00003F003
E00001F007C00000F00F800000700F800000701F000000303F000000303E000000303E00000010
7E000000107E000000107C00000000FC00000000FC00000000FC00000000FC00000000FC000000
00FC00000000FC00000000FC00000000FC000000007C000000007E000000007E000000103E0000
00103E000000103F000000101F000000200F800000200F8000006007C000004003E000008001F0
00018000F8000300003E000E00001FC038000007FFE0000000FF8000242B7DA92B>67
D<FFFF80FFFF8007F00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E0
0003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E0
0003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00007F0
00FFFF80FFFF8011297EA816>73 D<7FFFFFFFF87FFFFFFFF87C007C00F870007C003860007C00
1840007C000840007C0008C0007C000CC0007C000C80007C000480007C000480007C000480007C
000480007C000400007C000000007C000000007C000000007C000000007C000000007C00000000
7C000000007C000000007C000000007C000000007C000000007C000000007C000000007C000000
007C000000007C000000007C000000007C000000007C000000007C000000007C000000007C0000
00007C000000007C00000000FE0000007FFFFC00007FFFFC0026297EA82B>84
D<01FC00000E0780001001C0003C00E0003E00F0003E0078001C00780008007800000078000000
780000007800007FF80003E078000F8078001F0078003E0078007C00780078007820F8007820F8
007820F8007820F800F8207C00F8203C013C401F063FC007F80F001B1A7E991E>97
D<007E0003C3800700E00E00F01C00703C00783C003878003C78003CF8003CF8003CFFFFFCF800
00F80000F80000F80000F800007800007C00003C00043C00041E00080E001007002001C0C0007F
00161A7E991B>101 D<0000078000FC18400787A1C00E01C1C01E01E0803C00F0003C00F0007C
00F8007C00F8007C00F8007C00F8007C00F8003C00F0003C00F0001E01E0000E01C0001F878000
10FC0000100000003000000030000000380000001C0000001FFFC0000FFFF80007FFFC001C003E
0030000F007000070060000380E0000380E0000380E0000380E000038070000700700007003800
0E000C0018000780F00000FF80001A287E9A1E>103 D<1E003F003F003F003F001E0000000000
00000000000000000000000000000F00FF00FF001F000F000F000F000F000F000F000F000F000F
000F000F000F000F000F000F000F000F000F000F000F00FFF0FFF00C297EA811>105
D<0F00FF00FF001F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F00
0F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F
000F00FFF0FFF00C2A7EA911>108 D<0781F800FC00FF860E030700FF98070C03800FA0079003
C007A003D001E007C003E001E007C003E001E0078003C001E0078003C001E0078003C001E00780
03C001E0078003C001E0078003C001E0078003C001E0078003C001E0078003C001E0078003C001
E0078003C001E0078003C001E0078003C001E0078003C001E0078003C001E0078003C001E00780
03C001E0FFFC7FFE3FFFFFFC7FFE3FFF301A7F9933>I<0F07F000FF183800FF201C001F400E00
0F400F000F800F000F800F000F000F000F000F000F000F000F000F000F000F000F000F000F000F
000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F00
0F00FFF0FFF0FFF0FFF01C1A7E9921>I<0F07E000FF183800FF601E000F800F000F8007800F00
07C00F0003C00F0003E00F0003E00F0001F00F0001F00F0001F00F0001F00F0001F00F0001F00F
0001F00F0001E00F0003E00F0003E00F0003C00F0007800F8007800F800F000F401C000F307800
0F0FC0000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000
000F000000FFF00000FFF000001C267E9921>112 D<07F8401C06C03001C06000C06000C0E000
40E00040F00040F800007E00007FF0003FFE000FFF0003FF80003FC00007C08001E08001E0C000
E0C000E0C000E0E000C0F001C0F80180C4070083F800131A7E9918>115
D<0080000080000080000080000180000180000180000380000380000780000F80001FFF80FFFF
800780000780000780000780000780000780000780000780000780000780000780000780000780
0007804007804007804007804007804007804007804003C08001C08000E100003E0012257FA417
>I<FFF00FF8FFF00FF80F8003C0078001800780010003C0020003C0020003C0020001E0040001
E0040000F0080000F0080000F808000078100000781000003C2000003C2000003E6000001E4000
001E4000000F8000000F8000000700000007000000070000000200000002000000040000000400
00000400000008000070080000F8100000F8100000F8200000F0400000608000001F0000001D26
7F9920>121 D E end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300dpi
TeXDict begin

%%EndSetup
%%Page: 1 1
1 0 bop 610 42 a Fk(Impleme)o(n)n(ting)18 b(T)n(yp)r(e)h(Classes)661
157 y Fj(John)d(P)o(eterson)f(and)g(Mark)g(Jones)468 213 y(Departmen)o(t)f
(of)h(Computer)g(Science,)h(Y)l(ale)g(Univ)o(ersit)o(y)l(,)339
269 y(P)l(.O.)f(Bo)o(x)g(2158)f(Y)l(ale)i(Station,)e(New)i(Ha)o(v)o(en,)e(CT)
h(06520-2158,)d(USA.)222 326 y(Electronic)17 b(mail:)j Fi
(peterson-john@cs.yale.edu)m Fj(,)15 b Fi(jones-mark@cs.yale.edu)m
Fj(.)-76 638 y Fh(Abstract)-76 727 y Fg(W)m(e)i(describ)q(e)h(the)f(implemen)
o(tation)j(of)c(a)h(t)o(yp)q(e)g(c)o(hec)o(k)o(er)g(for)f(the)-76
769 y(functional)e(programming)g(language)f(Hask)o(ell)g(that)f(supp)q(orts)h
(the)-76 810 y(use)h(of)f Ff(typ)n(e)i(classes)q Fg(.)i(This)d(extends)g(the)
g(t)o(yp)q(e)f(system)h(of)f(ML)g(to)-76 852 y(supp)q(ort)d(o)o(v)o
(erloading)i(\(ad-ho)q(c)e(p)q(olymorphism\))h(and)f(can)f(b)q(e)h(used)-76
893 y(to)16 b(implemen)o(t)j(features)d(suc)o(h)h(as)g(equalit)o(y)h(t)o(yp)q
(es)f(and)g(n)o(umeric)-76 935 y(o)o(v)o(erloading)f(in)e(a)f(simple)h(and)g
(general)g(w)o(a)o(y)m(.)-76 987 y(The)f(theory)g(of)f(t)o(yp)q(e)h(classes)g
(is)g(w)o(ell)h(understo)q(o)q(d,)g(but)e(the)h(prac-)-76 1028
y(tical)i(issues)h(in)o(v)o(olv)o(ed)g(in)f(the)f(implemen)o(tation)j(of)d
(suc)o(h)h(systems)-76 1070 y(ha)o(v)o(e)20 b(not)g(receiv)o(ed)g(a)g(great)f
(deal)i(of)e(atten)o(tion.)37 b(In)20 b(addition)-76 1111 y(to)13
b(the)h(basic)g(t)o(yp)q(e)g(c)o(hec)o(king)h(algorithm,)g(an)e(implemen)o
(tation)j(of)-76 1153 y(t)o(yp)q(e)c(classes)g(also)h(requires)f(some)g(form)
f(of)g(program)h(transforma-)-76 1194 y(tion.)30 b(In)18 b(all)g(curren)o(t)g
(Hask)o(ell)h(compilers)g(this)f(tak)o(es)f(the)g(form)-76
1236 y(of)e(dictionary)i(con)o(v)o(ersion,)g(using)g(functions)f(as)f(hidden)
i(param-)-76 1277 y(eters)e(to)h(o)o(v)o(erloaded)h(v)n(alues.)25
b(W)m(e)15 b(presen)o(t)h(e\016cien)o(t)g(tec)o(hniques)-76
1319 y(for)f(t)o(yp)q(e)h(c)o(hec)o(king)i(and)e(dictionary)i(con)o(v)o
(ersion.)26 b(A)15 b(n)o(um)o(b)q(er)h(of)-76 1360 y(optimizations)g(and)d
(extensions)i(to)d(the)h(basic)h(t)o(yp)q(e)f(class)h(system)-76
1402 y(are)f(also)h(describ)q(ed.)-76 1510 y Fh(1)41 b(Intro)q(duction)-76
1599 y Fg(In)36 b(the)g(study)g(of)g(programming)h(languages,)44
b(the)35 b(term)-76 1641 y Ff(overlo)n(ading)11 b Fg(is)h(used)g(to)f
(describ)q(e)i(the)f(abilit)o(y)h(of)e(a)h(single)h(sym)o(b)q(ol)-76
1682 y(to)i(ha)o(v)o(e)g(di\013eren)o(t)h(in)o(terpretations)h(as)d
(determined)j(b)o(y)d(the)h(con-)-76 1724 y(text)e(in)g(whic)o(h)g(it)g(app)q
(ears.)18 b(Standard)c(examples)g(of)f(this)g(include)-76 1765
y(the)f(use)g(of)g Fe(+)f Fg(to)h(represen)o(t)g(b)q(oth)h(addition)h(of)e
(in)o(tegers)h(and)f(addi-)-76 1807 y(tion)h(of)e(\015oating)i(p)q(oin)o(t)g
(quan)o(tities,)g(or)f(the)g(use)f(of)h Fe(==)e Fg(to)i(compare)-76
1848 y(b)q(oth)18 b(c)o(haracter)g(v)n(alues)h(and)f(p)q(oin)o(ters.)32
b(In)17 b(eac)o(h)h(case,)g(the)g(in-)-76 1890 y(tended)11
b(meaning)g(of)f(the)f(o)o(v)o(erloaded)j(sym)o(b)q(ol)f(can)g(b)q(e)f
(determined)-76 1931 y(from)j(the)g(t)o(yp)q(es)h(of)e(the)h(argumen)o(ts)h
(to)f(whic)o(h)h(it)g(is)f(applied.)-76 1983 y(One)g(common)h(approac)o(h)g
(is)g(to)f(completely)i(resolv)o(e)f(o)o(v)o(erloading)-76
2025 y(at)h(compile)i(time.)23 b(The)14 b(compiler)j(installs)g(t)o(yp)q(e)f
(sp)q(eci\014c)g(mean-)-76 2066 y(ings)k(for)f(all)i(o)o(v)o(erloaded)g(sym)o
(b)q(ols,)h(based)e(either)g(on)f(t)o(yp)q(e)h(in-)-76 2108
y(formation)g(attac)o(hed)f(to)g(op)q(erands)h(\(the)f(usual)h(case\))e(or)h
(some)-76 2149 y(more)e(general)h(o)o(v)o(erloading)i(resolution)f(mec)o
(hanism.)30 b(A)17 b(signif-)-76 2191 y(ican)o(t)g(dra)o(wbac)o(k)g(to)f
(this)h(approac)o(h)g(is)g(that)f(o)o(v)o(erloaded)i(op)q(era-)-76
2232 y(tions)d(cannot)f(b)q(e)g(abstracted)g(while)h(retaining)h(their)e(o)o
(v)o(erloaded)-76 2274 y(nature.)-76 2326 y(A)i(more)h(dynamic)i(approac)o(h)
f(to)e(o)o(v)o(erloading)k(whic)o(h)d(preserv)o(es)-76 2367
y(the)c(abilit)o(y)h(to)e(abstract)h(o)o(v)o(erloaded)h(de\014nitions)h(is)e
(found)g(in)g(ob-)1020 638 y(ject)d(orien)o(ted)i(languages.)18
b(Here,)10 b(resolution)j(of)d(o)o(v)o(erloaded)j(op)q(er-)1020
680 y(ations)d(o)q(ccurs)g(at)f(run)h(time.)16 b(There)9 b(are)h(t)o(w)o(o)e
(particular)k(problems)1020 721 y(to)h(b)q(e)g(dealt)h(with:)1076
799 y Fd(\017)k Fg(Ho)o(w)12 b(do)g(w)o(e)g(determine)h(whic)o(h)g(in)o
(terpretation)i(of)d(an)g(o)o(v)o(er-)1113 840 y(loaded)17
b(op)q(erator)f(should)h(b)q(e)e(used)h(in)g(an)o(y)f(particular)j(sit-)1113
882 y(uation?)28 b(There)15 b(are)h(man)o(y)h(examples)g(for)e(whic)o(h)i
(the)f(ap-)1113 923 y(propriate)11 b(o)o(v)o(erloading)i(cannot)d(b)q(e)g
(determined)h(at)e(compile)1113 965 y(time.)24 b(F)m(or)16
b(example,)g(in)g(a)g(program)g(that)f(uses)h(the)f(func-)1113
1006 y(tion)20 b Ff(double)25 b Fg(=)f Fc(\025)-6 b Ff(x)5
b Fc(:)p Ff(x)12 b Fg(+)c Ff(x)23 b Fg(to)c(double)h(b)q(oth)g(in)o(teger)f
(and)1113 1048 y(\015oating)c(p)q(oin)o(t)g(v)n(alues,)f(there)g(is)g(no)f(w)
o(a)o(y)h(to)f(\014x)g(an)o(y)h(single)1113 1089 y(in)o(terpretation)i(for)d
(the)g(+)f(sym)o(b)q(ol.)1076 1158 y Fd(\017)18 b Fg(Ho)o(w)11
b(do)g(w)o(e)f(ensure)i(that)f(o)o(v)o(erloaded)i(v)n(alues)f(are)f(only)h
(ev)o(er)1113 1200 y(used)21 b(with)f(appropriate)i(argumen)o(ts?)39
b(F)m(or)19 b(example,)k(it)1113 1241 y(w)o(ould)12 b(probably)g(not)f(mak)o
(e)g(sense)g(to)f(try)h(to)f(add)h(t)o(w)o(o)f(c)o(har-)1113
1283 y(acter)i(v)n(alues.)18 b(As)11 b(a)g(result,)i(w)o(e)e(m)o(ust)h(also)g
(ensure)g(that)g(the)1113 1324 y Ff(double)i Fg(function)g(is)g(nev)o(er)f
(applied)j(to)d(a)g(c)o(haracter)g(v)n(alue.)1020 1402 y(Standard)i(ML)e
(uses)g(t)o(w)o(o)g(di\013eren)o(t)h(approac)o(hes)h(to)e(o)o(v)o(erloading:)
1076 1479 y Fd(\017)18 b Fg(The)10 b(t)o(yp)q(e)g(of)f(eac)o(h)h(arithmetic)i
(op)q(erator)e(suc)o(h)g(as)g Fe(+)f Fg(m)o(ust)h(b)q(e)1113
1521 y(uniquely)17 b(determined)f(from)e(its)h(con)o(text,)g(p)q(ossibly)i(b)
o(y)e(in-)1113 1562 y(serting)d(an)f(explicit)i(t)o(yp)q(e)e(declaration.)19
b(This)11 b(compile)i(time)1113 1604 y(resolution)18 b(of)d(o)o(v)o(erloaded)
j(op)q(erators)e(is)g(not)g(able)h(to)e(pre-)1113 1645 y(serv)o(e)g(the)f
(full)i(o)o(v)o(erloading)h(of)c Fe(+)h Fg(in)h(the)f(double)i(function;)1113
1687 y(one)e(sp)q(eci\014c)g(implemen)o(tation)j(of)12 b Fe(+)h
Fg(m)o(ust)g(b)q(e)g(c)o(hosen.)1076 1756 y Fd(\017)18 b Fg(Standard)d(ML)e
(in)o(tro)q(duces)i(a)f(notion)g(of)f(equalit)o(y)i(t)o(yp)q(es)f(to)1113
1798 y(deal)i(with)f(the)f(t)o(yping)i(of)e(the)g(equalit)o(y)i(function.)23
b(This)15 b(is)1113 1839 y(undesirabl)q(e)20 b(b)q(ecause)e(it)g(forces)g
(the)g(programmer)g(to)f(ac-)1113 1881 y(cept)12 b(a)f(particular)i
Ff(structur)n(al)f Fg(de\014nition)i(of)d(equalit)o(y)i({)e(one)1113
1922 y(whic)o(h)16 b(tests)f(for)f(equalit)o(y)j(of)d(represen)o(tation)j
(rather)e(than)1113 1964 y(equalit)o(y)k(of)d(represen)o(ted)i(v)n(alue.)28
b(In)16 b(addition,)j(App)q(el)f([1])1113 2005 y(rep)q(orts)d(that)f
(\\Equalit)o(y)i(t)o(yp)q(es)e(add)h(signi\014can)o(t)h(complex-)1113
2047 y(it)o(y)e(to)f(the)g(language)i(and)f(its)f(implemen)o(tation)q(".)1020
2124 y(An)d(alternativ)o(e)i(approac)o(h)f(to)f(the)h(treatmen)o(t)f(of)f(o)o
(v)o(erloading)k(w)o(as)1020 2166 y(in)o(tro)q(duced)i(b)o(y)d(W)m(adler)i
(and)f(Blott)h([11])e(based)h(on)g(the)f(notion)i(of)1020 2207
y(a)g Ff(typ)n(e)h(class)h Fg(and)f(is)g(in)o(tended)h(to)e(pro)o(vide)i(a)e
(uniform)h(and)g(gen-)1020 2249 y(eral)g(framew)o(ork)e(for)h(solving)i
(exactly)f(these)f(kinds)h(of)f(problems.)1020 2290 y(T)o(yp)q(e)c(classes)h
(are)e(most)h(widely)h(kno)o(wn)f(for)g(their)g(use)g(in)g(the)g(func-)1020
2332 y(tional)h(programming)g(language)g(Hask)o(ell)f([6])e(where)h(they)g
(are)g(used)1020 2373 y(mostly)15 b(to)g(deal)g(with)g(standard)h(primitiv)o
(e)g(functions)g(suc)o(h)f(as)g Fe(+)1020 2415 y Fg(and)10
b Fe(==)p Fg(.)15 b(In)10 b(addition,)i(w)o(e)d(ha)o(v)o(e)h(also)h(found)f
(that)g(t)o(yp)q(e)g(classes)h(can)1020 2456 y(b)q(e)j(useful)h(in)g(more)f
(sp)q(eci\014c)h(application)i(areas)e(where)e(they)i(can)1020
2498 y(help)e(to)e(pro)q(duce)i(clear)g(and)f(mo)q(dular)h(programs)g([7].)j
(W)m(e)11 b(should)1020 2539 y(also)17 b(men)o(tion)h(that)f(there)g(do)q(es)
g(not)f(app)q(ear)i(to)e(b)q(e)h(an)o(y)g(signif-)1020 2581
y(ican)o(t)f(reason)h(wh)o(y)e(the)h(use)f(of)h(t)o(yp)q(e)f(classes)i
(should)g(b)q(e)f(limited)1020 2622 y(to)d(non-strict,)h(purely)h(functional)
g(languages:)20 b(in)14 b(principle,)i(an)o(y)p eop
%%Page: 2 2
2 1 bop -76 -34 a Fg(language)21 b(based)e(on)g(the)g(basic)h(Hindley/Mil)q
(ner/D)q(amas)i(t)o(yp)q(e)-76 7 y(system)11 b(could)i(b)q(e)e(extended)h(to)
f(supp)q(ort)h(the)f(use)g(of)g(t)o(yp)q(e)g(classes.)-76 59
y(This)h(pap)q(er)h(is)f(mean)o(t)g(to)f(serv)o(e)h(as)g(a)f(practical)j
(guide)f(for)e(the)h(im-)-76 101 y(plemen)o(tation)i(of)d(t)o(yp)q(e)h
(classes.)18 b(Previous)13 b(w)o(ork)e(in)i(this)f(area)g(has)-76
142 y(concen)o(trated)g(on)e(the)h(t)o(yping)g(rules)h(and)f(has)f
(culminated)j(in)e(a)f(set)-76 184 y(of)h(syn)o(tax-directed)j(t)o(yping)f
(deriv)n(ations)h(whic)o(h)e(are)f(the)h(basis)g(for)-76 225
y(our)g(t)o(yp)q(e)f(c)o(hec)o(k)o(er.)17 b(Here)11 b(w)o(e)g(will)h(use)g
(the)f(t)o(yping)i(rules)f(to)f(create)-76 267 y(a)g(concrete)f(algorithm)j
(whic)o(h)e(b)q(oth)g(t)o(yp)q(e)g(c)o(hec)o(ks)g(and)g(transforms)-76
308 y(the)k(program.)23 b(W)m(e)15 b(hop)q(e)g(to)g(rev)o(eal)h(the)f(essen)o
(tial)i(simplicit)o(y)g(of)-76 350 y(b)q(oth)g(the)g(theory)h(and)f(implemen)
o(tation)j(of)c(t)o(yp)q(e)h(classes.)29 b(Our)-76 391 y(concerns)16
b(are)f(t)o(yp)q(e)g(c)o(hec)o(king)h(programs)g(e\016cien)o(tly)m(,)g
(generating)-76 433 y(the)d(b)q(est)g(p)q(ossible)i(co)q(de)f(from)e(the)h(t)
o(yp)q(e)g(c)o(hec)o(k)o(er,)g(and)h(in)o(tro)q(duc-)-76 474
y(ing)f(a)f(n)o(um)o(b)q(er)h(of)e(simple)j(extensions)g(to)e(t)o(yp)q(e)g
(classes)h(whic)o(h)g(can)-76 516 y(b)q(e)g(incorp)q(orated)i(in)o(to)f(our)f
(basic)h(framew)o(ork.)j(This)d(w)o(ork)f(is)g(the)-76 557
y(result)j(of)f(our)h(exp)q(erience)h(implemen)o(ting)h(t)o(yp)q(e)e(classes)
h(in)f(b)q(oth)-76 599 y(the)d(Y)m(ale)h(Hask)o(ell)g(compiler)h(and)f(the)f
(Gofer)g(in)o(terpreter.)-76 707 y Fh(2)41 b(T)m(yp)q(e)13
b(classes)g({)g(a)g(summa)o(ry)-76 796 y Fg(W)m(e)h(b)q(egin)h(b)o(y)f
(summarizing)i(the)e(main)h(features)e(of)h(a)f(system)h(of)-76
837 y(t)o(yp)q(e)e(classes)h(for)e(a)g(v)o(ery)h(simple)h(and)f(w)o(ell)h
(kno)o(wn)f(example)h({)e(the)-76 879 y(de\014nition)16 b(of)d(an)g(equalit)o
(y)i(op)q(erator,)f(written)f(as)g Fe(==)o Fg(,)g(that)g(is:)-20
959 y Fd(\017)19 b Fb(p)q(olymorphic)p Fg(:)13 b(use)f(of)g(the)g(op)q
(erator)g(is)h(not)f(restricted)g(to)18 1000 y(v)n(alues)i(of)f(an)o(y)g
(single)i(t)o(yp)q(e.)-20 1070 y Fd(\017)k Fb(o)o(v)o(erloaded)p
Fg(:)25 b(the)18 b(in)o(terpretation)h(of)f(equalit)o(y)h(is)f(deter-)18
1112 y(mined)c(b)o(y)f(the)g(t)o(yp)q(es)h(of)f(its)g(argumen)o(ts.)-20
1182 y Fd(\017)19 b Fb(extensible)p Fg(:)14 b(the)d(de\014nition)i(of)d
(equalit)o(y)j(can)d(b)q(e)h(extended)18 1224 y(to)h(include)k(new)d(datat)o
(yp)q(es.)-76 1304 y(Our)k(example)i(programs)f(will)h(b)q(e)e(written)h
(using)g(the)g(concrete)-76 1345 y(syn)o(tax)d(of)e(Hask)o(ell)j(with)e
(explanatory)i(commen)o(ts)e(where)g(neces-)-76 1387 y(sary)m(.)20
b(F)m(urther)15 b(details)h(ma)o(y)e(b)q(e)g(found)h(in)g([6].)k(W)m(e)14
b(will)i(also)f(use)-76 1428 y(the)e(follo)o(wing)i(terms)e(while)i
(describing)g(the)e(class)h(system:)-76 1508 y Fb(metho)q(d)19
b Fg(A)10 b(primitiv)o(e)j(o)o(v)o(erloaded)g(op)q(erator)e(suc)o(h)g(as)g
Fe(==)f Fg(will)i(b)q(e)18 1549 y(called)i(a)f(metho)q(d.)18
b(Metho)q(ds)c(are)f(found)h(in)g(expressions.)-76 1620 y Fb(class)19
b Fg(A)14 b(group)h(of)f(related)i(metho)q(ds)f(is)g(pac)o(k)n(aged)g(in)o
(to)g(a)g(class.)18 1661 y(Eac)o(h)g(class)g(has)g(a)g(name)g(whic)o(h)g(is)g
(used)g(in)h(the)e(t)o(yp)q(e)h(lan-)18 1703 y(guage.)-76 1773
y Fb(data)h(t)o(yp)q(e)j Fg(T)o(yp)q(e)g(classes)h(use)f(the)f(same)h(sort)g
(of)g(data)g(t)o(yp)q(es)18 1815 y(used)i(b)o(y)g(the)g(ML)f(t)o(yp)q(e)i
(system.)40 b(A)20 b(t)o(yp)q(e)h(constructor)18 1856 y(names)d(a)h(data)f(t)
o(yp)q(e)h(in)g(the)f(t)o(yp)q(e)h(language)h(while)g(data)18
1898 y(constructors)14 b(create)f(v)n(alues)h(in)g(the)f(expression)i
(language.)-76 1968 y Fb(instance)j Fg(An)9 b(instance)i(binds)f(a)f(data)h
(t)o(yp)q(e)f(to)g(op)q(erations)i(whic)o(h)18 2009 y(implemen)o(t)20
b(the)e(metho)q(ds)i(of)e(a)g(sp)q(eci\014ed)i(class)g(for)e(that)18
2051 y(t)o(yp)q(e.)-76 2131 y(The)f(basic)i(idea)f(is)g(to)f(de\014ne)h(a)f
(set)g(of)g(t)o(yp)q(es)h Fe(Eq)o Fg(,)g(kno)o(wn)g(as)f(a)-76
2172 y(t)o(yp)q(e)c(class)g(in)g(Hask)o(ell,)g(that)f(con)o(tains)i
(precisely)g(those)f(t)o(yp)q(es)f(for)-76 2214 y(whic)o(h)i(a)g(suitable)h
(de\014nition)h(of)e(equalit)o(y)h(has)f(b)q(een)g(giv)o(en)h(using)-76
2255 y(an)f(instance)h(declaration.)21 b(The)13 b(de\014nition)j(of)d(the)h
(class)h Fe(Eq)d Fg(is)i(as)-76 2297 y(follo)o(ws:)-56 2377
y Fe(class)j(Eq)i(a)h(where)22 2418 y(\(==\))38 b(::)g(a)20
b(->)e(a)i(->)f(Bool)-76 2498 y Fg(The)14 b(\014rst)g(line)h(in)o(tro)q
(duces)h(a)e(name)g(for)g(the)g(class)h(and)f(indicates)-76
2539 y(that)9 b(the)g(t)o(yp)q(e)h(v)n(ariable)h Fe(a)d Fg(will)i(b)q(e)f
(used)h(to)f(represen)o(t)h(an)f(arbitrary)-76 2581 y(instance)16
b(of)e(the)g(class)h(in)g(the)g(follo)o(wing)h(part)f(of)f(the)g
(de\014nition.)-76 2622 y(\(In)h(the)g(general)h(case,)g(w)o(e)e(use)i(an)f
(expression)i(of)e(the)g(form)g Fe(C)k(t)1020 -34 y Fg(to)14
b(represen)o(t)i(the)e(assertion)i(that)f(the)g(t)o(yp)q(e)g
Fe(t)e Fg(is)j(an)e(instance)i(of)1020 7 y(the)j(class)g Fe(C)p
Fg(.\))33 b(The)19 b(remaining)i(part)e(of)f(the)h(declaration)i(lists)1020
49 y(a)15 b(collection)i(of)d(metho)q(d)i(functions)g(whic)o(h)f(are)g(asso)q
(ciated)i(with)1020 90 y(the)e(class.)22 b(In)14 b(this)h(particular)i
(example,)f(there)e(is)h(only)h(a)e(single)1020 132 y(metho)q(d)e(function,)h
(written)f(as)g(an)g(in\014x)h(op)q(erator,)g Fe(==)o Fg(.)j(The)c(t)o(yp)q
(e)1020 173 y(signature)k Fe(a)j(->)g(a)g(->)g(Bool)12 b Fg(indicates)k
(that,)e(for)g(eac)o(h)h(instance)1020 215 y Fe(a)10 b Fg(of)g
Fe(Eq)o Fg(,)h(the)g Fe(==)e Fg(sym)o(b)q(ol)j(b)q(eha)o(v)o(es)g(lik)o(e)g
(a)e(function)i(that)f(tak)o(es)g(t)o(w)o(o)1020 256 y(argumen)o(ts)j(of)f(t)
o(yp)q(e)g Fe(a)g Fg(and)g(returns)h(a)f(v)n(alue)h(of)f(t)o(yp)q(e)g
Fe(Bool)o Fg(.)1020 308 y(A)g(class)h(declaration)h(ma)o(y)e(also)h(de\014ne)
g(a)f(set)g(of)g(sup)q(erclasses)i(for)1020 350 y(a)e(giv)o(en)i(class.)j
(The)13 b(use)g(of)g(sup)q(erclasses)i(do)q(es)f(not)g(signi\014can)o(tly)
1020 391 y(complicate)h(this)f(t)o(yp)q(e)f(system)h(and)f(will)i(b)q(e)e
(discussed)i(later.)1020 443 y(Using)f(the)g(notation)h(of)e(Hask)o(ell,)i
(the)e(full)i(t)o(yp)q(e)f(of)f Fe(==)g Fg(is)h(written)1020
485 y(as)j Fe(\(Eq)i(a\))g(=>)g(a)g(->)g(a)g(->)g(Bool)n Fg(.)29
b(Note)17 b(the)h(con)o(v)o(en)o(tion)h(that)1020 526 y(all)e(free)e(v)n
(ariables)i(in)f(a)f(t)o(yp)q(e)h(expression)h(are)f(implicitly)j(b)q(ound)
1020 568 y(b)o(y)14 b(a)f(univ)o(ersal)j(quan)o(ti\014er)f(at)e(the)g
(outermost)h(lev)o(el.)20 b(Th)o(us)13 b Fe(==)g Fg(is)1020
609 y(`p)q(olymorphic')h(in)e Fe(a)o Fg(,)f(but)h(the)f(c)o(hoice)i(of)e(t)o
(yp)q(es)h(for)f Fe(a)f Fg(is)i(restricted)1020 651 y(to)g(instances)j(of)d
Fe(Eq)o Fg(.)17 b(T)o(yp)q(e)12 b(class)i(constrain)o(ts)g(lik)o(e)g(this)f
(are)g(often)1020 692 y(describ)q(ed)i(as)e(the)g Ff(c)n(ontext)h
Fg(part)g(of)e(a)h(t)o(yp)q(e.)1020 744 y(Ev)o(en)j(b)q(efore)f(w)o(e)g(ha)o
(v)o(e)g(de\014ned)i(a)e(single)i(instance)f(of)f(the)g(class,)1020
786 y(w)o(e)f(can)g(use)g(the)g Fe(==)f Fg(op)q(erator,)i(either)g
(indirectly)i(or)d(directly)m(,)h(to)1020 827 y(de\014ne)k(other)g(v)n
(alues.)35 b(The)18 b(restriction)i(to)f(instances)h(of)e Fe(Eq)g
Fg(is)1020 869 y(re\015ected)12 b(in)g(the)g(t)o(yp)q(es)g(assigned)h(to)e
(these)h(v)n(alues.)18 b(F)m(or)11 b(example:)1040 945 y Fe(member)174
b(::)19 b(Eq)g(a)g(=>)g(a)g(->)g([a])f(->)h(Bool)1040 986 y(member)e(x)i([])
97 b(=)20 b(False)1040 1028 y(member)d(x)i(\(y:ys\))e(=)j(x==y)e(||)h(member)
e(x)i(ys)1020 1104 y Fg(The)9 b(\014rst)h(line)g(of)f(this)h(de\014nition)i
(giv)o(es)e(the)g(t)o(yp)q(e)f(of)g Fe(member)n Fg(.)15 b(Note)1020
1145 y(that,)j(in)f(Hask)o(ell,)i Fe([a])d Fg(represen)o(ts)h(the)g(t)o(yp)q
(e)h(of)e(lists)i(of)f(v)n(alues)1020 1187 y(of)f(t)o(yp)q(e)g
Fe(a)p Fg(.)25 b(As)16 b(in)g(the)g(basic)h(ML)f(t)o(yp)q(e)h(system,)f(user)
g(supplied)1020 1229 y(t)o(yp)q(e)e(signatures)i(are)e(not)g(actually)j
(required)e(since)g(they)f(can)h(b)q(e)1020 1270 y(inferred)d(automatically)j
(b)o(y)c(the)h(t)o(yp)q(e)f(system.)17 b(W)m(e)12 b(pro)o(vide)h(suc)o(h)1020
1312 y(signatures)k(in)f(our)g(examples)h(as)e(do)q(cumen)o(tation.)27
b(The)15 b(second)1020 1353 y(and)20 b(third)g(lines)h(are)e(t)o(ypical)h(of)
f(the)g(w)o(a)o(y)g(that)g(functions)i(are)1020 1395 y(de\014ned)13
b(in)g(Hask)o(ell.)19 b(In)12 b(this)h(example)g(there)g(are)f(t)o(w)o(o)f
(equations,)1020 1436 y(using)k(pattern)f(matc)o(hing)h(on)e(the)h(left)g
(hand)g(side)g(to)g(distinguish)1020 1478 y(b)q(et)o(w)o(een)g(the)g(t)o(w)o
(o)f(cases)h(when)g(the)g(list)h(argumen)o(t)g(to)e Fe(member)f
Fg(is)1020 1519 y(empt)o(y)m(,)f Fe([])o Fg(,)f(or)h(non-empt)o(y)m(,)g
(written)g Fe(\(y:ys\))d Fg(where)j Fe(y)e Fg(and)j Fe(ys)d
Fg(are)1020 1561 y(the)k(head)h(and)g(tail,)g(resp)q(ectiv)o(ely)m(,)g(of)f
(the)g(list.)1020 1613 y(The)k(t)o(yp)q(es)h(whic)o(h)g(are)f(mem)o(b)q(ers)g
(of)g(a)g(class)h(are)f(de\014ned)i(b)o(y)e(a)1020 1654 y(collection)c(of)e
Ff(instanc)n(e)j(de)n(clar)n(ations)c Fg(whic)o(h)i(ma)o(y)e(b)q(e)i
(distributed)1020 1696 y(throughout)f(the)d(program,)j(t)o(ypically)g(in)f
(di\013eren)o(t)g(program)g(mo)q(d-)1020 1737 y(ules)h(where)f(new)g(datat)o
(yp)q(es)h(are)f(in)o(tro)q(duced.)18 b(F)m(or)9 b(built-in)k(t)o(yp)q(es,)
1020 1779 y(the)c(de\014nition)j(of)d(equalit)o(y)i(ma)o(y)f(w)o(ell)g(b)q(e)
f(pro)o(vided)i(b)o(y)f(a)f(primitiv)o(e)1020 1820 y(function:)1040
1896 y Fe(instance)16 b(Eq)j(Int)f(where)1118 1938 y(\(==\))38
b(=)h(primEqInt)1020 2014 y Fg(More)16 b(generally)m(,)i(w)o(e)d(can)h
(de\014ne)g(instances)h(of)f(the)f(class)i Fe(Eq)d Fg(for)1020
2055 y(an)o(y)g(built-in)i(and)e(user-de\014ned)g(algebraic)i(data)e(t)o(yp)q
(es)g(as)f(in)h(the)1020 2097 y(follo)o(wing)h(de\014nition)h(of)d(equalit)o
(y)i(on)e(lists:)1040 2173 y Fe(instance)j(Eq)j(a)g(=>)g(Eq)g([a])f(where)
1118 2214 y([])97 b(==)19 b([])98 b(=)19 b(True)1118 2256 y(\(x:xs\))e(==)i
(\(y:ys\))f(=)h(x==y)f(&&)h(xs==ys)1118 2297 y(_)117 b(==)19
b(_)118 b(=)19 b(False)1020 2373 y Fg(\(The)f(underscore)i(c)o(haracter)g
Fe(_)e Fg(in)h(the)g(last)g(line)h(is)f(used)g(as)g(a)1020
2415 y(wildcard;)f(it)e(indicates)i(that,)e(if)f(neither)i(of)e(the)h
(\014rst)g(t)o(w)o(o)f(cases)1020 2456 y(can)h(b)q(e)h(applied,)h(the)e(the)h
(equalit)o(y)h(test)e(will)h(pro)q(duce)g(a)f(result)1020 2498
y(of)e Fe(False)n Fg(.\))20 b(The)14 b(expression)i Fe(Eq)j(a)g(=>)g(Eq)g
([a])12 b Fg(in)j(the)f(\014rst)h(line)1020 2539 y(indicates)h(that)d(the)h
(de\014nition)i(of)d(equalit)o(y)j(on)e(lists)h(dep)q(ends)g(on)1020
2581 y(the)g(de\014nition)j(of)c(equalit)o(y)j(used)f(for)e(the)h(elemen)o
(ts)h(held)g(in)g(the)1020 2622 y(list:)i(if)13 b Fe(a)g Fg(is)g(an)h
(instance)g(of)f Fe(Eq)o Fg(,)g(then)g(so)g(is)h Fe([a])o Fg(.)p
eop
%%Page: 3 3
3 2 bop -76 -34 a Fg(The)18 b(set)f(of)g(t)o(yp)q(es)h(de\014ned)h(b)o(y)f(a)
g(\014nite)g(collection)i(of)e(instance)-76 7 y(declarations)i(ma)o(y)d(b)q
(e)g(in\014nite)i(\(but)e(recursiv)o(ely)j(en)o(umerable\).)-76
49 y(F)m(or)12 b(example,)h(the)e(de\014nitions)k(giv)o(en)e(ab)q(o)o(v)o(e)f
(describ)q(e)h(the)f(equal-)-76 90 y(it)o(y)20 b(op)q(erator)g(for)e(in)o
(tegers,)k(lists)e(of)f(in)o(tegers,)i(lists)f(of)f(lists)h(of)-76
132 y(in)o(tegers)14 b(and)g(so)f(forth.)-76 240 y Fh(3)41
b(Implementing)13 b(Overloading)-76 329 y Fg(One)g(standard)g(tec)o(hnique)i
(used)e(in)g(the)f(implemen)o(tation)k(of)c(run-)-76 371 y(time)k(o)o(v)o
(erloading)i(is)e(to)f(attac)o(h)h(some)f(kind)i(of)e Ff(tag)i
Fg(to)f(the)f(con-)-76 412 y(crete)i(represen)o(tation)j(of)d(eac)o(h)h(ob)r
(ject.)30 b(Ov)o(erloaded)19 b(functions)-76 454 y(suc)o(h)13
b(as)f(the)g(equalit)o(y)i(op)q(erator)e(describ)q(ed)i(ab)q(o)o(v)o(e)f(can)
f(b)q(e)g(imple-)-76 495 y(men)o(ted)k(b)o(y)f(insp)q(ecting)j(the)e(tags)f
(of)g(their)h(argumen)o(ts)h(and)e(dis-)-76 537 y(patc)o(hing)j(the)f
(appropriate)h(function)g(based)f(on)g(the)f(tag)g(v)n(alue.)-76
578 y(Man)o(y)i(sc)o(hemes)f(exist)h(for)f(the)g(enco)q(ding)i(of)e(tags)g
(to)g(mak)o(e)g(the)-76 620 y(tag)f(dispatc)o(h)i(e\016cien)o(t.)27
b(This)16 b(is)h(essen)o(tially)i(the)d(metho)q(d)h(used)-76
661 y(to)e(deal)h(with)f(the)g(equalit)o(y)i(function)f(in)f(Standard)i(ML)d
(of)h(New)-76 703 y(Jersey)c([2].)16 b(One)11 b(of)g(the)g(b)q(ene\014ts)h
(of)f(static)g(t)o(yp)q(e)h(c)o(hec)o(king)g(is)g(that)-76
744 y(it)h(pro)o(vides)h(a)f(compile-time)h(c)o(hec)o(k)f(whic)o(h)h(ensures)
f(that)g(the)f(the)-76 786 y(equalit)o(y)g(function)f(will)g(nev)o(er)f(b)q
(e)g(applied)i(to)d(an)h(ob)r(ject)g(for)f(whic)o(h)-76 827
y(there)k(is)h(no)f(corresp)q(onding)j(de\014nition)g(of)d(equalit)o(y)m(.)
-76 879 y(Unfortunately)m(,)f(the)e(use)g(of)g(tags)g(as)g(describ)q(ed)i(ab)
q(o)o(v)o(e)f(has)f(a)g(n)o(um-)-76 921 y(b)q(er)h(of)e(dra)o(wbac)o(ks.)17
b(It)10 b(can)h(complicate)h(data)e(represen)o(tation)j(and)-76
962 y(ma)o(y)e(not)g(b)q(e)g(w)o(ell)g(suited)h(to)f(the)g(underlying)i
(hardw)o(are.)k(P)o(erhaps)-76 1004 y(more)c(signi\014can)o(tly)n(,)i(there)d
(are)h(some)g(forms)f(of)h(o)o(v)o(erloading)i(that)-76 1045
y(cannot)g(b)q(e)g(implemen)o(ted)i(using)e(this)h(approac)o(h.)22
b(In)14 b(particular,)-76 1087 y(it)19 b(is)f(not)h(p)q(ossible)h(to)e
(implemen)o(t)i(functions)g(where)e(the)g(o)o(v)o(er-)-76 1128
y(loading)f(is)e(de\014ned)h(b)o(y)e(the)h(returned)g(t)o(yp)q(e.)22
b(A)14 b(simple)i(example)-76 1170 y(of)c(this)h(is)g(the)f
Fe(read)e Fg(function)k(used)f(in)g(Hask)o(ell)g(to)f(parse)h(a)f(string)-76
1211 y(as)h(a)h(v)n(alue)g(of)f(an)o(y)g(t)o(yp)q(e)h(that)f(is)h(an)f
(instance)i(of)e(the)g Fe(Text)f Fg(class,)-76 1253 y(the)h(set)g(of)g
(readable)i(\(and)e(prin)o(table\))j(t)o(yp)q(es.)-76 1305
y(An)f(elegan)o(t)i(w)o(a)o(y)e(to)g(a)o(v)o(oid)i(these)e(problems)i(is)f
(to)f(separate)h(ob-)-76 1346 y(jects)f(from)f(their)h(tags,)g(treating)h
(tags)f(as)g(data)g(ob)r(jects)g(in)g(their)-76 1388 y(o)o(wn)f(righ)o(t.)20
b(F)m(or)13 b(example,)i(w)o(e)e(can)h(implemen)o(t)i Fe(read)c
Fg(as)i(a)f(func-)-76 1429 y(tion)19 b(that)e(tak)o(es)h(an)g(extra)f
(argumen)o(t)i(whic)o(h)f(giv)o(es)g(the)g(tag)f(of)-76 1471
y(the)d(result)g(v)n(alue.)19 b(This)14 b(amoun)o(ts)g(to)f(passing)i(t)o(yp)
q(e)f(information)-76 1512 y(around)19 b(at)e(run-time)i(but)f(this)g(is)g
(only)h(necessary)f(when)g(o)o(v)o(er-)-76 1554 y(loaded)g(functions)f(are)f
(actually)j(in)o(v)o(olv)o(ed.)28 b(This)17 b(is)f(p)q(oten)o(tially)-76
1595 y(more)e(e\016cien)o(t)h(than)f(uniformly)i(tagging)g(ev)o(ery)e(data)g
(ob)r(ject)h(re-)-76 1637 y(gardless)g(ho)o(w)e(it)g(will)i(b)q(e)e(used.)-76
1689 y(Using)19 b(this)g(approac)o(h,)h(the)d Fe(member)f Fg(function)j(in)f
(the)g(previous)-76 1730 y(section)i(migh)o(t)f(b)q(e)g(implemen)o(ted)i(b)o
(y)e(translating)i(the)d(original)-76 1772 y(de\014nition)e(to:)-56
1854 y Fe(member')h(::)i(\(a)f(->)h(a)g(->)g(Bool\))f(->)h(a)g(->)g([a])f(->)
h(Bool)-56 1895 y(member')e(eq)i(x)g([])97 b(=)19 b(False)-56
1937 y(member')e(eq)i(x)g(\(y:ys\))e(=)i(eq)g(x)g(y)h(||)e(member')f(eq)i(x)g
(ys)-76 2019 y Fg(In)13 b(other)g(w)o(ords,)g(the)g(implemen)o(tation)i(of)e
Fe(member)d Fg(is)j(simply)i(pa-)-76 2060 y(rameterized)i(b)o(y)f(the)f
(appropriate)j(de\014nition)g(of)d(equalit)o(y)m(.)26 b(The)-76
2102 y(tag)13 b(in)h(this)g(case)f(is)h(the)f(equalit)o(y)i(function)g
(itself.)-76 2154 y(In)j(this)h(example,)h(w)o(e)e(could)h(ev)n(aluate)g
Fe(member)f(2)h([1,2,3])c Fg(b)o(y)-76 2195 y(rewriting)21
b(it)e(as)g Fe(member')e(primEqInt)f(2)j([1,2,3])e Fg(and)i(ev)n(alu-)-76
2237 y(ating)g(that)f(expression)h(instead.)33 b(F)m(or)17
b(a)h(more)g(in)o(teresting)h(ex-)-76 2278 y(ample,)24 b(if)d
Fe(xs)e Fg(is)j(a)f(list)h(of)e(lists)i(of)f(in)o(tegers,)i(then)f(w)o(e)e
(could)-76 2320 y(ev)n(aluate)h Fe(member)c([1])i(xs)f Fg(in)i(a)g(similar)h
(w)o(a)o(y)m(,)f(rewriting)h(it)f(as)-76 2361 y Fe(member')d(\(eqList)g
(primEqInt\))f([1])i(xs)o Fg(,)13 b(where:)-56 2443 y Fe(eqList)k(::)i(\(a)g
(->)g(a)g(->)g(Bool\))e(->)i([a])g(->)f([a])h(->)g(Bool)-56
2485 y(eqList)e(eq)i([])97 b([])h(=)19 b(True)-56 2526 y(eqList)e(eq)i
(\(x:xs\))e(\(y:ys\))h(=)h(eq)g(x)g(y)g(&&)454 2568 y(eqList)e(eq)i(xs)g(ys)
-56 2609 y(eqList)e(eq)i(_)117 b(_)h(=)19 b(False)1020 -34
y Fg(The)14 b(de\014nition)i(of)e Fe(eqList)d Fg(can)k(b)q(e)f(obtained)i
(directly)f(from)f(the)1020 7 y(instance)h(declaration)i(on)d(lists)h(in)f
(Section)i(2)d(in)i(m)o(uc)o(h)f(the)g(same)1020 49 y(w)o(a)o(y)k(as)h(the)f
(de\014nition)j(of)d Fe(member')e Fg(w)o(as)i(obtained)i(from)e(that)1020
90 y(of)g Fe(member)m Fg(.)31 b(T)o(yp)q(e)19 b(classes)g(do)f(not)g(require)
h(a)f(particular)i(de\014-)1020 132 y(nition)e(of)e(equalit)o(y)i(for)d(a)h
(data)h(t)o(yp)q(e;)g(an)o(y)g(function)g(of)f(the)g(ap-)1020
173 y(propriate)g(t)o(yp)q(e)f(can)g(b)o(y)g(supplied)i(b)o(y)e(the)g(user)g
(to)f(c)o(hec)o(k)h(equal-)1020 215 y(it)o(y)m(.)i(As)11 b(a)g(con)o(v)o
(enience,)i(Hask)o(ell)g(allo)o(ws)f(the)g(programmer)g(to)f(use)1020
256 y Ff(derive)n(d)16 b(instanc)n(es)g Fg(for)g(some)g(of)g(the)g(standard)h
(classes)h(lik)o(e)f Fe(Eq)p Fg(,)1020 298 y(automatically)23
b(generating)e(appropriate)h(instance)f(de\014nitions.)1020
339 y(Note)c(that)h(this)g(feature)g(is)g(not)g(itself)g(part)g(of)f(the)h
(underlying)1020 381 y(t)o(yp)q(e)13 b(system.)1020 433 y(One)d(of)g(our)h
(goals)g(in)g(the)g(remainder)g(of)f(this)h(pap)q(er)h(is)e(to)h(describ)q(e)
1020 474 y(ho)o(w)e(these)g Ff(tr)n(anslations)g Fg(can)g(b)q(e)g(obtained)i
(automatically)h(as)d(part)1020 516 y(of)k(the)g(t)o(yp)q(e)g(c)o(hec)o(king)
i(pro)q(cess.)1020 622 y Fh(4)41 b(Static)13 b(Analysis)1020
711 y Fg(Before)g(t)o(yp)q(e)h(c)o(hec)o(king,)g(the)f(compiler)i(m)o(ust)f
(assem)o(ble)g(the)f(com-)1020 753 y(p)q(onen)o(ts)21 b(of)e(the)h(static)g
(t)o(yp)q(e)g(en)o(vironmen)o(t.)39 b(The)19 b(data)h(t)o(yp)q(e,)1020
794 y(class,)g(and)f(instance)h(declarations)h(\(all)e(top-lev)o(el)h
(declarations)1020 836 y(in)12 b(Hask)o(ell\))h(m)o(ust)e(b)q(e)h(collected)h
(and)f(pro)q(cessed.)17 b(One)12 b(constrain)o(t)1020 877 y(on)g(these)f
(declarations)j(is)e(that)g(instances)h(m)o(ust)e(b)q(e)h(unique:)18
b(only)1020 919 y(one)10 b(instance)h(declaration)h(for)e(a)f(particular)j
(com)o(bination)g(of)e(data)1020 960 y(t)o(yp)q(e)j(and)h(class)g(is)f(allo)o
(w)o(ed.)19 b(This)13 b(ensures)h(that)f(the)g(meaning)h(of)1020
1002 y(o)o(v)o(erloaded)g(op)q(erations)g(with)e(resp)q(ect)h(to)f(parameter)
g(data)h(t)o(yp)q(es)1020 1043 y(is)h(consisten)o(t)g(throughout)h(the)e
(program.)1020 1095 y(In)i(the)f(previous)j(section)e(w)o(e)f(describ)q(ed)j
(ho)o(w)d(the)h Fe(member)d Fg(func-)1020 1137 y(tion)20 b(can)f(b)q(e)g
(implemen)o(ted)i(b)o(y)e(parameterizing)i(its)e(de\014nition)1020
1179 y(with)12 b(resp)q(ect)g(to)f(an)h(implemen)o(tation)i(of)e(the)f
Fe(==)f Fg(metho)q(d.)18 b(In)11 b(the)1020 1220 y(general)i(case,)e(a)g
(class)h(ma)o(y)g(ha)o(v)o(e)f(sev)o(eral)i(di\013eren)o(t)f(metho)q(ds)g
(and)1020 1262 y(it)17 b(is)g(sensible)i(to)e(parameterize)h(the)e
(de\014nitions)k(of)c(o)o(v)o(erloaded)1020 1303 y(functions)h(using)g
Ff(dictionary)e Fg(v)n(alues;)j(tuples)f(con)o(taining)h(imple-)1020
1345 y(men)o(tations)13 b(for)e(eac)o(h)g(of)g(the)h(metho)q(ds)g(for)f(a)g
(particular)j(instance)1020 1386 y(of)f(a)g(class.)1020 1438
y(Static)g(analysis)i(generates)e(a)g(dictionary)h(for)e(eac)o(h)h(instance)h
(dec-)1020 1480 y(laration)24 b(and)f(these)g(dictionaries)i(themselv)o(es)f
(ma)o(y)f(b)q(e)f(o)o(v)o(er-)1020 1521 y(loaded.)29 b(When)18
b(a)e(dictionary)j(con)o(tains)f(o)o(v)o(erloaded)h(functions,)1020
1563 y(as)13 b(manifested)h(in)f(the)g(con)o(text)g(comp)q(onen)o(t)h(of)f
(an)g(instance)h(dec-)1020 1604 y(laration,)i(it)e(will)i(reference)e
(further)g(sub)q(dictionari)q(es)j(when)d(con-)1020 1646 y(structed.)k(A)13
b(dictionary)j(con)o(taining)g Fe(eqList)11 b Fg(w)o(ould)j(need)g(to)f(b)q
(e)1020 1687 y(o)o(v)o(erloaded)18 b(to)f(pro)o(vide)g(the)g
Fe(eq)e Fg(argumen)o(t)i(to)f Fe(eqList)n Fg(.)27 b(In)16 b(our)1020
1729 y(implemen)o(tation,)j(this)d(captured)h(dictionary)h(is)e(stored)g(b)o
(y)g(par-)1020 1770 y(tially)k(applying)h Fe(eqList)15 b Fg(to)j(just)f(the)h
Fe(eq)f Fg(argumen)o(t)i(when)f(the)1020 1812 y(dictionary)e(con)o(taining)f
Fe(eqList)c Fg(is)i(created.)1020 1864 y(Eac)o(h)h(instance)h(can)f(b)q(e)g
(con)o(v)o(erted)h(to)e(a)h(4-tuple)h(con)o(taining)h(the)1020
1905 y(data)11 b(t)o(yp)q(e,)f(the)h(class,)g(a)f(dictionary)m(,)j(and)d(the)
h(con)o(text)f(asso)q(ciated)1020 1947 y(with)j(the)g(instance.)18
b(A)13 b(de\014nition)i(is)e(inserted)h(in)o(to)g(the)e(program)1020
1988 y(whic)o(h)17 b(binds)g(the)g(dictionary)h(v)n(alue,)g(a)e(tuple)h(of)e
(metho)q(d)i(func-)1020 2030 y(tions,)h(to)e(a)g(v)n(ariable,)j(the)e
(dictionary)h(v)n(ariable.)29 b(The)17 b(instance)1020 2071
y(con)o(text)12 b(can)g(b)q(e)g(represen)o(ted)h(b)o(y)e(a)h(list)h(of)e
(class)i(constrain)o(ts,)g(one)1020 2113 y(class)h(constrain)o(t)h(for)e(eac)
o(h)h(argumen)o(t)g(to)f(the)g(data)h(t)o(yp)q(e)g(de\014ned)1020
2154 y(b)o(y)h(the)f(instance.)22 b(A)14 b(class)h(constrain)o(t)h(is)f(the)f
(\(p)q(ossibly)j(empt)o(y\))1020 2196 y(list)d(of)f(classes)h(whic)o(h)g(m)o
(ust)f(apply)i(to)e(the)g(constituen)o(t)i(t)o(yp)q(e.)1020
2248 y(The)g(instance)h(declaration)h(for)d(list)i(equalit)o(y)h(w)o(ould)e
(create)g(this)1020 2289 y(dictionary:)1040 2362 y Fe(d-Eq-List)h(=)j(eqList)
1020 2435 y Fg(and)14 b(the)f(declaration)i(itself)f(w)o(ould)g(b)q(e)g
(represen)o(ted)g(b)o(y:)1040 2508 y Fe(\(List,Eq,)o(d-)o(Eq-)o(Li)o(st,)o
([[E)o(q])o(]\))1020 2581 y Fg(where)j Fe(List)e Fg(is)i(the)g(name)g(of)g
(the)g(list)h(t)o(yp)q(e)f(data)g(constructor.)1020 2622 y(Since)e(this)f
(class)h(has)f(only)g(one)g(metho)q(d)g(a)g(tuple)h(is)f(not)f(needed;)p
eop
%%Page: 4 4
4 3 bop -76 -34 a Fg(normally)20 b(a)d(dictionary)j(w)o(ould)e(b)q(e)g(tuple)
g(con)o(taining)j(a)c(de\014ni-)-76 7 y(tion)f(for)g(eac)o(h)f(metho)q(d.)25
b(The)15 b(con)o(text)h(indicates)i(that)d(the)h(\014rst)-76
49 y(argumen)o(t)h(to)g(the)f Fe(List)f Fg(t)o(yp)q(e)h(constructor)i(m)o
(ust)e(b)q(e)h(in)g(the)f Fe(Eq)-76 90 y Fg(class.)-76 142
y(Dispatc)o(hing)h(a)d(metho)q(d)h(requires)h(selection)g(of)e(the)g
(appropriate)-76 184 y(function)d(from)f(a)g(dictionary)m(.)18
b Ff(Sele)n(ctor)11 b Fg(functions)h(whic)o(h)e(retreiv)o(e)-76
225 y(a)17 b(metho)q(d)h(from)f(a)g(dictionary)i(are)f(also)g(de\014ned)g(as)
f(the)g(static)-76 267 y(t)o(yp)q(e)12 b(en)o(vironmen)o(t)i(is)e(pro)q
(cessed.)18 b(\(In)11 b(the)h(previous)i(example)f(no)-76 308
y(selectors)e(are)e(needed)i(since)f(there)g(is)g(no)g(tuple)g(in)h(the)e
(dictionary)m(.\))-76 350 y(These)19 b(simply)i(extract)f(a)f(comp)q(onen)o
(t)h(of)f(a)g(dictionary)i(tuple,)-76 391 y(a)e(constan)o(t)h(time)f(op)q
(eration)h(since)g(eac)o(h)f(mem)o(b)q(er)g(function)i(is)-76
433 y(lo)q(cated)12 b(at)f(a)g(sp)q(eci\014c)i(place)f(in)g(the)f(dictionary)
m(.)18 b(Dictionaries)c(are)-76 474 y(only)i(used)e(where)g(o)o(v)o
(erloading)j(cannot)e(b)q(e)g(resolv)o(ed)g(at)f(compile)-76
516 y(time.)28 b(When)18 b(the)f(t)o(yp)q(e)g(asso)q(ciated)h(with)f(a)g
(metho)q(d)g(is)h(kno)o(wn)-76 557 y(at)e(compile)i(t)o(yp)q(e)e(the)h(t)o
(yp)q(e)f(sp)q(eci\014c)h(v)o(ersion)h(of)e(the)g(metho)q(d)h(is)-76
599 y(called)e(directly)g(without)f(using)g(the)f(dictionary)m(.)-76
707 y Fh(5)41 b(T)m(yp)q(e)13 b(Inference)-76 796 y Fg(W)m(e)h(will)g
(separate)g(the)g(issues)g(of)f(t)o(yp)q(e)h(inference,)g(in)g(whic)o(h)g
(eac)o(h)-76 838 y(program)d(expression)i(is)e(assigned)h(a)f(\(p)q(ossibly)i
(o)o(v)o(erloaded\))f(t)o(yp)q(e,)-76 879 y(and)20 b(dictionary)i(con)o(v)o
(ersion,)h(in)d(whic)o(h)g(the)g(program)g(co)q(de)g(is)-76
921 y(transformed)11 b(to)f(explicitly)j(extract)e(metho)q(d)f(functions)i
(from)e(dic-)-76 962 y(tionaries.)-76 1014 y(The)16 b(use)g(and)g(implemen)o
(tation)j(of)c(ML)g(st)o(yle)i(t)o(yp)q(e)f(inference)h(is)-76
1056 y(w)o(ell)12 b(do)q(cumen)o(ted)g(and)g(w)o(e)f(will)h(not)f(rep)q(eat)h
(this)g(here)f(\(see)g([4])f(for)-76 1097 y(example\).)26 b(Instead,)16
b(w)o(e)f(concen)o(trate)h(on)g(the)f(relativ)o(ely)j(minor)-76
1139 y(c)o(hanges)d(that)g(are)f(needed)h(to)f(extend)h(ML)f(st)o(yle)h(t)o
(yp)q(e)g(inference)-76 1180 y(with)f(supp)q(ort)g(for)f(t)o(yp)q(e)g
(classes.)-76 1232 y(As)i(in)i(ordinary)g(ML)f(t)o(yp)q(ec)o(hec)o(king,)i(t)
o(yp)q(e)e(v)n(ariables)i(and)e(uni\014-)-76 1274 y(cation)h(pla)o(y)g(a)f
(cen)o(tral)g(role.)26 b(T)o(yp)q(e)16 b(v)n(ariables)i(are)d(initial)q(ly)k
(un-)-76 1315 y(b)q(ound,)12 b(corresp)q(onding)i(to)d(`unkno)o(wn')g(t)o(yp)
q(es.)17 b(As)10 b(t)o(yp)q(e)i(c)o(hec)o(king)-76 1357 y(pro)q(ceeds,)k(v)n
(arious)g(constrain)o(ts)g(on)f(the)g(v)n(alues)h(that)e(can)h(b)q(e)g(as-)
-76 1398 y(signed)10 b(to)f(t)o(yp)q(e)g(v)n(ariables)i(are)e(exp)q(osed,)i
(for)d(example)i(b)o(y)f(ensuring)-76 1440 y(that)h(the)g(argumen)o(t)h(t)o
(yp)q(e)f(of)f(a)h(giv)o(en)h(function)g(is)f(the)g(same)g(as)g(the)-76
1481 y(t)o(yp)q(e)j(of)e(the)i(v)n(alue)g(to)f(whic)o(h)h(it)f(is)h(actually)
h(applied.)19 b(These)12 b(con-)-76 1523 y(strain)o(ts)j(are)f(solv)o(ed)i(b)
o(y)e(instan)o(tiating)k(un)o(b)q(ound)e(t)o(yp)q(e)e(v)n(ariables)-76
1564 y(to)g(more)g(accurate)h(t)o(yp)q(es.)21 b(T)o(yp)q(e)14
b(classes)h(require)h(an)e(additional)-76 1606 y(\014eld)f(in)f(eac)o(h)h
(uninstan)o(tiated)h(t)o(yp)q(e)e(v)n(ariable:)19 b(the)11
b(con)o(text,)i(a)e(set)-76 1647 y(\(represen)o(ted)j(b)o(y)g(a)f(list\))h
(of)e(classes.)-76 1699 y(Uni\014cation)19 b(is)e(a\013ected)h(in)f(a)f(v)o
(ery)h(simple)i(w)o(a)o(y:)k(when)17 b(a)g(t)o(yp)q(e)-76 1741
y(v)n(ariable)e(is)d(instan)o(tiated,)j(its)e(class)g(constrain)o(ts)h(m)o
(ust)f(b)q(e)f(passed)-76 1782 y(on)g(to)f(the)g(instan)o(tiated)i(v)n(alue.)
18 b(If)10 b(this)i(is)g(another)g(t)o(yp)q(e)f(v)n(ariable,)-76
1824 y(its)18 b(con)o(text)g(is)g(augmen)o(ted,)h(using)g(set)e(union,)j(b)o
(y)d(the)h(con)o(text)-76 1865 y(of)e(the)g(instan)o(tiated)j(v)n(ariable.)28
b(When)17 b(a)f(con)o(text)g(is)h(passed)g(on)-76 1907 y(to)g(a)h(t)o(yp)q(e)
f(constructor)i Ff(c)n(ontext)c(r)n(e)n(duction)i Fg(is)h(required.)31
b(Con-)-76 1948 y(text)17 b(reduction)i(uses)e(the)g(instance)i(declarations)
h(in)d(the)g(static)-76 1990 y(t)o(yp)q(e)d(en)o(vironmen)o(t)h(to)f
(propagate)g(all)h(class)f(constrain)o(ts)h(to)f(t)o(yp)q(e)-76
2031 y(v)n(ariables.)-76 2083 y(The)k(t)o(yp)q(e)g(constructor)h(b)q(eing)g
(reduced)g(b)o(y)f(con)o(text)g(reduction)-76 2125 y(m)o(ust)i(b)q(e)g(an)h
(instance)g(of)f(the)g(reducing)h(class.)39 b(If)19 b(not,)j(t)o(yp)q(e)-76
2167 y(c)o(hec)o(king)14 b(fails)g(with)f(an)f(error)h(that)g(an)f(attempt)h
(has)g(b)q(een)g(made)-76 2208 y(to)j(use)f(an)h(o)o(v)o(erloaded)i(op)q
(erator)e(at)g(a)f(t)o(yp)q(e)h(that)g(is)g(not)g(an)g(in-)-76
2250 y(stance)c(of)g(the)g(corresp)q(onding)i(class.)j(If)12
b(an)g(instance)h(declaration)-76 2291 y(is)h(found)h(linking)i(the)c(data)i
(t)o(yp)q(e)f(and)g(the)g(class,)g(the)g(con)o(text)g(of)-76
2333 y(the)f(instance)h(declaration)h(propagates)g(to)d(the)h(t)o(yp)q(e)g
(constructor)-76 2374 y(argumen)o(ts.)18 b(This)13 b(pro)q(cess)g(con)o(tin)o
(ues)h(un)o(til)g(con)o(texts)f(ha)o(v)o(e)g(b)q(een)-76 2416
y(propagated)i(exclusiv)o(ely)h(to)d(t)o(yp)q(e)g(v)n(ariables.)-76
2468 y(As)25 b(an)h(example,)j(consider)e(the)e(uni\014cation)j(of)d
Fe(Eq)19 b(a)g(=>)g(a)p Fg(,)-76 2509 y(a)33 b(t)o(yp)q(e)f(v)n(ariable)j
(with)e(an)f Fe(Eq)g Fg(con)o(text,)37 b(and)c(the)g(t)o(yp)q(e)-76
2551 y Fe([Integer])m Fg(.)90 b(The)38 b(t)o(yp)q(e)g(v)n(ariable)i(is)e
(instan)o(tiated)i(to)-76 2592 y Fe([Integer])m Fg(.)d(Before)20
b(con)o(text)g(reduction,)j(the)d(resulting)i(t)o(yp)q(e)1020
-34 y(is)c Fe(Eq)h([Integer])d(=>)j([Integer])l Fg(.)30 b(The)17
b(instance)i(declaration)1020 7 y(for)14 b(class)h Fe(Eq)e
Fg(o)o(v)o(er)h(the)g(list)i(data)e(t)o(yp)q(e)h(exists)g(\(otherwise)g(a)f
(t)o(yp)q(e)1020 49 y(error)k(o)q(ccurs\))h(and)f(propagates)h(the)g(con)o
(text)f Fe(Eq)f Fg(to)h(the)g(argu-)1020 90 y(men)o(t)f(to)g(the)g(list)h(t)o
(yp)q(e)f(constructor.)30 b(This)18 b(leads)g(to)f(the)g(t)o(yp)q(e)1020
132 y Fe(Eq)i(Integer)e(=>)i([Integer])l Fg(.)25 b(No)o(w)15
b(w)o(e)g(can)h(see)f(that)h(the)g(pro-)1020 173 y(gram)e(m)o(ust)g(also)h
(include)h(an)e(instance)h(declaration)i(that)d(mak)o(es)1020
215 y Fe(Integer)d Fg(an)k(instance)h(of)e(the)h(class)g Fe(Eq)o
Fg(.)21 b(Assuming)16 b(that)e(this)i(is)1020 256 y(true,)e(and)g(since)g
(the)g Fe(Integer)d Fg(t)o(yp)q(e)i(constructor)i(do)q(es)f(not)g(tak)o(e)
1020 298 y(an)o(y)e(argumen)o(ts,)g(no)f(further)g(constrain)o(ts)i(can)f
(exist)g(lea)o(ving)h(only)1020 339 y Fe([Integer])g Fg(as)j(the)h(resulting)
i(t)o(yp)q(e.)27 b(Note,)17 b(ho)o(w)o(ev)o(er,)g(that)g(the)1020
381 y(uni\014cation)f(w)o(ould)f(ha)o(v)o(e)e(failed)i(if)f(the)f(required)i
(instance)g(decla-)1020 422 y(rations)h(w)o(ere)e(not)h(found)h(in)f(the)g
(static)g(t)o(yp)q(e)g(en)o(vironmen)o(t.)24 b(By)1020 464
y(a)16 b(similar)i(pro)q(cess,)g(uni\014cation)h(of)c Fe(Eq)k(a)g(=>)g(a)d
Fg(and)g Fe([b])f Fg(w)o(ould)1020 505 y(yield)d(the)e(t)o(yp)q(e)h
Fe(Eq)19 b(b)g(=>)g([b])n Fg(.)d(Here,)10 b(con)o(texts)h(remain)g(attac)o
(hed)1020 547 y(to)i(the)g(resulting)i(t)o(yp)q(e)f(v)n(ariables.)1020
599 y(The)9 b(follo)o(wing)j(co)q(de)e(implemen)o(ts)h(t)o(yp)q(e)f(v)n
(ariable)i(instan)o(tiation)g(in)1020 640 y(the)h(presence)g(of)g(t)o(yp)q(e)
g(classes.)18 b(Eac)o(h)13 b(t)o(yp)q(e)g(v)n(ariable)h(has)f(a)g(v)n(alue)
1020 682 y(\014eld)h(whic)o(h)g(is)f(either)h(n)o(ull)h(\(uninstan)o
(tiated\))h(or)d(con)o(tains)h(an)g(in-)1020 723 y(staniated)f(t)o(yp)q(e.)k
(The)11 b(con)o(text)h(\014eld)h(is)f(a)f(list)i(of)e(classes)h(attac)o(hed)
1020 765 y(to)d(uninstan)o(tiated)j(t)o(yp)q(e)d(v)n(ariables.)18
b(The)9 b Fe(findInsta)o(nc)o(eCo)o(nt)o(ext)1020 806 y Fg(function)i(searc)o
(hes)f(the)f(static)h(t)o(yp)q(e)g(en)o(vironmen)o(t)h(for)e(an)h(instance)
1020 848 y(with)16 b(the)f(selected)i(class)f(and)g(data)g(t)o(yp)q(e.)25
b(If)15 b(not)g(is)h(found)g(this)1020 889 y(function)h(signals)h(a)d(t)o(yp)
q(e)h(error.)25 b(It)15 b(returns)h(a)g(list)g(of)g(con)o(texts,)1020
931 y(one)d(for)g(eac)o(h)h(argumen)o(t)f(to)g(the)h(data)f(t)o(yp)q(e.)1040
1021 y Fe(instantia)o(te)o(Tyv)o(ar)o(\(ty)o(var)o(,t)o(ype)o(\))1059
1063 y(tyvar.valu)o(e)k(:=)h(type)1059 1104 y(propagateC)o(las)o(se)o(s\(t)o
(yva)o(r.)o(con)o(te)o(xt,)o(typ)o(e\))1040 1187 y(propagate)o(Cl)o(ass)o(es)
o(\(cl)o(ass)o(es)o(,ty)o(pe)o(\))1059 1229 y(if)h(tyvar\(type)o(\))1079
1270 y(then)f(type.cont)o(ext)e(:=)j(union\(cla)o(sse)o(s,)o(typ)o(e.)o(con)o
(tex)o(t\))1079 1312 y(else)f(for)g(each)g(c)i(in)f(classes)1197
1353 y(propagat)o(eCl)o(ass)o(Ty)o(con)o(\(c)o(,ty)o(pe\))1040
1436 y(propagate)o(Cl)o(ass)o(Ty)o(con)o(\(cl)o(as)o(s,t)o(yp)o(e\))1059
1478 y(s)h(=)f(findInsta)o(nc)o(eCo)o(nte)o(xt)o(\(ty)o(pe)o(.ty)o(con)o(,c)o
(las)o(s\))1059 1519 y(for)g(each)f(classSet)e(in)j(s,)g(typeArg)e(in)i
(tycon.arg)o(s)1079 1561 y(propagate)o(Cla)o(ss)o(es\()o(cla)o(ss)o(Set)o(,t)
o(ype)o(Arg)o(\))1020 1651 y Fg(One)d(other)g(minor)g(c)o(hange)h(to)e(ML)h
(t)o(yp)q(e)g(inference)h(is)f(required.)1020 1692 y(When)g(a)f
Fe(letrec)d Fg(is)k(t)o(yp)q(ec)o(hec)o(k)o(ed)g(all)g(v)n(ariables)i
(de\014ned)e(b)o(y)f(the)1020 1734 y(letrec)j(share)f(a)g(common)g(con)o
(text.)29 b(This)18 b(will)g(b)q(e)f(discussed)i(in)1020 1776
y(Section)14 b(8.3.)1020 1828 y(It)h(is)h(w)o(orth)f(emphasizing)k(that)c
(con)o(text)h(reduction)h(is)f(the)g(only)1020 1869 y(signi\014can)o(t)i(c)o
(hange)f(to)e(the)h(ML)f(t)o(yp)q(e)h(inference)g(pro)q(cess)h(neces-)1020
1911 y(sary)d(to)f(infer)h(correct)g(t)o(ypings)h(for)e(Hask)o(ell)i
(programs)f(in)o(v)o(olving)1020 1952 y(t)o(yp)q(e)h(classes.)25
b(On)15 b(the)g(other)g(hand,)h(dictionary)i(con)o(v)o(ersion,)f(as)1020
1994 y(describ)q(ed)d(in)f(the)g(follo)o(wing)h(section)g(\(or)e(some)g
(similar)j(pro)q(cess\),)1020 2035 y(m)o(ust)h(b)q(e)h(carried)g(out)g(to)f
(implemen)o(t)i(o)o(v)o(erloading)h(in)e(the)g(\014nal)1020
2077 y(executable)e(v)o(ersion)f(of)f(the)g(t)o(yp)q(e)h(c)o(hec)o(k)o(ed)f
(program.)1020 2185 y Fh(6)41 b(Dictiona)o(ry)11 b(Conversion)1020
2274 y Fg(Dictionary)25 b(con)o(v)o(ersion)f(a\013ects)f(the)g(generated)g
(co)q(de)g(in)h(t)o(w)o(o)1020 2315 y(w)o(a)o(ys.)16 b(First,)10
b(o)o(v)o(erloaded)h(de\014nitions)h(receiv)o(e)e(additional)j(param-)1020
2357 y(eter)e(v)n(ariables)i(to)e(bind)i(dictionaries.)19 b(Second,)12
b(a)f(reference)h(to)f(an)1020 2398 y(o)o(v)o(erloaded)j(de\014nition)h(m)o
(ust)d(b)q(e)h(passed)g(dictionaries.)20 b(Th)o(us)12 b(the)1020
2440 y(t)o(yp)q(ec)o(hec)o(k)o(er)17 b(needs)g(only)g(t)o(w)o(o)f(basic)h(c)o
(hanges:)24 b(when)17 b(reference)1020 2481 y(to)c(an)g(o)o(v)o(erloaded)i
(de\014nition)h(\(whic)o(h)e(is)f(usually)i(a)e(function)i(but)1020
2523 y(ma)o(y)g(b)q(e)g(of)f(an)o(y)h(t)o(yp)q(e\))g(is)g(t)o(yp)q(e)g(c)o
(hec)o(k)o(ed)g(the)g(hidden)i(dictionary)1020 2564 y(parameters)f(m)o(ust)e
(b)q(e)h(inserted.)24 b(When)16 b(a)e(de\014nition)k(\(either)d(at)1020
2606 y(the)f(top)f(lev)o(el)i(or)f(in)g(a)f(lo)q(cal)j(de\014nition)g(using)f
(a)e Fe(let)f Fg(or)i Fe(letrec)m Fg(\))p eop
%%Page: 5 5
5 4 bop -76 -34 a Fg(is)17 b(t)o(yp)q(ed)f(hidden)i(dictionary)h(argumen)o
(ts)e(are)f(inserted)h(to)f(bind)-76 7 y(an)o(y)c(necessary)h(dictionaries)i
(needed)d(to)g(resolv)o(e)h(the)e(o)o(v)o(erloading)-76 49
y(at)i(run)h(time.)-76 101 y(The)j(relation)i(b)q(et)o(w)o(een)f(a)f(t)o(yp)q
(e)g(signature)i(and)f(dictionary)h(pa-)-76 142 y(rameters)24
b(is)g(simple:)39 b(eac)o(h)24 b(elemen)o(t)h(of)e(the)g(con)o(text)h(corre-)
-76 184 y(sp)q(onds)17 b(to)e(a)h(dictionary)i(passed)e(in)o(to)g(or)g
(reciev)o(ed)h(b)o(y)e(an)h(o)o(v)o(er-)-76 225 y(loaded)k(de\014nition.)34
b(F)m(or)17 b(example,)k(a)c(function)j(with)e(the)g(t)o(yp)q(e)-76
267 y Fe(\(Eq)h(a,)f(Text)h(b\))f(=>)h(a)g(->)g(b)12 b Fg(w)o(ould)h(require)
g(t)o(w)o(o)e(dictionari)q(es,)-76 308 y(one)h(for)g(the)f(class)i
Fe(Eq)e Fg(and)h(another)h(for)e Fe(Text)o Fg(.)16 b(The)c(ordering)h(of)e(a)
-76 350 y(con)o(text)i(is)g(arbitrary;)g(dictionaries)i(can)e(b)q(e)f(passed)
h(in)g(an)o(y)g(order)-76 391 y(so)g(long)h(as)g(the)f(same)g(ordering)i(is)e
(used)h(consisten)o(tly)m(.)-76 443 y(Adding)i(dictionary)h(passing)g(co)q
(de)e(to)g(the)f(program)i(during)g(the)-76 485 y(co)q(de)10
b(w)o(alk)g(p)q(erformed)h(b)o(y)e(the)h(standard)h(ML)e(t)o(yp)q(ec)o(hec)o
(k)o(er)i(is)f(p)q(er-)-76 526 y(haps)h(the)f(essen)o(tial)i(implemen)o
(tation)h(issue)f(addressed)f(here.)16 b(The)-76 568 y(t)o(yp)q(e)e(asso)q
(ciated)i(with)e(an)g(expression)h(ma)o(y)f(c)o(hange)h(due)f(to)f(uni-)-76
609 y(\014cation)i(as)f(the)f(t)o(yp)q(e)h(c)o(hec)o(k)o(er)g(pro)q(ceeds.)20
b(Since)15 b(t)o(yp)q(es)f(only)g(sta-)-76 651 y(blize)k(at)f(generalization)
i(the)e(appropriate)i(dictionaries)g(needed)-76 692 y(to)12
b(resolv)o(e)g(o)o(v)o(erloading)j(cannot)d(b)q(e)g(determined)h(un)o(til)h
(the)d(en)o(tire)-76 734 y(expression)16 b(b)q(eing)g(generalized)g(has)f
(already)h(b)q(een)e(w)o(alk)o(ed)h(o)o(v)o(er.)-76 775 y(T)m(o)10
b(a)o(v)o(oid)h(a)f(second)h(pass)g(o)o(v)o(er)f(the)g(co)q(de)h(after)f
(generalization)q(,)j(w)o(e)-76 817 y(will)i(hold)f(on)o(to)g(the)f
(necessary)i(bits)f(of)f(unresolv)n(able)j(co)q(de)e(using)-76
858 y Ff(plac)n(eholders)p Fg(.)21 b(A)15 b(placeholder)i(captures)f(a)e(t)o
(yp)q(e)i(and)f(an)g(ob)r(ject)-76 900 y(to)h(b)q(e)h(resolv)o(ed)g(based)g
(on)g(that)f(t)o(yp)q(e.)27 b(During)18 b(generalization)q(,)-76
941 y(placeholders)k(are)c(replaced)i(b)o(y)f(the)g(required)h(t)o(yp)q
(e-dep)q(enden)o(t)-76 983 y(co)q(de.)-76 1087 y Fh(6.1)41
b(Inserting)13 b(Placeholders)-76 1163 y Fg(Placeholders)j(are)c(inserted)j
(when)e(the)g(t)o(yp)q(e)g(c)o(hec)o(k)o(er)g(encoun)o(ters)-76
1205 y(either)j(an)f(o)o(v)o(erloaded)i(v)n(ariable,)g(a)d(metho)q(d,)i(or)f
(a)f(letrec)i(b)q(ound)-76 1246 y(v)n(ariable.)22 b(Sligh)o(tly)16
b(di\013eren)o(t)g(forms)e(of)f(placeholder)k(are)d(used)g(in)-76
1288 y(eac)o(h)g(case.)-76 1340 y(Ov)o(erloaded)25 b(v)n(ariables)g(are)f
(rewritten)f(as)g(an)h(application)i(to)-76 1381 y(placeholders)d(that)c
(will)j(ultimately)g(b)q(e)e(replaced)h(b)o(y)f(the)g(dic-)-76
1423 y(tionaries)27 b(implied)g(b)o(y)e(the)f(v)n(ariable's)j(con)o(text.)52
b(The)24 b(fresh)-76 1464 y(t)o(yp)q(e)33 b(v)n(ariables)i(asso)q(ciated)f
(with)f(the)f(v)n(ariable)j(are)d(cap-)-76 1506 y(tured)23
b(in)h(the)f(placeholders.)49 b(F)m(or)23 b(example,)j(if)d
Fe(f)g Fg(has)g(t)o(yp)q(e)-76 1547 y Fe(\(Num)18 b(a,)h(Text)f(b\))h(=>)g(a)
g(->)g(b)p Fg(,)25 b(the)f(t)o(yp)q(e)g(c)o(hec)o(k)o(er)h(will)g(\014rst)-76
1589 y(freshly)18 b(instan)o(tiate)h(the)f(t)o(yp)q(e)f(v)n(ariables)i(in)f
Fe(f)p Fg(,)f(yielding)j(a)d(t)o(yp-)-76 1630 y(ing)f(of)f
Fe(\(Num)j(t1,Text)f(t2\))i(=>)g(t1)f(->)h(t2)o Fg(.)24 b(This)16
b(fresh)f(instan-)-76 1672 y(tiation)j(of)d(t)o(yp)q(e)h(v)n(ariables)i(is)f
(part)f(of)f(ordinary)j(ML)d(st)o(yle)i(t)o(yp)q(e)-76 1714
y(c)o(hec)o(king.)26 b(The)16 b(v)n(alue)h Fe(f)e Fg(will)i(b)q(e)e
(rewritten)i(as)e(an)h(application)q(:)-76 1755 y Fe(f)j(<Num,t1>)e
(<Text,t2>)l Fg(.)g(The)11 b Fe(<)o Ff(obje)n(ct)r Fe(,)o Ff(typ)n(e)r
Fe(>)g Fg(notation)h(will)h(b)q(e)-76 1797 y(used)i(to)f(represen)o(t)h
(placeholders.)23 b(These)15 b(placeholders)i(b)q(ecome)-76
1838 y(additional)d(argumen)o(ts)e(to)f Fe(f)g Fg(whic)o(h)h(will)g(b)q(e)g
(placed)g(ahead)g(of)f(an)o(y)-76 1880 y(other)h(argumen)o(ts.)17
b(The)12 b(classes)g Fe(Text)e Fg(and)i Fe(Num)e Fg(whic)o(h)i(app)q(ear)g
(in)-76 1921 y(the)i(placeholders)j(indicate)f(that)e(the)g(placeholder)j(m)o
(ust)d(resolv)o(e)-76 1963 y(to)f(an)g(expression)i(yielding)h(a)d
(dictionary)j(for)d(that)g(class.)-76 2015 y(Metho)q(d)22 b(functions)g(are)f
(con)o(v)o(erted)h(directly)h(to)e(placeholders.)-76 2056 y(The)g(t)o(yp)q(e)
g(v)n(ariable)i(in)e(the)g(placeholder)j(corresp)q(onds)e(to)f(the)-76
2098 y(t)o(yp)q(e)h(v)n(ariable)h(whic)o(h)f(de\014nes)h(the)e(class)h(in)h
(the)e(class)h(decla-)-76 2139 y(ration.)43 b(F)m(or)22 b(example,)i(the)e
Fe(==)e Fg(metho)q(d)i(in)g(class)h Fe(Eq)d Fg(w)o(ould)-76
2181 y(b)q(e)25 b(t)o(yp)q(ec)o(hec)o(k)o(ed)h(b)o(y)f(freshly)g(instan)o
(tiatin)q(g)i(its)e(t)o(yp)q(e,)j(yield-)-76 2222 y(ing)16
b Fe(Eq)j(t1)g(=>)g(t1)g(->)f(t1)h(->)g(Bool)o Fg(,)c(and)g(returning)i(the)e
(place-)-76 2264 y(holder)h Fe(<)k(==)f(,t1>)n Fg(.)j(Since)16
b(the)f(ob)r(ject)g(in)h(the)f(placeholder)j(is)d(a)-76 2305
y(metho)q(d,)f(it)g(will)i(b)q(e)d(resolv)o(ed)j(to)d(either)i(a)e(sp)q
(eci\014c)i(implemen)o(ta-)-76 2347 y(tion)c(of)e(the)g(metho)q(d)i(\(if)e
(the)h(t)o(yp)q(e)g(v)n(ariable)h(b)q(ecomes)g(instan)o(tiated)-76
2388 y(to)j(a)g(concrete)h(t)o(yp)q(e\))f(or)g(co)q(de)g(to)g(select)h(a)f
Fe(==)f Fg(function)i(from)f(an)-76 2430 y Fe(Eq)e Fg(dictionary)m(.)-76
2482 y(Recursiv)o(ely)h(de\014ned)e(v)n(ariables)h(cannot)f(b)q(e)f(con)o(v)o
(erted)h(un)o(til)g(their)-76 2523 y(t)o(yp)q(e)19 b(is)g(kno)o(wn.)35
b(References)19 b(to)g(suc)o(h)g(v)n(ariables)i(encoun)o(tered)-76
2565 y(b)q(efore)15 b(they)f(are)g(generalized)j(are)d(simply)i(replaced)g(b)
o(y)e(a)g(place-)-76 2606 y(holder)j(un)o(til)h(the)d(correct)h(con)o(text)g
(has)g(b)q(een)h(determined.)26 b(F)m(or)1020 -34 y(example,)21
b(in)e(a)g(simple)h(recursiv)o(e)g(de\014nition)h(suc)o(h)e(as)g
Fe(member)n Fg(,)1020 7 y(the)14 b(recursiv)o(e)g(call)h(to)e
Fe(member)e Fg(b)q(ecomes)j(a)f(placeholder)k(un)o(til)e(its)1020
49 y(t)o(yp)q(e)f(is)g(generalized.)20 b(After)13 b(generalization)q(,)j(it)e
(is)g(treated)f(as)h(an)1020 90 y(ordinary)h(o)o(v)o(erloaded)g(v)n(ariable.)
1020 194 y Fh(6.2)41 b(Inserting)13 b(Dictiona)o(ry)e(P)o(a)o(rameters)1020
271 y Fg(Once)18 b(a)g(de\014nition)i(has)e(b)q(een)h(t)o(yp)q(ed,)g(an)o(y)f
(con)o(text)g(asso)q(ciated)1020 312 y(with)c(the)f(t)o(yp)q(e)g(v)n
(ariables)j(in)e(the)f(de\014nition)j(is)e(used)f(to)g(generate)1020
354 y(dictionary)20 b(parameter)d(v)n(ariables)j(whic)o(h)d(will)i(bind)f
(the)g(dictio-)1020 395 y(naries)12 b(needed)g(to)f(resolv)o(e)h(the)e(o)o(v)
o(erloading)q(.)19 b(This)11 b(o)q(ccurs)g(during)1020 437
y(the)i(generalization)j(p)q(ortion)f(of)d(t)o(yp)q(e)i(inference.)k
(Generalization)1020 478 y(gathers)h(all)h(uninstan)o(tiated)h(t)o(yp)q(e)e
(v)n(ariables)h(in)f(the)f(t)o(yp)q(e)h(of)f(a)1020 520 y(de\014nition)i(and)
f(creates)f(a)g(new)f(dictionary)j(v)n(ariable)g(for)e(ev)o(ery)1020
561 y(elemen)o(t)c(of)f(ev)o(ery)h(con)o(text)g(in)g(these)g(t)o(yp)q(e)g(v)n
(ariables.)20 b(A)13 b(lam)o(b)q(da)1020 603 y(whic)o(h)g(binds)h(the)e
(dictionaries)k(is)c(wrapp)q(ed)h(around)h(the)e(b)q(o)q(dy)h(of)1020
644 y(the)e(de\014nition)j(and)e(a)f(parameter)g(en)o(vironmen)o(t)i(is)f
(created.)k(This)1020 686 y(en)o(vironmen)o(t)h(is)f(used)g(to)f(resolv)o(e)h
(placeholders)i(created)d(during)1020 727 y(t)o(yp)q(ec)o(hec)o(king)20
b(of)e(the)g(de\014nition.)34 b(This)19 b(en)o(vironmen)o(t)h(maps)e(a)1020
769 y(pair)e(con)o(taining)h(a)e(class)h(and)f(t)o(yp)q(e)g(v)n(ariable)i(on)
o(to)e(a)g(dictionary)1020 810 y(parameter)f(v)n(ariable.)1020
862 y(As)32 b(a)g(simple)i(example,)j(if)c(the)f(inferred)h(t)o(yp)q(e)f(of)g
Fe(f)g Fg(is)1020 904 y Fe(\(Num)18 b(t1,Text)f(t2\))h(=>)h(t1)g(->)g(t2)o
Fg(,)i(then)g(the)f(de\014nition)i(of)e Fe(f)1020 945 y Fg(is)f(c)o(hanged)g
(to)g Fe(f)g(=)g(\\d1)g(d2)f(->)h(f')f Fg(where)g Fe(f')f Fg(is)i(the)f
(original)1020 987 y(de\014nition)g(of)e Fe(f)o Fg(.)25 b(This)16
b(creates)g(the)f(follo)o(wing)j(parameter)e(en)o(vi-)1020
1028 y(ronmen)o(t:)i Fe([\(\(Num,t1)o(\),)o(d1\))o(,\()o(\(Te)o(xt)o(,t2)o
(\),d)o(2\))o(])m Fg(.)1020 1132 y Fh(6.3)41 b(Resolving)11
b(Placeholders)1020 1209 y Fg(A)o(t)f(generalization)q(,)j(placeholders)h
(inserted)e(in)o(to)f(a)g(de\014nition)i(can)1020 1250 y(b)q(e)g(resolv)o
(ed.)19 b(A)12 b(list)j(of)d(all)j(placeholders,)g(up)q(dated)g(as)e(eac)o(h)
g(new)1020 1292 y(placeholder)g(is)e(created,)h(can)e(b)q(e)h(used)g(to)g(a)o
(v)o(oid)h(w)o(alking)g(through)1020 1333 y(the)h(co)q(de)h(in)g(searc)o(h)g
(of)e(placeholders)q(.)20 b(After)12 b(dictionary)k(param-)1020
1375 y(eters)d(ha)o(v)o(e)g(b)q(een)h(inserted,)g(eac)o(h)f(placeholder)i(is)
f(examined.)k(F)m(or)1020 1416 y(placeholders)f(asso)q(ciated)g(with)e
(either)g(metho)q(ds)h(or)e(classes,)i(the)1020 1458 y(t)o(yp)q(e)d(asso)q
(ciated)i(with)e(the)g(placeholder)i(determines)g(ho)o(w)d(it)i(will)1020
1499 y(b)q(e)f(resolv)o(ed.)19 b(There)13 b(are)g(four)g(p)q(ossibili)q(tie)q
(s:)1065 1580 y(1.)18 b(The)i(t)o(yp)q(e)g(is)h(a)e(t)o(yp)q(e)i(v)n(ariable)
g(in)g(the)f(parameter)g(en)o(vi-)1113 1622 y(ronmen)o(t.)36
b(In)19 b(this)h(case,)h(the)e(mapping)i(de\014nes)f(a)f(v)n(ari-)1113
1663 y(able)g(whic)o(h)f(will)h(carry)e(the)h(dictionary)i(at)d(run-time.)31
b(A)1113 1705 y(class)16 b(placeholder)h(is)e(resolv)o(ed)g(to)g(the)f
(dictionary)j(param-)1113 1747 y(eter)12 b(v)n(ariable;)j(a)d(metho)q(d)h
(placeholder)h(requires)g(a)e(selector)1113 1788 y(function)j(to)e(b)q(e)g
(applied)i(to)e(the)h(dictionary)h(v)n(ariable.)1065 1859 y(2.)j(The)h(t)o
(yp)q(e)g(has)h(b)q(een)f(instan)o(tiated)j(to)c(a)h(t)o(yp)q(e)g(construc-)
1113 1901 y(tor.)e(An)12 b(instance)i(declaration)h(asso)q(ciated)g(with)d
(this)i(t)o(yp)q(e)1113 1942 y(supplies)19 b(either)d(the)g(metho)q(d)g
(itself)h(for)e(a)h(metho)q(d)g(place-)1113 1984 y(holder)f(or)e(a)f
(dictionary)k(v)n(ariable)e(for)f(a)g(class)h(placeholder.)1113
2025 y(Since)f(dictionaries)h(or)d(metho)q(ds)g(themselv)o(es)i(ma)o(y)e(b)q
(e)g(o)o(v)o(er-)1113 2067 y(loaded)i(the)d(t)o(yp)q(e)h(c)o(hec)o(k)o(er)g
(ma)o(y)g(need)g(to)g(recursiv)o(ely)i(gener-)1113 2108 y(ate)f(placeholders)
i(to)d(resolv)o(e)i(this)f(additional)j(o)o(v)o(erloading.)1065
2179 y(3.)j(The)13 b(t)o(yp)q(e)f(v)n(ariable)j(ma)o(y)d(still)i(b)q(e)f(b)q
(ound)g(in)g(an)g(outer)g(t)o(yp)q(e)1113 2221 y(en)o(vironmen)o(t.)22
b(The)14 b(pro)q(cessing)i(of)e(the)g(placeholder)j(m)o(ust)1113
2262 y(b)q(e)d(deferred)f(to)g(the)g(outer)h(declaration.)1065
2333 y(4.)k(If)h(none)i(of)e(the)g(ab)q(o)o(v)o(e)i(conditions)h(hold,)g(an)e
(am)o(biguit)o(y)1113 2375 y(has)f(b)q(een)g(detected.)33 b(The)18
b(am)o(biguit)o(y)i(ma)o(y)e(b)q(e)h(resolv)o(ed)1113 2416
y(b)o(y)13 b(some)g(language)h(sp)q(eci\014c)g(mec)o(hanism)g(or)f(simply)h
(signal)1113 2458 y(a)f(t)o(yp)q(e)h(error.)1020 2539 y(Placeholders)i(asso)q
(ciated)f(with)e(recursiv)o(e)h(calls)h(can)e(b)q(e)h(resolv)o(ed)1020
2581 y(in)j(t)o(w)o(o)e(di\013eren)o(t)i(w)o(a)o(ys.)25 b(The)16
b(simplest)i(w)o(a)o(y)d(is)i(to)e(generate)i(an)1020 2622
y(o)o(v)o(erloaded)f(v)n(ariable)h(reference)e(whic)o(h)g(is)g(no)f
(di\013eren)o(t)i(than)f(for)p eop
%%Page: 6 6
6 5 bop -76 -34 a Fg(other)12 b(o)o(v)o(erloaded)h(v)n(ariables.)18
b(This)12 b(can)f(only)h(b)q(e)g(done)f(after)g(gen-)-76 7
y(eralization)j(since)e(the)f(con)o(text)g(of)g(the)g(recursiv)o(e)h(call)g
(is)g(unkno)o(wn)-76 49 y(un)o(til)j(this)f(time.)k(Ho)o(w)o(ev)o(er,)13
b(since)i(an)o(y)e(dictionarie)q(s)j(passed)e(to)f(a)-76 90
y(recursiv)o(e)k(call)f(remain)g(unc)o(hanged)h(from)e(the)g(original)j(en)o
(try)d(to)-76 132 y(the)d(function,)g(the)g(need)g(to)f(pass)h(dictionaries)i
(to)d(inner)i(recursiv)o(e)-76 173 y(calls)h(can)f(b)q(e)g(eliminated)j(b)o
(y)c(using)j(an)e(inner)g(en)o(try)g(p)q(oin)o(t)h(where)-76
215 y(the)j(dictionaries)i(ha)o(v)o(e)e(already)h(b)q(een)f(b)q(ound.)28
b(An)16 b(example)h(of)-76 256 y(this)d(is)g(sho)o(wn)f(in)h(section)g(7.)-76
365 y Fh(7)41 b(Examples)-76 454 y Fg(W)m(e)19 b(will)h(illustrate)h(the)d
(op)q(eration)j(of)d(our)h(t)o(yp)q(e)g(c)o(hec)o(k)o(er)g(with)-76
495 y(a)d(couple)h(of)e(examples,)i(eac)o(h)f(of)f(whic)o(h)i(consists)g(of)e
(three)h(co)q(de)-76 537 y(trees.)31 b(The)17 b(\014rst)h(co)q(de)g(tree)f
(sho)o(ws)h(freshly)h(instan)o(tiated)h(t)o(yp)q(e)-76 578
y(v)n(ariables)f(\(the)d Fc(t)185 582 y Fa(i)198 578 y Fg(\))g(and)g
(inserted)i(placeholders.)29 b(The)16 b(rules)h(for)-76 620
y(instan)o(tiating)g(t)o(yp)q(e)d(v)n(ariables)i(and)e(the)g(t)o(yp)q(e)g
(templates)h(are)f(the)-76 661 y(same)h(as)g(for)g(ML)g(t)o(yp)q(e)g(c)o(hec)
o(king.)24 b(The)15 b(second)h(tree)f(sho)o(ws)g(the)-76 703
y(result)i(of)f(uni\014cation.)29 b(T)o(yp)q(es)17 b(are)f(uni\014ed)i
(pairwise)g(along)f(the)-76 744 y(lines)h(in)f(the)f(diagrams.)27
b(Finally)m(,)19 b(the)d(result)h(of)f(generalization)-76 786
y(and)g(placeholder)h(resolution)g(will)f(b)q(e)g(sho)o(wn.)22
b(The)15 b(actual)h(t)o(yp)q(e)-76 827 y(c)o(hec)o(k)o(er)11
b(p)q(erforms)g(uni\014cation)i(con)o(tin)o(uously)g(instead)f(of)e(after)g
(all)-76 869 y(t)o(yp)q(e)15 b(v)n(ariables)i(ha)o(v)o(e)e(b)q(een)g
(instatuated;)i(these)e(steps)g(are)g(sepa-)-76 910 y(rated)f(here)f(for)g
(clarit)o(y)m(.)-76 962 y(Rather)i(than)g(write)g(the)f(con)o(text)h(asso)q
(ciated)i(with)d(a)h(t)o(yp)q(e)g(v)n(ari-)-76 1004 y(able)g(eac)o(h)g(time)g
(it)f(is)h(men)o(tioned)h(all)g(t)o(yp)q(e)f(v)n(ariable)h(con)o(text)f(in-)
-76 1045 y(formation)f(will)h(b)q(e)e(sho)o(wn)h(at)e(the)i(side.)-76
1097 y(The)g(follo)o(wing)i(function)g Fe(f)d Fg(uses)i(a)f(metho)q(d,)h
Fe(+)o Fg(,)f(and)h(a)f(recursiv)o(e)-76 1139 y(call)h(to)d(itself.)-56
1221 y Fe(class)17 b(Num)i(a)g(where)22 1262 y(\(+\))g(::)g(a)g(->)g(a)g(->)g
(a)-56 1345 y(f)g(=)g(\\x)g(->)g(x)g(+)g(f)h(x)-76 1427 y Fg(T)o(yp)q(e)d(v)n
(ariable)i(instan)o(tiatio)q(n)h(and)d(placeholder)j(insertion)f(pro-)-76
1469 y(duce)13 b(the)f(follo)o(wing)i(expression)f(tree.)k(The)12
b(@)f(no)q(des)i(are)f(curried)-76 1510 y(application)q(s.)-76
2563 y @beginspecial 80 @llx 20 @lly 300 @urx 270 @ury 2200
@rwi @setspecial
%%BeginDocument: fig1.ps
100 dict begin
/SHOWSTR-1--FR-1 2 dict def /MAKE-BOX--frame
3 dict def /**MAIN**--FR-2 1 dict def
/WRITE-LAB--FR-14 1 dict def /STRWIDTH--frame 1
dict def /TEMP--FR-3 1 dict def
/STRWIDTH--FR-4 1 dict def /SHOWCHR--frame 2
dict def /STRWIDTH--FR-5 4 dict def
/SHOWSTR-CENTER--FR-6 1 dict def /WRITE-LAB--frame
5 dict def /MAKE-LINE--FR-7 1 dict def
/MAKE-LINE--FR-8 1 dict def /SHOWSTR-1--frame
2 dict def /SHOWSTR--frame 1 dict def
/MAKE-LINE--frame 4 dict def /MAKE-LINE--FR-10
1 dict def /MAKE-LINE--FR-11 1 dict def
/WRITE-LAB--FR-12 4 dict def /SHOWSTR-CENTER--frame
1 dict def /WRITE-LAB--FR-13 4 dict def
/ITOC--frame 1 dict def /WRITE-LAB--FR-15 1
dict def /CCODE--frame 1 dict def /MAKE-LINE--FR-9
1 dict def /*label-size* 9 def /*sub-size*
6 def /*sub-font* /Times-Roman findfont /*sub-size*
load scalefont def /*std-font* /Times-Roman findfont
/*label-size* load scalefont def /*tt-font*
/Courier-Bold findfont /*label-size* load scalefont def
/*sym-font* /Symbol findfont /*label-size* load
scalefont def /*subscript-drop* /*sub-size* load 0.4
mul neg def /*char* ( ) def /*box-height* 10
def /*line-spacing* 10 def /*box-bottom* -5 def
/*lr1 0 def /*lam 0 def /*app1 0 def
/*plus1 0 def /*x1 0 def /*app2 0 def
/*rc 0 def /*x2 0 def /str 0 def /insub
0 def /cfont 0 def /show? 0 def /showstr
{ SHOWSTR--frame begin /str exch def /str load
true showstr-1 end } def /ccode { CCODE--frame
begin /x exch def /x load 0 get end }
def /itoc { ITOC--frame begin /x exch def
/*char* load 0 /x load put /*char* load end
} def /showstr-1 { SHOWSTR-1--frame begin /show?
exch def /str exch def /*std-font* load false
SHOWSTR-1--FR-1 begin /insub exch def /cfont
exch def /cfont load setfont 0 1 /str load
length 1 sub { **MAIN**--FR-2 begin /i
exch def /str load /i load get TEMP--FR-3
begin /ch exch def /insub load { /ch load (0)
ccode ge { /ch load (9) ccode le } {
false } ifelse not { /insub false store /cfont
load setfont 0 /*subscript-drop* load neg rmoveto
} if } if /ch load (_) ccode eq {
/*sub-font* load setfont 0 /*subscript-drop* load
rmoveto /insub true store } { /ch load (^)
ccode eq { /*sym-font* load setfont 174 /show?
load showchr /cfont load setfont } { /ch load
($) ccode eq { /cfont /*tt-font* load store
/cfont load setfont } { /ch load (&) ccode eq
{ /cfont /*std-font* load store /cfont load
setfont } { /ch load /show? load showchr }
ifelse } ifelse } ifelse } ifelse end end
} for end end } def /showchr { SHOWCHR--frame
begin /show? exch def /x exch def /show? load
{ /x load itoc show } { /x load itoc
true charpath } ifelse end } def /strwidth {
STRWIDTH--frame begin /str exch def 0 STRWIDTH--FR-4
begin /res exch def gsave newpath 0 0
moveto /str load false showstr-1 pathbbox
STRWIDTH--FR-5 begin /ury exch def /urx exch
def /lly exch def /llx exch def /res /urx
load /llx load sub store end grestore /res
load end end } def /showstr-center {
SHOWSTR-CENTER--frame begin /str exch def /str load
strwidth SHOWSTR-CENTER--FR-6 begin /width exch def
/width load neg 2.0 div 0 rmoveto /str load
showstr end end } def /make-box { MAKE-BOX--frame
begin /y exch def /x exch def /lab exch def
/x load /y load moveto /lab load showstr-center
[ /x load /y load 0 ] end } def
/make-line { MAKE-LINE--frame begin /n exch def /i
exch def /from-box exch def /to-box exch def
0.6 setlinewidth /*line-spacing* load /i load /n
load 1 sub -0.5 mul add mul MAKE-LINE--FR-7
begin /offset exch def /offset load /from-box load
0 get add MAKE-LINE--FR-8 begin /from-x exch
def /*box-bottom* load /from-box load 1 get add
MAKE-LINE--FR-9 begin /from-y exch def /to-box
load 0 get MAKE-LINE--FR-10 begin /to-x exch
def /to-box load 1 get /*box-height* load add
MAKE-LINE--FR-11 begin /to-y exch def /from-x
load /from-y load moveto /to-x load /to-y load
lineto stroke /to-box load 2 [ /from-x load
/from-y load /to-x load /to-y load ] put end
end end end end end } def /write-lab {
WRITE-LAB--frame begin /dy exch def /dx exch def
/pos exch def /str exch def /arrow exch def
/arrow load 2 get /str load strwidth 0 0
WRITE-LAB--FR-12 begin /y exch def /x exch
def /width exch def /c exch def /c load 0
get /c load 1 get /c load 2 get /c
load 3 get WRITE-LAB--FR-13 begin /bot-y exch
def /bot-x exch def /top-y exch def /top-x exch
def /top-x load /bot-x load add 2.0 div
WRITE-LAB--FR-14 begin /mid-x exch def /top-y
load /bot-y load add 2.0 div WRITE-LAB--FR-15
begin /mid-y exch def /pos load /ur eq { /x
/top-x load 5 add store /y /top-y load 10
sub store } { /pos load /ul eq { /x /top-x
load /width load sub 6 sub store /y /top-y
load 10 sub store } { /pos load /cr eq
{ /x /mid-x load 5 add store /y /mid-y load
5 sub store } { /pos load /cl eq { /x
/mid-x load /width load sub 6 sub store /y
/mid-y load 5 sub store } { /pos load /lr
eq { /x /bot-x load 5 add store /y /bot-y
load 3 add store } { /pos load /ll eq
{ /x /bot-x load /width load sub 6 sub
store /y /bot-y load 3 add store } if }
ifelse } ifelse } ifelse } ifelse } ifelse
/x load /dx load add /y load /dy load add
moveto /str load showstr end end end end end
} def /*lr1 ($letrec f =) 200 250 make-box store
/*lam ($\\x) 200 200 make-box store /*app1 ($@)
200 150 make-box store /*plus1 (<$+&,t_7>) 150 100
make-box store /*x1 ($x) 200 100 make-box store
/*app2 ($@) 250 100 make-box store /*rc (<$f&,t_1>)
225 50 make-box store /*x2 ($x) 275 50
make-box store /*lam load /*lr1 load 0 1
make-line /*app1 load /*lam load 0 1
make-line /*plus1 load /*app1 load 0 3
make-line /*x1 load /*app1 load 1 3 make-line
/*app2 load /*app1 load 2 3 make-line /*rc
load /*app2 load 0 2 make-line /*x2 load
/*app2 load 1 2 make-line 120 230 moveto
(Context:  $Num& t_6) showstr /*lam load (t_1) /ur 0
0 write-lab /*lam load (t_2^t_3) /lr 0 0
write-lab /*app1 load (t_3) /ur 0 0 write-lab
/*app1 load (t_6) /lr 0 0 write-lab /*plus1
load (t_4^t_5^t_6) /ul -15 0 write-lab /*plus1
load (t_7^t_7^t_7) /ll 0 0 write-lab /*x1 load
(t_4) /ur 0 0 write-lab /*x1 load (t_2) /lr
0 0 write-lab /*app2 load (t_5) /ur 12 0
write-lab /*app2 load (t_9) /lr 0 0 write-lab
/*rc load (t_8^t_9) /ul -8 0 write-lab /*rc
load (t_1) /ll 0 0 write-lab /*x2 load (t_8)
/ur 6 0 write-lab /*x2 load (t_2) /lr 0
0 write-lab
end
%%EndDocument
 @endspecial 1020 -34 a(After)g(uni\014cation,)k(this)e(b)q(ecomes:)1020
1019 y @beginspecial 80 @llx 20 @lly 300 @urx 270 @ury 2200
@rwi @setspecial
%%BeginDocument: fig2.ps
100 dict begin
/SHOWSTR-1--FR-1 2 dict def /MAKE-BOX--frame
3 dict def /**MAIN**--FR-2 1 dict def
/WRITE-LAB--FR-14 1 dict def /STRWIDTH--frame 1
dict def /TEMP--FR-3 1 dict def
/STRWIDTH--FR-4 1 dict def /SHOWCHR--frame 2
dict def /STRWIDTH--FR-5 4 dict def
/SHOWSTR-CENTER--FR-6 1 dict def /WRITE-LAB--frame
5 dict def /MAKE-LINE--FR-7 1 dict def
/MAKE-LINE--FR-8 1 dict def /SHOWSTR-1--frame
2 dict def /SHOWSTR--frame 1 dict def
/MAKE-LINE--frame 4 dict def /MAKE-LINE--FR-10
1 dict def /MAKE-LINE--FR-11 1 dict def
/WRITE-LAB--FR-12 4 dict def /SHOWSTR-CENTER--frame
1 dict def /WRITE-LAB--FR-13 4 dict def
/ITOC--frame 1 dict def /WRITE-LAB--FR-15 1
dict def /CCODE--frame 1 dict def /MAKE-LINE--FR-9
1 dict def /*label-size* 9 def /*sub-size*
6 def /*sub-font* /Times-Roman findfont /*sub-size*
load scalefont def /*std-font* /Times-Roman findfont
/*label-size* load scalefont def /*tt-font*
/Courier-Bold findfont /*label-size* load scalefont def
/*sym-font* /Symbol findfont /*label-size* load
scalefont def /*subscript-drop* /*sub-size* load 0.4
mul neg def /*char* ( ) def /*box-height* 10
def /*line-spacing* 10 def /*box-bottom* -5 def
/*lr1 0 def /*lam 0 def /*app1 0 def
/*plus1 0 def /*x1 0 def /*app2 0 def
/*rc 0 def /*x2 0 def /str 0 def /insub
0 def /cfont 0 def /show? 0 def /showstr
{ SHOWSTR--frame begin /str exch def /str load
true showstr-1 end } def /ccode { CCODE--frame
begin /x exch def /x load 0 get end }
def /itoc { ITOC--frame begin /x exch def
/*char* load 0 /x load put /*char* load end
} def /showstr-1 { SHOWSTR-1--frame begin /show?
exch def /str exch def /*std-font* load false
SHOWSTR-1--FR-1 begin /insub exch def /cfont
exch def /cfont load setfont 0 1 /str load
length 1 sub { **MAIN**--FR-2 begin /i
exch def /str load /i load get TEMP--FR-3
begin /ch exch def /insub load { /ch load (0)
ccode ge { /ch load (9) ccode le } {
false } ifelse not { /insub false store /cfont
load setfont 0 /*subscript-drop* load neg rmoveto
} if } if /ch load (_) ccode eq {
/*sub-font* load setfont 0 /*subscript-drop* load
rmoveto /insub true store } { /ch load (^)
ccode eq { /*sym-font* load setfont 174 /show?
load showchr /cfont load setfont } { /ch load
($) ccode eq { /cfont /*tt-font* load store
/cfont load setfont } { /ch load (&) ccode eq
{ /cfont /*std-font* load store /cfont load
setfont } { /ch load /show? load showchr }
ifelse } ifelse } ifelse } ifelse end end
} for end end } def /showchr { SHOWCHR--frame
begin /show? exch def /x exch def /show? load
{ /x load itoc show } { /x load itoc
true charpath } ifelse end } def /strwidth {
STRWIDTH--frame begin /str exch def 0 STRWIDTH--FR-4
begin /res exch def gsave newpath 0 0
moveto /str load false showstr-1 pathbbox
STRWIDTH--FR-5 begin /ury exch def /urx exch
def /lly exch def /llx exch def /res /urx
load /llx load sub store end grestore /res
load end end } def /showstr-center {
SHOWSTR-CENTER--frame begin /str exch def /str load
strwidth SHOWSTR-CENTER--FR-6 begin /width exch def
/width load neg 2.0 div 0 rmoveto /str load
showstr end end } def /make-box { MAKE-BOX--frame
begin /y exch def /x exch def /lab exch def
/x load /y load moveto /lab load showstr-center
[ /x load /y load 0 ] end } def
/make-line { MAKE-LINE--frame begin /n exch def /i
exch def /from-box exch def /to-box exch def
0.6 setlinewidth /*line-spacing* load /i load /n
load 1 sub -0.5 mul add mul MAKE-LINE--FR-7
begin /offset exch def /offset load /from-box load
0 get add MAKE-LINE--FR-8 begin /from-x exch
def /*box-bottom* load /from-box load 1 get add
MAKE-LINE--FR-9 begin /from-y exch def /to-box
load 0 get MAKE-LINE--FR-10 begin /to-x exch
def /to-box load 1 get /*box-height* load add
MAKE-LINE--FR-11 begin /to-y exch def /from-x
load /from-y load moveto /to-x load /to-y load
lineto stroke /to-box load 2 [ /from-x load
/from-y load /to-x load /to-y load ] put end
end end end end end } def /write-lab {
WRITE-LAB--frame begin /dy exch def /dx exch def
/pos exch def /str exch def /arrow exch def
/arrow load 2 get /str load strwidth 0 0
WRITE-LAB--FR-12 begin /y exch def /x exch
def /width exch def /c exch def /c load 0
get /c load 1 get /c load 2 get /c
load 3 get WRITE-LAB--FR-13 begin /bot-y exch
def /bot-x exch def /top-y exch def /top-x exch
def /top-x load /bot-x load add 2.0 div
WRITE-LAB--FR-14 begin /mid-x exch def /top-y
load /bot-y load add 2.0 div WRITE-LAB--FR-15
begin /mid-y exch def /pos load /ur eq { /x
/top-x load 5 add store /y /top-y load 10
sub store } { /pos load /ul eq { /x /top-x
load /width load sub 6 sub store /y /top-y
load 10 sub store } { /pos load /cr eq
{ /x /mid-x load 5 add store /y /mid-y load
5 sub store } { /pos load /cl eq { /x
/mid-x load /width load sub 6 sub store /y
/mid-y load 5 sub store } { /pos load /lr
eq { /x /bot-x load 5 add store /y /bot-y
load 3 add store } { /pos load /ll eq
{ /x /bot-x load /width load sub 6 sub
store /y /bot-y load 3 add store } if }
ifelse } ifelse } ifelse } ifelse } ifelse
/x load /dx load add /y load /dy load add
moveto /str load showstr end end end end end
} def /*lr1 ($letrec f =) 200 250 make-box store
/*lam ($\\x) 200 200 make-box store /*app1 ($@)
200 150 make-box store /*plus1 (<$+&,t_2>) 150 100
make-box store /*x1 ($x) 200 100 make-box store
/*app2 ($@) 250 100 make-box store /*rc (<$f&,t_2>)
225 50 make-box store /*x2 ($x) 275 50
make-box store /*lam load /*lr1 load 0 1
make-line /*app1 load /*lam load 0 1
make-line /*plus1 load /*app1 load 0 3
make-line /*x1 load /*app1 load 1 3 make-line
/*app2 load /*app1 load 2 3 make-line /*rc
load /*app2 load 0 2 make-line /*x2 load
/*app2 load 1 2 make-line 120 230 moveto
(Context:  $Num& t_2) showstr /*lam load (t_2^t_2) /cr
0 0 write-lab /*app1 load (t_2) /cr 0 0
write-lab /*plus1 load (t_2^t_2^t_2) /cl -12 0
write-lab /*x1 load (t_2) /cr 0 0 write-lab
/*app2 load (t_2) /cr 6 2 write-lab /*rc load
(t_2^t_2) /cl -4 0 write-lab /*x2 load (t_2) /cr
0 2 write-lab
end
%%EndDocument
 @endspecial 52 x(The)f(t)o(yp)q(e)g(in)g(the)g(placeholder)i(asso)q(ciated)g
(with)e Fe(+)f Fg(is)h(part)g(of)f(the)1020 1112 y(parameter)19
b(en)o(vironmen)o(t.)36 b(This)19 b(indicates)h(that)f(a)g(dictionary)1020
1154 y(passed)e(in)o(to)h Fe(f)e Fg(will)i(con)o(tain)f(the)g(implemen)o
(tation)i(of)e Fe(+)e Fg(appro-)1020 1195 y(priate)k(for)f(the)h(parameter)g
Fe(x)o Fg(.)33 b(A)o(t)18 b(execution)i(time,)f(the)g Fe(sel+)1020
1237 y Fg(function)14 b(will)g(retriev)o(e)f(this)g(addition)i(function)e
(from)f(the)h(dictio-)1020 1278 y(nary)m(.)1020 1330 y(This)j(is)g(the)f
(simplest)j(translation)f(in)f(whic)o(h)h(the)e(recursiv)o(e)i(call)1020
1372 y(passes)f(the)g(dictionary)i Fe(d)d Fg(unc)o(hanged.)26
b(A)15 b(b)q(etter)h(c)o(hoice)g(w)o(ould)1020 1413 y(ha)o(v)o(e)c(b)q(een)h
(to)e(create)h(an)g(inner)h(en)o(try)f(to)g Fe(f)f Fg(after)h
Fe(d)f Fg(is)h(b)q(ound)h(and)1020 1455 y(use)g(this)h(for)f(the)g(recursiv)o
(e)i(call)f(to)f(a)o(v)o(oid)h(passing)h Fe(d)d Fg(rep)q(eatedly)m(.)1020
2591 y @beginspecial 80 @llx 20 @lly 300 @urx 290 @ury 2200
@rwi @setspecial
%%BeginDocument: fig3.ps
100 dict begin
/SHOWSTR-1--FR-1 2 dict def /MAKE-BOX--frame
3 dict def /**MAIN**--FR-2 1 dict def
/WRITE-LAB--FR-14 1 dict def /STRWIDTH--frame 1
dict def /TEMP--FR-3 1 dict def
/STRWIDTH--FR-4 1 dict def /SHOWCHR--frame 2
dict def /STRWIDTH--FR-5 4 dict def
/SHOWSTR-CENTER--FR-6 1 dict def /WRITE-LAB--frame
5 dict def /MAKE-LINE--FR-7 1 dict def
/MAKE-LINE--FR-8 1 dict def /SHOWSTR-1--frame
2 dict def /SHOWSTR--frame 1 dict def
/MAKE-LINE--frame 4 dict def /MAKE-LINE--FR-10
1 dict def /MAKE-LINE--FR-11 1 dict def
/WRITE-LAB--FR-12 4 dict def /SHOWSTR-CENTER--frame
1 dict def /WRITE-LAB--FR-13 4 dict def
/ITOC--frame 1 dict def /WRITE-LAB--FR-15 1
dict def /CCODE--frame 1 dict def /MAKE-LINE--FR-9
1 dict def /*label-size* 9 def /*sub-size*
6 def /*sub-font* /Times-Roman findfont /*sub-size*
load scalefont def /*std-font* /Times-Roman findfont
/*label-size* load scalefont def /*tt-font*
/Courier-Bold findfont /*label-size* load scalefont def
/*sym-font* /Symbol findfont /*label-size* load
scalefont def /*subscript-drop* /*sub-size* load 0.4
mul neg def /*char* ( ) def /*box-height* 10
def /*line-spacing* 10 def /*box-bottom* -5 def
/*lr1 0 def /*lam 0 def /*lam2 0 def
/*app1 0 def /*app2 0 def /sel 0 def
/dic 0 def /*x1 0 def /*app3 0 def
/*app4 0 def /*rc 0 def /*d2 0 def /*x2
0 def /str 0 def /insub 0 def /cfont
0 def /show? 0 def /showstr { SHOWSTR--frame
begin /str exch def /str load true showstr-1
end } def /ccode { CCODE--frame begin /x exch
def /x load 0 get end } def /itoc {
ITOC--frame begin /x exch def /*char* load 0
/x load put /*char* load end } def /showstr-1
{ SHOWSTR-1--frame begin /show? exch def /str
exch def /*std-font* load false SHOWSTR-1--FR-1
begin /insub exch def /cfont exch def /cfont
load setfont 0 1 /str load length 1 sub
{ **MAIN**--FR-2 begin /i exch def /str
load /i load get TEMP--FR-3 begin /ch
exch def /insub load { /ch load (0) ccode ge
{ /ch load (9) ccode le } { false }
ifelse not { /insub false store /cfont load
setfont 0 /*subscript-drop* load neg rmoveto }
if } if /ch load (_) ccode eq { /*sub-font*
load setfont 0 /*subscript-drop* load rmoveto
/insub true store } { /ch load (^) ccode eq
{ /*sym-font* load setfont 174 /show? load
showchr /cfont load setfont } { /ch load ($)
ccode eq { /cfont /*tt-font* load store /cfont
load setfont } { /ch load (&) ccode eq {
/cfont /*std-font* load store /cfont load setfont
} { /ch load /show? load showchr } ifelse }
ifelse } ifelse } ifelse end end } for
end end } def /showchr { SHOWCHR--frame begin
/show? exch def /x exch def /show? load { /x
load itoc show } { /x load itoc true
charpath } ifelse end } def /strwidth {
STRWIDTH--frame begin /str exch def 0 STRWIDTH--FR-4
begin /res exch def gsave newpath 0 0
moveto /str load false showstr-1 pathbbox
STRWIDTH--FR-5 begin /ury exch def /urx exch
def /lly exch def /llx exch def /res /urx
load /llx load sub store end grestore /res
load end end } def /showstr-center {
SHOWSTR-CENTER--frame begin /str exch def /str load
strwidth SHOWSTR-CENTER--FR-6 begin /width exch def
/width load neg 2.0 div 0 rmoveto /str load
showstr end end } def /make-box { MAKE-BOX--frame
begin /y exch def /x exch def /lab exch def
/x load /y load moveto /lab load showstr-center
[ /x load /y load 0 ] end } def
/make-line { MAKE-LINE--frame begin /n exch def /i
exch def /from-box exch def /to-box exch def
0.6 setlinewidth /*line-spacing* load /i load /n
load 1 sub -0.5 mul add mul MAKE-LINE--FR-7
begin /offset exch def /offset load /from-box load
0 get add MAKE-LINE--FR-8 begin /from-x exch
def /*box-bottom* load /from-box load 1 get add
MAKE-LINE--FR-9 begin /from-y exch def /to-box
load 0 get MAKE-LINE--FR-10 begin /to-x exch
def /to-box load 1 get /*box-height* load add
MAKE-LINE--FR-11 begin /to-y exch def /from-x
load /from-y load moveto /to-x load /to-y load
lineto stroke /to-box load 2 [ /from-x load
/from-y load /to-x load /to-y load ] put end
end end end end end } def /write-lab {
WRITE-LAB--frame begin /dy exch def /dx exch def
/pos exch def /str exch def /arrow exch def
/arrow load 2 get /str load strwidth 0 0
WRITE-LAB--FR-12 begin /y exch def /x exch
def /width exch def /c exch def /c load 0
get /c load 1 get /c load 2 get /c
load 3 get WRITE-LAB--FR-13 begin /bot-y exch
def /bot-x exch def /top-y exch def /top-x exch
def /top-x load /bot-x load add 2.0 div
WRITE-LAB--FR-14 begin /mid-x exch def /top-y
load /bot-y load add 2.0 div WRITE-LAB--FR-15
begin /mid-y exch def /pos load /ur eq { /x
/top-x load 5 add store /y /top-y load 10
sub store } { /pos load /ul eq { /x /top-x
load /width load sub 6 sub store /y /top-y
load 10 sub store } { /pos load /cr eq
{ /x /mid-x load 5 add store /y /mid-y load
5 sub store } { /pos load /cl eq { /x
/mid-x load /width load sub 6 sub store /y
/mid-y load 5 sub store } { /pos load /lr
eq { /x /bot-x load 5 add store /y /bot-y
load 3 add store } { /pos load /ll eq
{ /x /bot-x load /width load sub 6 sub
store /y /bot-y load 3 add store } if }
ifelse } ifelse } ifelse } ifelse } ifelse
/x load /dx load add /y load /dy load add
moveto /str load showstr end end end end end
} def /*lr1 ($letrec f =) 200 250 make-box store
/*lam ($\\d) 200 215 make-box store /*lam2 ($\\x)
200 180 make-box store /*app1 ($@) 200 145
make-box store /*app2 ($@) 150 110 make-box store
/sel ($sel+) 130 75 make-box store /dic ($d) 170
75 make-box store /*x1 ($x) 200 110 make-box
store /*app3 ($@) 250 110 make-box store /*app4
($@) 225 75 make-box store /*rc ($f) 200 40
make-box store /*d2 ($d) 250 40 make-box store
/*x2 ($x) 275 75 make-box store /*lam load /*lr1
load 0 1 make-line /*lam2 load /*lam load
0 1 make-line /*app1 load /*lam2 load 0
1 make-line /*app2 load /*app1 load 0 3
make-line /sel load /*app2 load 0 2 make-line
/dic load /*app2 load 1 2 make-line /*x1
load /*app1 load 1 3 make-line /*app3 load
/*app1 load 2 3 make-line /*app4 load /*app3
load 0 2 make-line /*rc load /*app4 load
0 2 make-line /*d2 load /*app4 load 1
2 make-line /*x2 load /*app3 load 1 2
make-line
end
%%EndDocument
 @endspecial eop
%%Page: 7 7
7 6 bop -76 -34 a Fg(The)10 b(next)g(example)i(uses)e(a)g(previously)j
(de\014ned)e(o)o(v)o(erloaded)h(func-)-76 7 y(tion,)19 b Fe(length)n
Fg(,)f(with)g(t)o(yp)q(e)f Fe([a])i(->)g(Int)o Fg(.)29 b(The)18
b(necessary)g(class)-76 49 y(and)12 b(instance)h(declarations)g(are)f
(included.)18 b(W)m(e)12 b(will)g(use)g(the)f(con-)-76 90 y(v)o(en)o(tion)k
(that)e(dictionaries)j(are)d(named)h Fe(d-)o Ff(class)q Fe(-)p
Ff(typ)n(e)r Fg(.)-56 179 y Fe(class)j(Text)i(a)g(where)e(print)h(::)h(a)g
(->)g(String)-56 262 y(instance)d(\(Text)i(a,)h(Text)f(b\))h(=>)g(Text)f
(\(a,b\))f(where)22 303 y(print)h(=)h(print-tupl)o(e2)-56 386
y(instance)d(Text)i(Int)h(where)f(....)-56 428 y(instance)e(Text)i(a)i(=>)e
(Text)h([a])f(where)g(....)-56 511 y(g)h(=)g(\\x)g(->)g(print)f(\(x,length)e
(x\))-76 600 y Fg(After)d(placeholder)i(insertion)g(and)f(t)o(yp)q(e)g(v)n
(ariable)h(instan)o(tiation:)-76 1507 y @beginspecial 80 @llx
95 @lly 310 @urx 310 @ury 2300 @rwi @setspecial
%%BeginDocument: fig4.ps
100 dict begin
/SHOWSTR-1--FR-1 2 dict def /MAKE-BOX--frame
3 dict def /**MAIN**--FR-2 1 dict def
/WRITE-LAB--FR-14 1 dict def /STRWIDTH--frame 1
dict def /TEMP--FR-3 1 dict def
/STRWIDTH--FR-4 1 dict def /SHOWCHR--frame 2
dict def /STRWIDTH--FR-5 4 dict def
/SHOWSTR-CENTER--FR-6 1 dict def /WRITE-LAB--frame
5 dict def /MAKE-LINE--FR-7 1 dict def
/MAKE-LINE--FR-8 1 dict def /SHOWSTR-1--frame
2 dict def /SHOWSTR--frame 1 dict def
/MAKE-LINE--frame 4 dict def /MAKE-LINE--FR-10
1 dict def /MAKE-LINE--FR-11 1 dict def
/WRITE-LAB--FR-12 4 dict def /SHOWSTR-CENTER--frame
1 dict def /WRITE-LAB--FR-13 4 dict def
/ITOC--frame 1 dict def /WRITE-LAB--FR-15 1
dict def /CCODE--frame 1 dict def /MAKE-LINE--FR-9
1 dict def /*label-size* 9 def /*sub-size*
6 def /*sub-font* /Times-Roman findfont /*sub-size*
load scalefont def /*std-font* /Times-Roman findfont
/*label-size* load scalefont def /*tt-font*
/Courier-Bold findfont /*label-size* load scalefont def
/*sym-font* /Symbol findfont /*label-size* load
scalefont def /*subscript-drop* /*sub-size* load 0.4
mul neg def /*char* ( ) def /*box-height* 10
def /*line-spacing* 10 def /*box-bottom* -5 def
/b1* 0 def /b2* 0 def /b3* 0 def /b4*
0 def /b5* 0 def /b6* 0 def /b7* 0
def /b8* 0 def /str 0 def /insub 0 def
/cfont 0 def /show? 0 def /showstr {
SHOWSTR--frame begin /str exch def /str load true
showstr-1 end } def /ccode { CCODE--frame begin
/x exch def /x load 0 get end } def
/itoc { ITOC--frame begin /x exch def /*char*
load 0 /x load put /*char* load end } def
/showstr-1 { SHOWSTR-1--frame begin /show? exch def
/str exch def /*std-font* load false SHOWSTR-1--FR-1
begin /insub exch def /cfont exch def /cfont
load setfont 0 1 /str load length 1 sub
{ **MAIN**--FR-2 begin /i exch def /str
load /i load get TEMP--FR-3 begin /ch
exch def /insub load { /ch load (0) ccode ge
{ /ch load (9) ccode le } { false }
ifelse not { /insub false store /cfont load
setfont 0 /*subscript-drop* load neg rmoveto }
if } if /ch load (_) ccode eq { /*sub-font*
load setfont 0 /*subscript-drop* load rmoveto
/insub true store } { /ch load (^) ccode eq
{ /*sym-font* load setfont 174 /show? load
showchr /cfont load setfont } { /ch load ($)
ccode eq { /cfont /*tt-font* load store /cfont
load setfont } { /ch load (&) ccode eq {
/cfont /*std-font* load store /cfont load setfont
} { /ch load /show? load showchr } ifelse }
ifelse } ifelse } ifelse end end } for
end end } def /showchr { SHOWCHR--frame begin
/show? exch def /x exch def /show? load { /x
load itoc show } { /x load itoc true
charpath } ifelse end } def /strwidth {
STRWIDTH--frame begin /str exch def 0 STRWIDTH--FR-4
begin /res exch def gsave newpath 0 0
moveto /str load false showstr-1 pathbbox
STRWIDTH--FR-5 begin /ury exch def /urx exch
def /lly exch def /llx exch def /res /urx
load /llx load sub store end grestore /res
load end end } def /showstr-center {
SHOWSTR-CENTER--frame begin /str exch def /str load
strwidth SHOWSTR-CENTER--FR-6 begin /width exch def
/width load neg 2.0 div 0 rmoveto /str load
showstr end end } def /make-box { MAKE-BOX--frame
begin /y exch def /x exch def /lab exch def
/x load /y load moveto /lab load showstr-center
[ /x load /y load 0 ] end } def
/make-line { MAKE-LINE--frame begin /n exch def /i
exch def /from-box exch def /to-box exch def
0.6 setlinewidth /*line-spacing* load /i load /n
load 1 sub -0.5 mul add mul MAKE-LINE--FR-7
begin /offset exch def /offset load /from-box load
0 get add MAKE-LINE--FR-8 begin /from-x exch
def /*box-bottom* load /from-box load 1 get add
MAKE-LINE--FR-9 begin /from-y exch def /to-box
load 0 get MAKE-LINE--FR-10 begin /to-x exch
def /to-box load 1 get /*box-height* load add
MAKE-LINE--FR-11 begin /to-y exch def /from-x
load /from-y load moveto /to-x load /to-y load
lineto stroke /to-box load 2 [ /from-x load
/from-y load /to-x load /to-y load ] put end
end end end end end } def /write-lab {
WRITE-LAB--frame begin /dy exch def /dx exch def
/pos exch def /str exch def /arrow exch def
/arrow load 2 get /str load strwidth 0 0
WRITE-LAB--FR-12 begin /y exch def /x exch
def /width exch def /c exch def /c load 0
get /c load 1 get /c load 2 get /c
load 3 get WRITE-LAB--FR-13 begin /bot-y exch
def /bot-x exch def /top-y exch def /top-x exch
def /top-x load /bot-x load add 2.0 div
WRITE-LAB--FR-14 begin /mid-x exch def /top-y
load /bot-y load add 2.0 div WRITE-LAB--FR-15
begin /mid-y exch def /pos load /ur eq { /x
/top-x load 5 add store /y /top-y load 10
sub store } { /pos load /ul eq { /x /top-x
load /width load sub 6 sub store /y /top-y
load 10 sub store } { /pos load /cr eq
{ /x /mid-x load 5 add store /y /mid-y load
5 sub store } { /pos load /cl eq { /x
/mid-x load /width load sub 6 sub store /y
/mid-y load 5 sub store } { /pos load /lr
eq { /x /bot-x load 5 add store /y /bot-y
load 3 add store } { /pos load /ll eq
{ /x /bot-x load /width load sub 6 sub
store /y /bot-y load 3 add store } if }
ifelse } ifelse } ifelse } ifelse } ifelse
/x load /dx load add /y load /dy load add
moveto /str load showstr end end end end end
} def /b1* ($let g =) 200 300 make-box store
/b2* ($\\x) 200 260 make-box store /b3* ($@) 200
220 make-box store /b4* (<$print&,t_5>) 175 180
make-box store /b5* ($2-tuple) 225 180 make-box
store /b6* ($x) 200 140 make-box store /b7*
($length) 250 140 make-box store /b8* ($x) 250
100 make-box store /b2* load /b1* load 0 1
make-line /b3* load /b2* load 0 1 make-line
/b4* load /b3* load 0 2 make-line /b5* load
/b3* load 1 2 make-line /b6* load /b5* load
0 2 make-line /b7* load /b5* load 1 2
make-line /b8* load /b7* load 0 1 make-line
90 265 moveto (Context: $Text&  t_5) showstr /b2*
load (t_1^t_2) /lr 0 0 write-lab /b3* load
(t_2) /ur 0 0 write-lab /b3* load (t_4) /lr
0 0 write-lab /b4* load (t_3^t_4) /ul -8
0 write-lab /b4* load (t_5^ $String) /ll 0 0
write-lab /b5* load (t_3) /ur 7 0 write-lab
/b5* load ($\(&t_6$,&t_7$\)) /lr 0 0 write-lab
/b6* load (t_6) /ul -8 0 write-lab /b6* load
(t_1) /ll 0 0 write-lab /b7* load (t_7) /ur
6 0 write-lab /b7* load ($Int) /lr 0 0
write-lab /b8* load ($[&t_8$]) /ur 0 0
write-lab /b8* load (t_1) /lr 0 0 write-lab
end
%%EndDocument
 @endspecial 52 x(After)e(uni\014cation,)i(this)f(b)q(ecomes:)-76
2570 y @beginspecial 80 @llx 80 @lly 300 @urx 320 @ury 2200
@rwi @setspecial
%%BeginDocument: fig5.ps
100 dict begin
/SHOWSTR-1--FR-1 2 dict def /MAKE-BOX--frame
3 dict def /**MAIN**--FR-2 1 dict def
/WRITE-LAB--FR-14 1 dict def /STRWIDTH--frame 1
dict def /TEMP--FR-3 1 dict def
/STRWIDTH--FR-4 1 dict def /SHOWCHR--frame 2
dict def /STRWIDTH--FR-5 4 dict def
/SHOWSTR-CENTER--FR-6 1 dict def /WRITE-LAB--frame
5 dict def /MAKE-LINE--FR-7 1 dict def
/MAKE-LINE--FR-8 1 dict def /SHOWSTR-1--frame
2 dict def /SHOWSTR--frame 1 dict def
/MAKE-LINE--frame 4 dict def /MAKE-LINE--FR-10
1 dict def /MAKE-LINE--FR-11 1 dict def
/WRITE-LAB--FR-12 4 dict def /SHOWSTR-CENTER--frame
1 dict def /WRITE-LAB--FR-13 4 dict def
/ITOC--frame 1 dict def /WRITE-LAB--FR-15 1
dict def /CCODE--frame 1 dict def /MAKE-LINE--FR-9
1 dict def /*label-size* 9 def /*sub-size*
6 def /*sub-font* /Times-Roman findfont /*sub-size*
load scalefont def /*std-font* /Times-Roman findfont
/*label-size* load scalefont def /*tt-font*
/Courier-Bold findfont /*label-size* load scalefont def
/*sym-font* /Symbol findfont /*label-size* load
scalefont def /*subscript-drop* /*sub-size* load 0.4
mul neg def /*char* ( ) def /*box-height* 10
def /*line-spacing* 10 def /*box-bottom* -5 def
/b1* 0 def /b2* 0 def /b3* 0 def /b4*
0 def /b5* 0 def /b6* 0 def /b7* 0
def /b8* 0 def /str 0 def /insub 0 def
/cfont 0 def /show? 0 def /showstr {
SHOWSTR--frame begin /str exch def /str load true
showstr-1 end } def /ccode { CCODE--frame begin
/x exch def /x load 0 get end } def
/itoc { ITOC--frame begin /x exch def /*char*
load 0 /x load put /*char* load end } def
/showstr-1 { SHOWSTR-1--frame begin /show? exch def
/str exch def /*std-font* load false SHOWSTR-1--FR-1
begin /insub exch def /cfont exch def /cfont
load setfont 0 1 /str load length 1 sub
{ **MAIN**--FR-2 begin /i exch def /str
load /i load get TEMP--FR-3 begin /ch
exch def /insub load { /ch load (0) ccode ge
{ /ch load (9) ccode le } { false }
ifelse not { /insub false store /cfont load
setfont 0 /*subscript-drop* load neg rmoveto }
if } if /ch load (_) ccode eq { /*sub-font*
load setfont 0 /*subscript-drop* load rmoveto
/insub true store } { /ch load (^) ccode eq
{ /*sym-font* load setfont 174 /show? load
showchr /cfont load setfont } { /ch load ($)
ccode eq { /cfont /*tt-font* load store /cfont
load setfont } { /ch load (&) ccode eq {
/cfont /*std-font* load store /cfont load setfont
} { /ch load /show? load showchr } ifelse }
ifelse } ifelse } ifelse end end } for
end end } def /showchr { SHOWCHR--frame begin
/show? exch def /x exch def /show? load { /x
load itoc show } { /x load itoc true
charpath } ifelse end } def /strwidth {
STRWIDTH--frame begin /str exch def 0 STRWIDTH--FR-4
begin /res exch def gsave newpath 0 0
moveto /str load false showstr-1 pathbbox
STRWIDTH--FR-5 begin /ury exch def /urx exch
def /lly exch def /llx exch def /res /urx
load /llx load sub store end grestore /res
load end end } def /showstr-center {
SHOWSTR-CENTER--frame begin /str exch def /str load
strwidth SHOWSTR-CENTER--FR-6 begin /width exch def
/width load neg 2.0 div 0 rmoveto /str load
showstr end end } def /make-box { MAKE-BOX--frame
begin /y exch def /x exch def /lab exch def
/x load /y load moveto /lab load showstr-center
[ /x load /y load 0 ] end } def
/make-line { MAKE-LINE--frame begin /n exch def /i
exch def /from-box exch def /to-box exch def
0.6 setlinewidth /*line-spacing* load /i load /n
load 1 sub -0.5 mul add mul MAKE-LINE--FR-7
begin /offset exch def /offset load /from-box load
0 get add MAKE-LINE--FR-8 begin /from-x exch
def /*box-bottom* load /from-box load 1 get add
MAKE-LINE--FR-9 begin /from-y exch def /to-box
load 0 get MAKE-LINE--FR-10 begin /to-x exch
def /to-box load 1 get /*box-height* load add
MAKE-LINE--FR-11 begin /to-y exch def /from-x
load /from-y load moveto /to-x load /to-y load
lineto stroke /to-box load 2 [ /from-x load
/from-y load /to-x load /to-y load ] put end
end end end end end } def /write-lab {
WRITE-LAB--frame begin /dy exch def /dx exch def
/pos exch def /str exch def /arrow exch def
/arrow load 2 get /str load strwidth 0 0
WRITE-LAB--FR-12 begin /y exch def /x exch
def /width exch def /c exch def /c load 0
get /c load 1 get /c load 2 get /c
load 3 get WRITE-LAB--FR-13 begin /bot-y exch
def /bot-x exch def /top-y exch def /top-x exch
def /top-x load /bot-x load add 2.0 div
WRITE-LAB--FR-14 begin /mid-x exch def /top-y
load /bot-y load add 2.0 div WRITE-LAB--FR-15
begin /mid-y exch def /pos load /ur eq { /x
/top-x load 5 add store /y /top-y load 10
sub store } { /pos load /ul eq { /x /top-x
load /width load sub 6 sub store /y /top-y
load 10 sub store } { /pos load /cr eq
{ /x /mid-x load 5 add store /y /mid-y load
5 sub store } { /pos load /cl eq { /x
/mid-x load /width load sub 6 sub store /y
/mid-y load 5 sub store } { /pos load /lr
eq { /x /bot-x load 5 add store /y /bot-y
load 3 add store } { /pos load /ll eq
{ /x /bot-x load /width load sub 6 sub
store /y /bot-y load 3 add store } if }
ifelse } ifelse } ifelse } ifelse } ifelse
/x load /dx load add /y load /dy load add
moveto /str load showstr end end end end end
} def /b1* ($let g =) 200 300 make-box store
/b2* ($\\x) 200 260 make-box store /b3* ($@) 200
220 make-box store /b4* (<$print&,$\([&t_8$],Int\)&>) 175
180 make-box store /b5* ($2-tuple) 260 160
make-box store /b6* ($x) 235 120 make-box store
/b7* ($length) 285 120 make-box store /b8* ($x)
285 90 make-box store /b2* load /b1* load 0
1 make-line /b3* load /b2* load 0 1
make-line /b4* load /b3* load 0 2 make-line
/b5* load /b3* load 1 2 make-line /b6* load
/b5* load 0 2 make-line /b7* load /b5* load
1 2 make-line /b8* load /b7* load 0 1
make-line 90 265 moveto (Context:  $Text& t_5) showstr
/b2* load ($[&t_8$]^String) /cl -20 0 write-lab
/b3* load ($String) /cl 0 0 write-lab /b4*
load ($\([&t_8$],Int\)^String) /cl -14 0 write-lab
/b5* load ($\([&t_8$],Int\)) /cr 6 0 write-lab
/b6* load ($[&t_8$]) /cl -4 0 write-lab /b7*
load ($Int) /cr 4 0 write-lab /b8* load
($[&t_8$]) /cr 0 0 write-lab
end
%%EndDocument
 @endspecial 52 x(The)e(placeholder)i(is)e(resolv)o(ed)h(to)f(a)f(sp)q
(eci\014c)i(prin)o(ter)g(for)e(2-tuples.)1020 -34 y(As)e(this)i(function)g
(is)f(o)o(v)o(erloaded,)i(further)e(placeholder)j(resolution)1020
7 y(is)j(required)h(for)f(the)g(t)o(yp)q(es)g(asso)q(ciated)h(with)f(the)g
(tuple)h(comp)q(o-)1020 49 y(nen)o(ts.)1020 1032 y @beginspecial
55 @llx 75 @lly 300 @urx 310 @ury 2450 @rwi @setspecial
%%BeginDocument: fig6.ps
100 dict begin
/SHOWSTR-1--FR-1 2 dict def /MAKE-BOX--frame
3 dict def /**MAIN**--FR-2 1 dict def
/WRITE-LAB--FR-14 1 dict def /STRWIDTH--frame 1
dict def /TEMP--FR-3 1 dict def
/STRWIDTH--FR-4 1 dict def /SHOWCHR--frame 2
dict def /STRWIDTH--FR-5 4 dict def
/SHOWSTR-CENTER--FR-6 1 dict def /WRITE-LAB--frame
5 dict def /MAKE-LINE--FR-7 1 dict def
/MAKE-LINE--FR-8 1 dict def /SHOWSTR-1--frame
2 dict def /SHOWSTR--frame 1 dict def
/MAKE-LINE--frame 4 dict def /MAKE-LINE--FR-10
1 dict def /MAKE-LINE--FR-11 1 dict def
/WRITE-LAB--FR-12 4 dict def /SHOWSTR-CENTER--frame
1 dict def /WRITE-LAB--FR-13 4 dict def
/ITOC--frame 1 dict def /WRITE-LAB--FR-15 1
dict def /CCODE--frame 1 dict def /MAKE-LINE--FR-9
1 dict def /*label-size* 9 def /*sub-size*
6 def /*sub-font* /Times-Roman findfont /*sub-size*
load scalefont def /*std-font* /Times-Roman findfont
/*label-size* load scalefont def /*tt-font*
/Courier-Bold findfont /*label-size* load scalefont def
/*sym-font* /Symbol findfont /*label-size* load
scalefont def /*subscript-drop* /*sub-size* load 0.4
mul neg def /*char* ( ) def /*box-height* 10
def /*line-spacing* 10 def /*box-bottom* -5 def
/b1* 0 def /b2* 0 def /b3* 0 def /b4*
0 def /b5* 0 def /b6* 0 def /b9* 0
def /b10* 0 def /b11* 0 def /b12* 0
def /b13* 0 def /b14* 0 def /b15* 0
def /b16* 0 def /str 0 def /insub 0
def /cfont 0 def /show? 0 def /showstr {
SHOWSTR--frame begin /str exch def /str load true
showstr-1 end } def /ccode { CCODE--frame begin
/x exch def /x load 0 get end } def
/itoc { ITOC--frame begin /x exch def /*char*
load 0 /x load put /*char* load end } def
/showstr-1 { SHOWSTR-1--frame begin /show? exch def
/str exch def /*std-font* load false SHOWSTR-1--FR-1
begin /insub exch def /cfont exch def /cfont
load setfont 0 1 /str load length 1 sub
{ **MAIN**--FR-2 begin /i exch def /str
load /i load get TEMP--FR-3 begin /ch
exch def /insub load { /ch load (0) ccode ge
{ /ch load (9) ccode le } { false }
ifelse not { /insub false store /cfont load
setfont 0 /*subscript-drop* load neg rmoveto }
if } if /ch load (_) ccode eq { /*sub-font*
load setfont 0 /*subscript-drop* load rmoveto
/insub true store } { /ch load (^) ccode eq
{ /*sym-font* load setfont 174 /show? load
showchr /cfont load setfont } { /ch load ($)
ccode eq { /cfont /*tt-font* load store /cfont
load setfont } { /ch load (&) ccode eq {
/cfont /*std-font* load store /cfont load setfont
} { /ch load /show? load showchr } ifelse }
ifelse } ifelse } ifelse end end } for
end end } def /showchr { SHOWCHR--frame begin
/show? exch def /x exch def /show? load { /x
load itoc show } { /x load itoc true
charpath } ifelse end } def /strwidth {
STRWIDTH--frame begin /str exch def 0 STRWIDTH--FR-4
begin /res exch def gsave newpath 0 0
moveto /str load false showstr-1 pathbbox
STRWIDTH--FR-5 begin /ury exch def /urx exch
def /lly exch def /llx exch def /res /urx
load /llx load sub store end grestore /res
load end end } def /showstr-center {
SHOWSTR-CENTER--frame begin /str exch def /str load
strwidth SHOWSTR-CENTER--FR-6 begin /width exch def
/width load neg 2.0 div 0 rmoveto /str load
showstr end end } def /make-box { MAKE-BOX--frame
begin /y exch def /x exch def /lab exch def
/x load /y load moveto /lab load showstr-center
[ /x load /y load 0 ] end } def
/make-line { MAKE-LINE--frame begin /n exch def /i
exch def /from-box exch def /to-box exch def
0.6 setlinewidth /*line-spacing* load /i load /n
load 1 sub -0.5 mul add mul MAKE-LINE--FR-7
begin /offset exch def /offset load /from-box load
0 get add MAKE-LINE--FR-8 begin /from-x exch
def /*box-bottom* load /from-box load 1 get add
MAKE-LINE--FR-9 begin /from-y exch def /to-box
load 0 get MAKE-LINE--FR-10 begin /to-x exch
def /to-box load 1 get /*box-height* load add
MAKE-LINE--FR-11 begin /to-y exch def /from-x
load /from-y load moveto /to-x load /to-y load
lineto stroke /to-box load 2 [ /from-x load
/from-y load /to-x load /to-y load ] put end
end end end end end } def /write-lab {
WRITE-LAB--frame begin /dy exch def /dx exch def
/pos exch def /str exch def /arrow exch def
/arrow load 2 get /str load strwidth 0 0
WRITE-LAB--FR-12 begin /y exch def /x exch
def /width exch def /c exch def /c load 0
get /c load 1 get /c load 2 get /c
load 3 get WRITE-LAB--FR-13 begin /bot-y exch
def /bot-x exch def /top-y exch def /top-x exch
def /top-x load /bot-x load add 2.0 div
WRITE-LAB--FR-14 begin /mid-x exch def /top-y
load /bot-y load add 2.0 div WRITE-LAB--FR-15
begin /mid-y exch def /pos load /ur eq { /x
/top-x load 5 add store /y /top-y load 10
sub store } { /pos load /ul eq { /x /top-x
load /width load sub 6 sub store /y /top-y
load 10 sub store } { /pos load /cr eq
{ /x /mid-x load 5 add store /y /mid-y load
5 sub store } { /pos load /cl eq { /x
/mid-x load /width load sub 6 sub store /y
/mid-y load 5 sub store } { /pos load /lr
eq { /x /bot-x load 5 add store /y /bot-y
load 3 add store } { /pos load /ll eq
{ /x /bot-x load /width load sub 6 sub
store /y /bot-y load 3 add store } if }
ifelse } ifelse } ifelse } ifelse } ifelse
/x load /dx load add /y load /dy load add
moveto /str load showstr end end end end end
} def /b1* ($let g =) 200 285 make-box store
/b2* ($\\d) 200 255 make-box store /b3* ($\\x) 200
225 make-box store /b4* ($@) 200 195 make-box
store /b5* ($@) 150 160 make-box store /b6*
($print-tuple2) 100 125 make-box store /b9* ($@) 150
125 make-box store /b10* ($d-Text-List) 125 90
make-box store /b11* ($d) 175 90 make-box store
/b12* ($d-Text-Int) 200 125 make-box store /b13*
($2-tuple) 250 145 make-box store /b14* ($x) 240
110 make-box store /b15* ($length) 265 110
make-box store /b16* ($x) 265 75 make-box store
/b2* load /b1* load 0 1 make-line /b3* load
/b2* load 0 1 make-line /b4* load /b3* load
0 1 make-line /b5* load /b4* load 0 2
make-line /b6* load /b5* load 0 3 make-line
/b9* load /b5* load 1 3 make-line /b10*
load /b9* load 0 2 make-line /b11* load
/b9* load 1 2 make-line /b12* load /b5*
load 2 3 make-line /b13* load /b4* load
1 2 make-line /b14* load /b13* load 0
2 make-line /b15* load /b13* load 1 2
make-line /b16* load /b15* load 0 1 make-line
end
%%EndDocument
 @endspecial 108 x Fh(8)41 b(Extensions)1020 1229 y Fg(This)17
b(implemen)o(tation)j(of)c(t)o(yp)q(e)h(classes)h(can)f(b)q(e)g(extended)h
(in)f(a)1020 1271 y(n)o(um)o(b)q(er)i(of)e(w)o(a)o(ys)h(to)g(b)q(oth)h(impro)
o(v)o(e)g(the)f(generated)h(co)q(de)f(and)1020 1312 y(increase)c(the)g
(expressiv)o(eness)h(of)e(the)g(t)o(yp)q(e)g(system.)1020 1417
y Fh(8.1)41 b(Using)12 b(a)h(Class)g(Hiera)o(rchy)1020 1493
y Fg(In)k(a)f(Hask)o(ell)i(class)f(declaration,)j(a)c(set)h(of)f(classes)i
(ma)o(y)e(b)q(e)h(de-)1020 1534 y(clared)e(as)g(sup)q(erclasses)h(of)e(the)h
(de\014ned)g(class.)22 b(F)m(or)14 b(example,)h(in)1020 1576
y(the)e(declaration:)1040 1658 y Fe(class)k(Text)h(a)i(=>)e(Num)h(a)g(where)
1118 1699 y(...)1020 1781 y Fg(class)j Fe(Text)d Fg(is)i(a)f(sup)q(erclass)j
(of)d Fe(Num)o Fg(.)40 b(This)21 b(implies)i(that)e(all)1020
1823 y(datat)o(yp)q(es)14 b(declared)h(to)e(b)q(e)g(in)h(class)g
Fe(Num)d Fg(m)o(ust)i(also)h(b)q(e)g(declared)1020 1864 y(to)d(b)q(e)h(in)g
Fe(Text)o Fg(.)k(This)c(sup)q(erclass)h(relation)g(allo)o(ws)g(a)e(t)o(yp)q
(e)h(suc)o(h)g(as)1020 1906 y Fe(\(Num)18 b(a,)h(Text)f(a\))h(=>)g(a)12
b Fg(to)h(b)q(e)g(abbreviated)j(as)d Fe(Num)18 b(a)h(=>)g(a)p
Fg(.)1020 1958 y(Within)e(the)f(t)o(yp)q(e)f(c)o(hec)o(k)o(er,)h(sup)q
(erclasses)h(require)g(few)d(c)o(hanges.)1020 1999 y(When)f(class)g(sets)g
(for)f(t)o(yp)q(e)g(v)n(ariables)j(are)d(constructed,)h(con)o(texts)1020
2041 y(implied)21 b(b)o(y)e(the)f(sup)q(erclass)i(relation)h(can)d(b)q(e)h
(remo)o(v)o(ed.)33 b(This)1020 2082 y(compacts)19 b(the)f(class)h(sets)g(and)
f(requires)i(few)o(er)d(dictionary)k(pa-)1020 2124 y(rameters.)16
b(Sup)q(erclasses)d(also)f(require)f(that)g(dictionaries)j(con)o(tain)1020
2165 y(all)i(sup)q(erclass)h(dictionaries.)24 b(During)16 b(dictionary)i(con)
o(v)o(ersion,)e(a)1020 2207 y(dictionary)21 b(ma)o(y)d(not)g(b)q(e)h
(directly)h(a)o(v)n(ailable)h(if)d(the)g(asso)q(ciated)1020
2248 y(class)f(has)g(b)q(een)g(absorb)q(ed)h(as)e(a)h(sup)q(erclass.)28
b(In)17 b(this)g(case,)g(the)1020 2290 y(dictionary)j(or)d(metho)q(d)h(m)o
(ust)g(b)q(e)f(fetc)o(hed)h(from)f(an)h(em)o(b)q(edded)1020
2331 y(sup)q(erclass)e(dictionary)m(.)23 b(Dictionary)16 b(represen)o(tation)
g(a\013ects)f(the)1020 2373 y(sp)q(eed)i(of)e(metho)q(d)i(selection.)27
b(Deeply)17 b(nested)g(dictionaries)i(can)1020 2414 y(b)q(e)13
b(a)o(v)o(oided)i(b)o(y)e(\015attening)h(dictionarie)q(s)h(to)e(include)i
(all)f(metho)q(ds)1020 2456 y(in)d(b)q(oth)g(the)f(asso)q(ciated)i(class)f
(and)f(in)h(all)g(sup)q(erclasses)i(at)d(the)g(top)1020 2497
y(lev)o(el)k(of)e(the)g(structure.)17 b(This)c(slo)o(ws)g(do)o(wn)g
(dictionary)h(construc-)1020 2539 y(tion)i(but)g(sp)q(eeds)h(up)e(selection)j
(op)q(erations.)26 b(The)15 b(e\013ect)h(of)f(this)1020 2580
y(tradeo\013)h(in)g(real)g(programs)g(is)g(not)f(y)o(et)g(kno)o(wn.)24
b(Optimizations)p eop
%%Page: 8 8
8 7 bop -76 -34 a Fg(whic)o(h)18 b(a)o(v)o(oid)h(dictionary)h(construction)f
(mak)o(e)f(\015attening)h(more)-76 7 y(attractiv)o(e.)-76 111
y Fh(8.2)41 b(Default)12 b(Metho)q(d)h(Decla)o(rations)-76
188 y Fg(Class)h(declarations)i(ma)o(y)d(supply)i(a)e(default)h(metho)q(d)g
(to)f(b)q(e)h(used)-76 229 y(when)19 b(an)g(instance)h(declaration)h(do)q(es)
f(not)f(pro)o(vide)h(an)f(imple-)-76 271 y(men)o(tation)14
b(of)e(a)h(metho)q(d)g(in)h(the)e(class.)18 b(This)13 b(requires)h(only)g
(that)-76 312 y(this)f(de\014nition)i(b)q(ound)f(to)e(a)g(v)n(ariable)i(for)e
(use)h(during)h(dictionary)-76 354 y(construction.)21 b(This)14
b(v)n(ariable)i(is)e(placed)i(in)o(to)e(an)o(y)g(dictionary)i(in)-76
395 y(whic)o(h)g(the)f(metho)q(d)h(is)f(not)g(sp)q(eci\014ed)i(b)o(y)f(the)f
(instance)h(declara-)-76 437 y(tion.)-76 541 y Fh(8.3)41 b(T)m(yping)12
b(Recursive)h(De\014nitions)-76 617 y Fg(So)f(far)g(w)o(e)f(ha)o(v)o(e)i
(assumed)f(that)g(the)g(letrec)h(construct)g(binds)g(only)-76
659 y(one)j(v)n(ariable.)27 b(Mutually)18 b(recursiv)o(e)e(de\014nitions)j
(can)d(b)q(e)g(under-)-76 700 y(sto)q(o)q(d)11 b(as)f(a)f(tupling)j(of)e
(functions.)17 b(Mutually)c(recursiv)o(e)e(functions)-76 742
y Fe(f)i Fg(and)g Fe(g)g Fg(could)h(b)q(e)f(de\014ned)i(as)e(follo)o(ws:)-56
824 y Fe(letrec)k(\(f,g\))h(=)h(\(fbody,gbo)o(dy)o(\))e(in)h(...)-76
905 y Fg(Here)12 b(there)g(is)g(only)h(a)f(single)h(recursiv)o(e)g(v)n(alue,)
g(the)f(tuple.)18 b(Notice)-76 947 y(that)11 b(the)f(con)o(text)h(of)f
Fe(f)g Fg(and)h Fe(g)f Fg(are)g(com)o(bined)i(b)o(y)f(this)g(translation.)-76
988 y(Although)k(m)o(utually)h(recursiv)o(e)f(functions)g(are)f(not)g
(actually)i(im-)-76 1030 y(plemen)o(ted)f(as)e(tuples,)h(they)f(are)g(t)o(yp)
q(e)h(c)o(hec)o(k)o(ed)g(in)f(this)h(manner.)-76 1082 y(All)e(functions)h
(de\014ned)g(b)o(y)e(a)g(single)i(letrec)f(share)g(a)f(common)h(con-)-76
1123 y(text.)23 b(This)16 b(ma)o(y)f(create)g(am)o(biguous)j(functions)e
(when)g(the)f(t)o(yp)q(e)-76 1165 y(of)e(a)h(letrec)g(b)q(ound)h(v)n(ariable)
h(do)q(es)e(not)g(con)o(tain)h(the)f(full)h(con)o(text)-76
1207 y(of)c(the)h(letrec.)17 b(Suc)o(h)12 b(a)f(function)i(can)f(b)q(e)f
(called)i(within)g(the)f(letrec)-76 1248 y(but)j(not)f(from)g(outside.)22
b(This)15 b(is)f(not)h(an)f(error)g(in)h(itself)h(but)e(the)-76
1290 y(compiler)h(pro)o(vides)g(a)e(w)o(arning)h(ab)q(out)g(suc)o(h)f
(functions.)-76 1342 y(While)h(it)f(is)g(easy)g(for)f(a)g(single)i(recursiv)o
(e)g(function)f(to)g(use)f(a)h(lo)q(cal)-76 1383 y(en)o(try)j(p)q(oin)o(t)g
(to)f(a)o(v)o(oid)h(passing)h(dictionaries)h(to)e(recursiv)o(e)g(calls,)-76
1425 y(this)11 b(is)f(harder)h(to)e(do)i(for)e(more)h(than)g(one)g(function.)
18 b(It)9 b(is)h(simplest)-76 1466 y(to)15 b(pass)g(all)h(dictionaries)i(to)d
(eac)o(h)g(recursiv)o(e)h(call)g(within)g(the)f(le-)-76 1508
y(trec.)j(Otherwise,)13 b(all)i(outside)g(en)o(tries)f(in)o(to)g(the)g
(recursiv)o(e)g(group)-76 1549 y(of)h(functions)i(needs)f(to)f(b)q(e)h
(funneled)h(through)f(a)g(single)h(lam)o(b)q(da)-76 1591 y(binding)h(all)e
(dictionaries)i(and)d(then)g(some)g(sort)g(of)g(switc)o(h)g(is)h(re-)-76
1632 y(quired)f(to)e(en)o(ter)g(the)g(prop)q(er)h(function.)k(Other)13
b(approac)o(hes)i(ma)o(y)-76 1674 y(b)q(e)h(p)q(ossible)j(but)d(this)h(do)q
(es)g(not)f(seem)g(to)g(b)q(e)g(a)g(critical)i(p)q(erfor-)-76
1715 y(mance)c(issue.)-76 1819 y Fh(8.4)41 b(Reducing)13 b(Constant)g
(Dictiona)o(ries)-76 1896 y Fg(Another)h(source)h(of)e(ine\016ciency)j(are)e
(lo)q(cal)h(functions)h(whic)o(h)e(are)-76 1937 y(inferred)e(to)f(ha)o(v)o(e)
g(an)h(o)o(v)o(erloaded)h(t)o(yp)q(e)e(but)g(are)g(used)h(at)f(only)h(one)-76
1979 y(o)o(v)o(erloading.)23 b(These)15 b(can)f(b)q(e)h(detected)f(during)i
(optimization)h(or)-76 2020 y(during)g(t)o(yp)q(e)e(inference.)24
b(During)17 b(t)o(yp)q(e)e(inference,)h(this)g(in)o(v)o(olv)o(es)-76
2062 y(sa)o(ving)f(the)e(t)o(yp)q(e)g(v)n(ariables)i(created)e(b)o(y)g
(freshly)h(instan)o(tiatio)q(n)h(of)-76 2103 y(the)e(signature)h(as)f(it)h
(is)f(referenced.)k(If)12 b(all)j(of)d(these)h(v)n(ariables)i(are)-76
2145 y(instan)o(tiated)k(to)e(the)g(same)g(concrete)g(t)o(yp)q(e)h(the)f
(dictionary)i(can)-76 2186 y(b)q(e)14 b(reduced)i(to)d(a)h(constan)o(t.)21
b(Flo)o(w)15 b(analysis)h(of)e(the)g(dictionaries)-76 2228
y(can)e(accomplish)i(this)f(same)f(task)g(and)g(is)h(p)q(erhaps)g(sup)q
(erior)g(since)-76 2269 y(optimizations)j(ma)o(y)e(remo)o(v)o(e)f(some)h
(function)g(calls)h(whic)o(h)f(w)o(ould)-76 2311 y(prev)o(en)o(t)g(a)f
(dictionary)i(from)e(b)q(eing)i(mark)o(ed)e(in)o(v)n(arian)o(t.)-76
2415 y Fh(8.5)41 b(Overloaded)12 b(Metho)q(ds)-76 2491 y Fg(Hask)o(ell)18
b(allo)o(ws)f(metho)q(d)g(functions)h(to)e(b)q(e)g(o)o(v)o(erloaded)i(in)f
(more)-76 2533 y(than)12 b(the)f(t)o(yp)q(e)g(v)n(ariable)i(de\014ned)f(b)o
(y)f(class.)17 b(F)m(or)11 b(example,)h(a)f(class)1020 -34
y(de\014nition)16 b(ma)o(y)d(con)o(tain:)1040 48 y Fe(class)k(Foo)i(a)g
(where)1118 89 y(m1)g(::)g(Bar)f(b)h(=>)g(a)h(->)e(b)1118 131
y(m2)h(::)g(a)g(->)g(a)1020 212 y Fg(Here,)g Fe(m1)e Fg(con)o(tains)i(an)g
(extra)f(o)o(v)o(erloading.)34 b(A)18 b(dictionary)i(for)1020
254 y(this)f(class)h(should)g(ha)o(v)o(e)f(a)f(t)o(yp)q(e)h
Fe(\(Bar)f(b)h(=>)g(T)g(->)g(b,T)f(->)h(T\))1020 296 y Fg(for)e(some)h(t)o
(yp)q(e)g Fe(T)f Fg(in)h(the)f(class)i Fe(Foo)o Fg(.)30 b(That)17
b(is,)i(the)f(\014rst)f(com-)1020 337 y(p)q(onen)o(t)i(should)g(b)q(e)f(an)g
(o)o(v)o(erloaded)i(function)f(with)f Fe(Bar)e Fg(in)j(the)1020
379 y(con)o(text)14 b(while)h(the)e(second)i(comp)q(onen)o(t)f(is)h(indep)q
(enden)o(t)h(of)d Fe(Bar)o Fg(.)1020 420 y(Unfortunately)m(,)f(this)g(t)o(yp)
q(e)g(signature)g(is)g(not)f(v)n(alid)i(since)f(the)f(con-)1020
462 y(text)k(will)h(\015oat)f(outside)i(the)d(tuple.)24 b(In)15
b(implemen)o(tation)i(terms,)1020 503 y(the)11 b(tuple)i(will)f(attempt)g(to)
f(bind)h(a)f(dictionary)j(for)d Fe(Bar)f Fg(when)h(the)1020
545 y(dictionary)g(is)f(constructed)g(instead)g(of)f(simply)i(placing)g(a)e
(function)1020 586 y(whic)o(h)k(binds)g(a)f Fe(Bar)e Fg(dictionary)15
b(inside)f(the)e(tuple.)17 b(This)c(requires)1020 628 y(the)18
b(implemen)o(tation)i(of)e(suc)o(h)g(dictionaries)j(to)c(go)h(outside)h(the)
1020 669 y(standard)14 b(t)o(yp)q(e)e(class)i(system)e(when)h(generating)h
(suc)o(h)f(dictionar-)1020 711 y(ies.)25 b(The)15 b(cleanest)i(solution)h(to)
d(this)i(problem)g(w)o(ould)f(probably)1020 752 y(in)o(v)o(olv)o(e)c(existen)
o(tial)g(t)o(yp)q(es.)17 b(The)9 b(Y)m(ale)i(compiler)g(a)o(v)o(oids)g(this)g
(issue)1020 794 y(using)k(an)e(in)o(ternal)i(construct)f(similar)h(to)e(a)g
(t)o(yp)q(e)g(cast.)1020 898 y Fh(8.6)41 b(User)13 b(Supplied)f(Signatures)
1020 974 y Fg(User)j(supplied)k(t)o(yp)q(e)d(signatures)h(are)f(a)f(v)o(ery)h
(necessary)h(part)e(of)1020 1016 y(the)d(t)o(yp)q(e)g(system.)17
b(They)12 b(can)g(b)q(e)g(used)g(to)g(a)o(v)o(oid)h(un)o(w)o(an)o(ted)f(o)o
(v)o(er-)1020 1057 y(loading)k(and)d(are)h(essen)o(tial)h(for)e(e\016ciency)m
(.)18 b(Unlik)o(e)d(the)f(ML)f(t)o(yp)q(e)1020 1099 y(system,)k(user)g
(supplied)i(signatures)g(ha)o(v)o(e)e(a)f(signi\014can)o(t)j(impact)1020
1140 y(on)12 b(the)g(generated)g(co)q(de,)g(p)q(ossibly)i(replacing)g(higher)
f(order)f(func-)1020 1182 y(tion)19 b(calls)h(\(metho)q(d)f(selectors\))g
(with)g(direct)g(calls)h(to)f(instance)1020 1223 y(functions.)1020
1275 y(While)e(there)e(are)g(n)o(umerous)h(w)o(a)o(ys)f(of)f(implemen)o(ting)
k(these)e(sig-)1020 1317 y(natures,)11 b(our)g(system)f(do)q(es)h(this)g(in)g
(a)f(v)o(ery)g(clean)h(w)o(a)o(y)f(using)i(read-)1020 1358
y(only)f(t)o(yp)q(e)g(v)n(ariables.)18 b(T)o(yp)q(e)10 b(v)n(ariables)j(in)d
(signatures)i(are)e(mark)o(ed)1020 1400 y(as)h(read-only)h(to)e(prev)o(en)o
(t)i(t)o(yp)q(e)e(instan)o(tiatio)q(n)j(from)e(violating)i(the)1020
1441 y(signatures.)18 b(A)9 b(read-only)j(t)o(yp)q(e)e(v)n(ariable)i(cannot)f
(b)q(e)f(instan)o(tiated)1020 1483 y(or)j(ha)o(v)o(e)h(its)f(con)o(text)h
(augmen)o(ted.)1020 1535 y(Another)d(use)g(of)f(user-supplied)j(signatures)f
(is)f(to)f(\014x)h(the)f(ordering)1020 1576 y(of)18 b(dictionaries)j(during)e
(dictionary)i(con)o(v)o(ersion.)33 b(Hask)o(ell)20 b(uses)1020
1618 y(in)o(terface)f(\014les)f(to)g(supp)q(ort)h(separate)f(compilation)q(.)
34 b(These)18 b(in-)1020 1659 y(terfaces)e(pro)o(vide)h(the)e(signature)j(of)
d(eac)o(h)h(de\014nition)i(in)e(a)g(mo)q(d-)1020 1701 y(ule.)36
b(These)20 b(in)o(terface)g(signatures)h(de\014ne)f(a)f(sp)q(eci\014c)h
(ordering)1020 1742 y(on)13 b(the)f(dictionaries)j(passed)f(to)e(resolv)o(e)h
(o)o(v)o(erloading;)i(at)d(the)h(im-)1020 1784 y(plemen)o(tation)f(lev)o(el)g
(the)d(t)o(yp)q(es)i Fe(\(Foo)18 b(a,Bar)g(b\))g(=>)h(a)g(->)g(b)9
b Fg(and)1020 1825 y Fe(\(Bar)18 b(b,Foo)g(a\))h(=>)f(a)i(->)f(b)10
b Fg(are)h(di\013eren)o(t)h(in)g(a)f(v)o(ery)g(imp)q(ortan)o(t)1020
1867 y(w)o(a)o(y)m(.)24 b(The)16 b(compiler)h(m)o(ust)f(b)q(e)g(a)o(w)o(are)g
(of)f(an)o(y)h(in)o(terface)h(for)e(the)1020 1908 y(mo)q(dule)e(b)q(eing)h
(compiled)g(and)e(use)g(that)g(signature)i(to)e(determine)1020
1950 y(the)h(dictionary)j(ordering)e(during)h(generalization)q(.)1020
2054 y Fh(8.7)41 b(The)14 b(Monomo)o(rphism)d(Restriction)1020
2130 y Fg(The)17 b(Hask)o(ell)h(rep)q(ort)g([6)o(])f(imp)q(oses)h(a)f
(constrain)o(t)h(kno)o(wn)g(as)f(the)1020 2172 y Ff(monomorphism)e(r)n
(estriction)22 b Fg(on)g(the)g(generalizatio)q(n)j(of)c(o)o(v)o(er-)1020
2213 y(loaded)d(v)n(ariables.)28 b(This)16 b(is)h(in)o(tended)h(to)e(a)o(v)o
(oid)h(problems)h(with)1020 2255 y(the)13 b(loss)g(of)g(laziness)i(that)e
(can)g(o)q(ccur)g(when)g(an)g(o)o(v)o(erloaded)h(v)n(ari-)1020
2296 y(able)g(is)f(translated)h(to)e(a)h(function)h(with)f(one)g(or)f(more)h
(dictionary)1020 2338 y(parameters.)25 b(Explicit)18 b(t)o(yp)q(e)e
(signatures)h(can)f(b)q(e)f(used)h(to)g(a)o(v)o(oid)1020 2379
y(the)j(monomorphism)i(restriction)f(in)g(those)f(cases)g(where)g(o)o(v)o
(er-)1020 2421 y(loading)h(w)o(ould)e(otherwise)g(b)q(e)g(restricted.)31
b(Regardless)19 b(of)e(ho)o(w)1020 2462 y(the)12 b(monomorphism)i(issue)f(is)
f(treated,)g(it)g(has)g(a)g(v)o(ery)g(simple)h(im-)1020 2504
y(plemen)o(tation.)29 b(When)18 b(this)f(restriction)h(applies)h(to)d(a)g(v)n
(ariable,)1020 2545 y(t)o(yp)q(e)f(v)n(ariables)h(in)f(its)g(con)o(text)g(m)o
(ust)g(not)f(b)q(e)h(generalized:)22 b(they)1020 2587 y(m)o(ust)13
b(remain)h(in)f(the)g(t)o(yp)q(e)h(en)o(vironmen)o(t)g(to)f(a)o(v)o(oid)h
(fresh)f(instan-)p eop
%%Page: 9 9
9 8 bop -76 -34 a Fg(tiation)13 b(while)g(the)f(b)q(o)q(dy)g(of)g(the)f
(de\014ning)j Fe(let)c Fg(expression)k(is)e(t)o(yp)q(e)-76
7 y(c)o(hec)o(k)o(ed.)-76 111 y Fh(8.8)41 b(Avoiding)12 b(Unnecessa)o(ry)g
(Dictiona)o(ry)f(Construction)-76 187 y Fg(Ov)o(erloaded)17
b(dictionaries)h(are)d(not)g(constan)o(ts)i(and)e(will)i(b)q(e)e(con-)-76
228 y(structed)i(dynamicly)i(at)e(run-time.)28 b(The)17 b(algorithm)h(presen)
o(ted)-76 270 y(here)i(ma)o(y)g(rep)q(eatedly)i(reconstruct)e(iden)o(tical)j
(copies)e(of)e(o)o(v)o(er-)-76 311 y(loaded)d(dictionaries)h(if)e(the)f
(underlying)k(implemen)o(tation)f(is)e(not)-76 353 y(fully-lazy)m(.)-76
405 y(T)m(o)g(illustrate)i(ho)o(w)e(this)h(problem)g(can)g(o)q(ccur,)f
(consider)i(the)e(fol-)-76 446 y(lo)o(wing)f(implemen)o(tation)i(of)c(the)h
(equalit)o(y)i(on)e(lists)h(in)f(essen)o(tially)-76 488 y(the)g(same)h(form)e
(giv)o(en)j(b)o(y)e([11]:)-56 566 y Fe(eqList)k(d)i([])98 b([])f(=)19
b(True)-56 607 y(eqList)e(d)i(\(x:xs\))f(\(y:ys\))f(=)i(eq)g(d)g(x)g(y)h(&&)
434 649 y(eq)f(\(eqDList)d(d\))j(xs)g(ys)-56 690 y(eqList)e(d)i(_)118
b(_)f(=)19 b(False)-76 768 y Fg(The)10 b Fe(eqDList)c Fg(function)11
b(constructs)g(a)f(dictionary)i(for)d(equalit)o(y)j(on)-76
810 y(lists)g(of)d(t)o(yp)q(e)i Fe([a])d Fg(giv)o(en)k(a)e(dictionary)i
Fe(d)e Fg(for)g(equalit)o(y)i(on)e(v)n(alues)h(of)-76 852 y(t)o(yp)q(e)i
Fe(a)o Fg(.)k(The)12 b Fe(eq)f Fg(function)j(denotes)f(the)f(selector)i(whic)
o(h)f(extracts)-76 893 y(the)g(metho)q(d)g(for)f Fe(==)g Fg(from)g(a)g
(corresp)q(onding)k(dictionary)m(.)j(As)12 b(it)h(is)-76 935
y(written,)f(man)o(y)g(implemen)o(tations)j(of)c(this)i(de\014nition)h(will)f
(rep)q(eat)-76 976 y(the)k(construction)h(of)e(the)g(dictionary)j
Fe(eqDList)e(d)f Fg(at)g(eac)o(h)h(step)-76 1018 y(of)c(the)g(recursion.)19
b(One)14 b(simple)g(w)o(a)o(y)f(to)h(a)o(v)o(oid)g(this)g(is)g(to)f(rewrite)
-76 1059 y(the)g(de\014nition)j(in)e(the)f(form:)-56 1137 y
Fe(eqList)k(d)-37 1179 y(=)j(let)e(eql)h(=)g(eq)g(\(eqDList)d(d\))81
1220 y(eqa)j(=)g(eq)g(d)81 1262 y(e)g([])98 b([])f(=)19 b(True)81
1303 y(e)g(\(x:xs\))f(\(y:ys\))f(=)i(eqa)g(x)g(y)g(&&)g(eql)f(xs)h(ys)81
1345 y(e)g(_)118 b(_)f(=)19 b(False)3 1386 y(in)f(e)-76 1464
y Fg(As)f(a)h(further)f(example)i(of)e(the)h(same)f(thing,)j(consider)f(a)e
(func-)-76 1506 y(tion)e Fe(doOne)d Fg(of)i(t)o(yp)q(e)h Fe(C)k(a)g(->)g(a)g
(->)g(Bool)13 b Fg(for)g(some)i(class)g Fe(C)f Fg(and)-76 1547
y(supp)q(ose)f(that)e(the)g(de\014nition)j(of)c(this)i(function)h(requires)f
(the)f(con-)-76 1589 y(struction)i(of)e(a)h(dictionary)i(v)n(alue.)k(Note)11
b(that)h(this)g(fact)g(ma)o(y)f(w)o(ell)-76 1630 y(b)q(e)16
b(hidden)h(from)e(the)h(compilation)i(system)e(if)g(the)f(de\014nition)j(of)
-76 1672 y Fe(doOne)11 b Fg(app)q(ears)j(in)g(an)f(external)i(mo)q(dule.)-76
1724 y(No)o(w)e(supp)q(ose)h(that)f(w)o(e)g(de\014ne)h(a)f(function:)-56
1802 y Fe(doList)k([])97 b(=)20 b([])-56 1843 y(doList)d(\(x:xs\))g(=)j
(doOne)d(x)j(:)f(doList)e(xs)-76 1921 y Fg(A)12 b(naiv)o(e)i(implemen)o
(tation)h(of)d Fe(doList)e Fg(migh)o(t)k(use)e(the)h(de\014nition:)-56
1999 y Fe(doList)k(d)i([])98 b(=)19 b([])-56 2041 y(doList)e(d)i(\(x:xs\))f
(=)h(doOne)f(d)h(x)g(:)g(doList)e(d)j(xs)-76 2119 y Fg(An)o(y)15
b(attempt)g(to)g(ev)n(aluate)h(the)f(complete)h(list)g(pro)q(duced)g(b)o(y)f
(an)-76 2160 y(application)k(of)c(this)i(function)g(will)g(rep)q(eat)f(the)g
(construction)h(of)-76 2202 y(the)i(redex)g Fe(doOne)e(d)h
Fg(\(and)h(hence)g(rep)q(eat)g(the)f(dictionary)j(con-)-76
2243 y(struction)15 b(in)e Fe(doOne)n Fg(\))g(for)g(eac)o(h)g(elemen)o(t)h
(in)g(the)f(argumen)o(t)h(list.)-76 2295 y(Happily)m(,)21 b(the)d(same)g
(observ)n(ation)h(also)g(mak)o(es)f(the)g(solution)i(to)-76
2337 y(this)12 b(problem)h(quite)g(ob)o(vious;)g(w)o(e)e(need)h(to)g
(abstract)g(not)g(just)f(the)-76 2378 y(dictionaries)17 b(in)o(v)o(olv)o(ed)g
(but)d(also)h(the)f(application)j(of)d(o)o(v)o(erloaded)-76
2420 y(op)q(erators)g(to)f(dictionaries,)j(giving)f(the)e(translation:)-56
2498 y Fe(doList)k(d)i(=)h(doList')-37 2539 y(where)e(doList')f([])97
b(=)20 b([])81 2581 y(doList')d(\(x:xs\))g(=)j(doOne')d(x)i(:)g(doList')e(xs)
81 2622 y(doOne')174 b(=)20 b(doOne)d(d)1020 -34 y Fg(An)g(additional)j(b)q
(ene\014t)e(of)e(this)i(is)g(that)f(the)g(garbage)g(collector)1020
7 y(can)f(reclaim)i(the)e(storage)g(used)h(for)f(dictionary)i(v)n(alues)f(as)
f(so)q(on)1020 49 y(as)f(the)f(implemen)o(tation)q(s)j(of)d(the)h(required)h
(metho)q(ds)f(ha)o(v)o(e)g(b)q(een)1020 90 y(extracted)f(from)f(it.)1020
142 y(Note)k(that)h(these)g(problems)h(will)g(not)e(o)q(ccur)h(in)h(an)e
(implemen-)1020 184 y(tation)i(that)g(supp)q(orts)g(full)g(laziness.)35
b(Indeed,)20 b(in)f(eac)o(h)f(of)g(the)1020 225 y(examples)f(ab)q(o)o(v)o(e,)
f(the)f(impro)o(v)o(ed)i(translation)g(can)f(b)q(e)f(obtained)1020
267 y(from)j(the)g(original)j(v)o(ersion)f(using)g(a)e(translation)j(to)d
(fully-lazy)1020 308 y(form)13 b(as)g(describ)q(ed)i(in)f([9].)1020
417 y Fh(9)41 b(P)o(erfo)o(rmance)13 b(Issues)1020 506 y Fg(Ho)o(w)e(do)h(t)o
(yp)q(e)h(classes)g(a\013ect)f(the)g(compiler?)19 b(Our)12
b(observ)n(ation)i(is)1020 547 y(that)h(they)g(increase)g(compilation)j(time)
d(only)g(sligh)o(tly)m(.)24 b(A)14 b(minor)1020 589 y(increase)19
b(in)g(the)e(cost)h(of)g(uni\014cation)i(and)f(the)e(placemen)o(t)i(and)1020
630 y(resolution)13 b(of)e(placeholders)j(mak)o(e)d(up)h(the)f(ma)r(jorit)o
(y)h(of)f(the)g(extra)1020 672 y(pro)q(cessing)k(required)g(for)d(t)o(yp)q(e)
i(classes.)1020 724 y(As)e(far)g(as)h(program)g(execution)h(is)f(concerned,)h
(t)o(yp)q(e)f(classes)h(ha)o(v)o(e)1020 765 y(t)o(w)o(o)f(costs:)18
b(the)13 b(extra)g(lev)o(el)i(of)e(indirection)j(when)e(dispatc)o(hing)i(a)
1020 807 y(metho)q(d)f(function)h(and)f(the)g(time)g(and)g(space)g(required)h
(to)f(prop-)1020 848 y(agate)i(dictionaries)i(through)f(o)o(v)o(erloaded)g
(functions.)29 b(The)16 b(cost)1020 890 y(of)h(instance)i(function)g(dispatc)
o(h)h(is)e(actually)h(quite)g(small)g(since)1020 931 y(this)13
b(requires)h(only)f(a)f(reference)h(to)f(a)g(tuple)h(elemen)o(t)g(follo)o(w)o
(ed)h(b)o(y)1020 973 y(a)i(function)g(call.)26 b(F)m(or)16
b(all)h(but)e(the)h(simplest)h(metho)q(d)g(functions)1020 1014
y(this)h(should)h(b)q(e)f(negligibl)q(e.)32 b(The)18 b(cost)f(of)g
(dictionary)j(creation)1020 1056 y(and)12 b(propagation)j(is)d(harder)h(to)e
(pin)i(do)o(wn.)k(P)o(assing)c(and)g(storing)1020 1097 y(extra)i(argumen)o
(ts)h(to)f(o)o(v)o(erloaded)i(functions)g(will)f(incur)h(sligh)o(tly)1020
1139 y(more)f(function)i(call)f(o)o(v)o(erhead.)28 b(Only)17
b(o)o(v)o(erloaded)h(dictionaries)1020 1180 y(consume)11 b(a)f(non-constan)o
(t)h(amoun)o(t)g(of)e(space.)17 b(Ho)o(w)o(ev)o(er,)10 b(for)g(co)q(de)1020
1222 y(whic)o(h)15 b(do)q(es)g(not)g(use)f(o)o(v)o(erloaded)j(functions)e
(\(but)g(still)h(ma)o(y)f(use)1020 1263 y(metho)q(d)f(functions\))g(the)g
(class)g(system)f(adds)h(no)g(o)o(v)o(erhead)g(at)f(all)1020
1305 y(since)k(the)f(sp)q(eci\014c)h(instance)g(functions)h(are)e(called)h
(directly)m(.)27 b(In)1020 1346 y(the)14 b(case)g(of)f(a)h(lazy)h(language)g
(suc)o(h)g(as)e(Hask)o(ell)j(the)e(o)o(v)o(erhead)g(of)1020
1388 y(o)o(v)o(erloaded)f(functions)f(ma)o(y)f(b)q(e)g(greater)g(since)h(o)o
(v)o(erloading)i(is)d(im-)1020 1429 y(plemen)o(ted)k(using)g(higher)g(order)e
(functions.)20 b(Higher)14 b(order)g(func-)1020 1471 y(tions)e(ma)o(y)e(b)q
(e)h(m)o(uc)o(h)g(more)f(exp)q(ensiv)o(e)j(in)e(Hask)o(ell)h(than)f(ML)f
(since)1020 1512 y(it)g(is)h(m)o(uc)o(h)f(harder)h(to)f(apply)i(strictness)f
(or)f(uncurrying)i(optimiza-)1020 1554 y(tions.)17 b(This)9
b(is)h(v)o(ery)g(noticable)h(for)e(v)o(ery)g(simple)i(functions)f(suc)o(h)g
(as)1020 1595 y(basic)15 b(arithmetic)g(op)q(erators)g(but)f(for)g(more)g
(complex)h(functions,)1020 1637 y(suc)o(h)i(as)g(in)g(the)g(I/O)g(system,)g
(the)g(o)o(v)o(erhead)h(of)e(o)o(v)o(erloading)k(is)1020 1678
y(not)13 b(noticable.)1020 1730 y(It)h(is)h(p)q(ossible)i(to)d(completely)i
(eliminate)h(dynamic)f(metho)q(d)f(dis-)1020 1772 y(patc)o(h)d(within)h(an)f
(o)o(v)o(erloaded)i(function)f(at)e(sp)q(eci\014c)i(o)o(v)o(erloadings)1020
1813 y(b)o(y)f(creating)g(t)o(yp)q(e)g(sp)q(eci\014c)h(clones)f(of)f(o)o(v)o
(erloaded)j(function.)j(This)1020 1855 y(could)f(b)q(e)f(implemen)o(ted)i(in)
f(a)e(more)h(general)h(partial)h(ev)n(aluation)1020 1896 y(con)o(text)d(or)f
(b)q(e)g(con)o(trolled)i(through)f(program)g(annotations.)1020
2005 y Fh(10)40 b(Conclusions)12 b(and)h(Related)h(W)o(o)o(rk)1020
2094 y Fg(While)f(t)o(yp)q(e)f(classes)g(are)g(a)f(relativ)o(ely)j(new)d
(addition)i(to)f(t)o(yp)q(e)f(the-)1020 2135 y(ory)m(,)j(w)o(e)g(argue)g
(that)g(they)h(should)g(no)g(longer)g(b)q(e)f(considered)i(ex-)1020
2177 y(otic)f(or)e(exp)q(erimen)o(tal.)22 b(T)o(yp)q(e)14 b(classes)h(pro)o
(vide)h(an)e(elegan)o(t)h(solu-)1020 2218 y(tion)i(to)e(a)h(n)o(um)o(b)q(er)h
(of)e(serious)i(language)h(design)f(problems)g(and)1020 2260
y(should)f(b)q(e)d(considered)j(as)e(an)g(imp)q(ortan)o(t)h(to)q(ol)g(in)f
(programming)1020 2301 y(language)k(construction.)29 b(T)o(yp)q(e)17
b(classes)g(pro)o(vide)h(a)e(simple)i(and)1020 2343 y(regular)f(framew)o(ork)
f(b)o(y)g(whic)o(h)g(a)g(program)h(can)f(b)q(e)g(parameter-)1020
2384 y(ized.)h(They)9 b(do)g(not)h(pro)o(vide)g(the)f(expressiv)o(eness)j
(of,)d(for)g(example,)1020 2426 y(the)17 b(ML)g(mo)q(dule)i(system)e(where)g
(the)h(parameterization)h(is)f(ex-)1020 2467 y(plicit.)k(On)14
b(the)g(other)h(hand,)g(they)f(are)g(particularly)j(con)o(v)o(enien)o(t)1020
2509 y(for)f(some)h(applications)j(b)q(ecause)d(the)f(co)q(de)h(needed)h(to)e
(supp)q(ort)1020 2550 y(o)o(v)o(erloading)g(is)d(handled)j(automatically)g(b)
o(y)d(the)g(compiler.)1020 2602 y(W)m(e)19 b(ha)o(v)o(e)h(sho)o(wn)f(an)h
(implemen)o(tation)i(of)d(t)o(yp)q(e)g(classes)h(whic)o(h)p
eop
%%Page: 10 10
10 9 bop -76 -34 a Fg(is)17 b(relativ)o(ely)h(simple,)g(requiring)g(only)f(a)
f(few)f(extensions)i(to)f(the)-76 7 y(basic)i(ML)e(t)o(yp)q(e)h(c)o(hec)o
(king)h(algorithms.)29 b(The)17 b(addition)i(of)d(t)o(yp)q(e)-76
49 y(classes)e(do)q(es)f(not)f(sev)o(erely)i(impact)f(either)g(compiler)h(or)
e(program)-76 90 y(p)q(erformance.)-76 142 y(The)22 b(basis)h(for)e(a)h
(translation)i(from)e(the)g(Hask)o(ell)h(syn)o(tax)f(for)-76
184 y(declaring)i(and)d(using)i(t)o(yp)q(e)f(classes)g(w)o(as)f(set)g(out)g
(b)o(y)h(W)m(adler)-76 225 y(and)d(Blott)f([11])f(and)i(some)e(results)i
(from)f(an)g(early)g(implemen-)-76 267 y(tation)c(based)f(directly)i(on)e
(these)g(ideas)h(ha)o(v)o(e)f(b)q(een)g(presen)o(ted)h(b)o(y)-76
308 y(Hammond)i(and)h(Blott)f([5].)24 b(F)m(urther)16 b(ideas,)h(mostly)g(at)
e(a)h(fairly)-76 350 y(abstract)k(lev)o(el,)i(w)o(ere)d(presen)o(ted)h(in)g
(the)g(static)g(seman)o(tics)g(for)-76 391 y(Hask)o(ell)c([10])e(and)i(also,)
g(concen)o(trating)g(on)f(the)g(problems)h(of)f(re-)-76 433
y(p)q(eated)k(dictionary)h(construction,)h(in)e([8].)31 b(Some)18
b(of)g(the)g(tec)o(h-)-76 474 y(niques)12 b(used)g(to)e(impro)o(v)o(e)i(the)f
(p)q(erformance)g(of)g(Hask)o(ell)h(o)o(v)o(erload-)-76 516
y(ing)18 b(in)f(the)f(Chalmers)i(Hask)o(ell)g(compiler)g(are)f(describ)q(ed)h
(in)f([3].)-76 557 y(In)h(summary)m(,)g(exp)q(erience)i(with)e(the)f(use)h
(and)g(dev)o(elopmen)o(t)h(of)-76 599 y(Hask)o(ell)d(systems)e(has)h(done)g
(m)o(uc)o(h)f(to)g(reduce)h(the)g(costs)f(of)g(t)o(yp)q(e)-76
640 y(class)g(o)o(v)o(erloading.)-76 749 y Fh(11)40 b(Ackno)o(wledgments)-76
838 y Fg(This)14 b(w)o(ork)f(w)o(as)g(supp)q(orted)i(b)o(y)e(gran)o(ts)h
(from)f(D)o(ARP)m(A,)g(con)o(tract)-76 879 y(n)o(um)o(b)q(er)g
(N00014-91-J-4043,)f(and)h(from)f(NSF,)f(con)o(tract)h(n)o(um)o(b)q(er)-76
921 y(CCR-9104987.)-76 1029 y Fh(References)-57 1118 y Fg([1])19
b(A.W.)8 b(App)q(el.)i(A)e(critique)j(of)e(Standard)i(ML.)d(Princeton)j(Uni-)
3 1160 y(v)o(ersit)o(y)j(CS-TR-364-92,)f(F)m(ebruary)g(1992.)-57
1231 y([2])19 b(A.W.)11 b(App)q(el.)h Ff(Compiling)f(with)h(c)n(ontinuation)o
(s)p Fg(.)c(Cam)o(bridge)3 1272 y(Univ)o(ersit)o(y)14 b(Press,)f(1992.)-57
1344 y([3])19 b(L.)d(Augustsson.)i(Implemen)o(ting)h(Hask)o(ell)g(o)o(v)o
(erloading.)h(T)m(o)3 1385 y(app)q(ear)12 b(in)f Ff(Confer)n(enc)n(e)f(on)h
(F)m(unctional)e(Pr)n(o)n(gr)n(amming)h(L)n(an-)3 1427 y(guages)i(and)i
(Computer)g(A)o(r)n(chite)n(ctur)n(e)p Fg(,)d(Cop)q(enhagen,)16
b(Den-)3 1468 y(mark,)d(June)g(1993.)-57 1540 y([4])19 b(L.)e(Damas)h(and)h
(R.)f(Milner.)h(Principal)i(t)o(yp)q(e)d(sc)o(hemes)g(for)3
1581 y(functional)g(programs.)f(In)f Ff(8th)g(A)o(nnual)e(A)o(CM)j(Symp)n
(osium)3 1623 y(on)12 b(Principles)g(of)h(Pr)n(o)n(gr)n(amming)g(languages)o
Fg(,)d(1982.)-57 1694 y([5])19 b(K.)12 b(Hammond)h(and)g(S.)g(Blott.)g
(Implemen)o(ting)i(Hask)o(ell)f(t)o(yp)q(e)3 1736 y(classes.)25
b Ff(Pr)n(o)n(c)n(e)n(e)n(dings)c(of)i(the)g(1989)f(Glasgow)g(Workshop)3
1777 y(on)g(F)m(unctional)e(Pr)n(o)n(gr)n(amming)p Fg(,)25
b(F)m(raserburgh,)i(Scotland.)3 1819 y(W)m(orkshops)14 b(in)g(computing)h
(series,)f(Springer)g(V)m(erlag.)-57 1890 y([6])19 b(P)m(.)11
b(Hudak,)i(S.L.)e(P)o(eyton)i(Jones)g(and)g(P)m(.)e(W)m(adler)j(\(eds.\).)d
(Re-)3 1932 y(p)q(ort)f(on)h(the)g(programming)h(language)h(Hask)o(ell,)f(v)o
(ersion)g(1.2.)3 1973 y Ff(A)o(CM)i(SIGPLAN)d(notic)n(es)p
Fg(,)g(27,)h(5,)h(Ma)o(y)h(1992.)-57 2045 y([7])19 b(M.P)m(.)9
b(Jones.)h(Computing)i(with)f(lattices:)17 b(An)10 b(application)j(of)3
2086 y(t)o(yp)q(e)h(classes.)h Ff(Journal)e(of)i(F)m(unctional)c(Pr)n(o)n(gr)
n(amming)p Fg(,)i(V)m(ol-)3 2128 y(ume)g(2,)f(P)o(art)h(4,)g(Octob)q(er)g
(1992.)-57 2199 y([8])19 b(M.P)m(.)14 b(Jones.)i(Quali\014ed)i(t)o(yp)q(es:)k
(Theory)16 b(and)g(Practice.)g(D.)3 2240 y(Phil.)22 b(Thesis.)g(Programming)h
(Researc)o(h)f(Group,)i(Oxford)3 2282 y(Univ)o(ersit)o(y)14
b(Computing)h(Lab)q(oratory)m(.)f(July)f(1992.)-57 2353 y([9])19
b(S.L.)12 b(P)o(eyton)i(Jones)f(and)g(D.)g(Lester.)g(A)f(mo)q(dular)j
(fully-lazy)3 2395 y(lam)o(b)q(da)e(lifter)g(in)g(Hask)o(ell.)h
Ff(Softwar)n(e)d({)i(Pr)n(actic)n(e)e(and)h(Exp)n(e-)3 2436
y(rienc)n(e)p Fg(,)e Fb(21)p Fg(\(5\),)j(Ma)o(y)h(1991.)-76
2508 y([10])19 b(S.L.)9 b(P)o(eyton)h(Jones)h(and)f(P)m(.)f(W)m(adler.)i(A)f
(static)g(seman)o(tics)h(for)3 2549 y(Hask)o(ell)h(\(draft\).)e(Man)o
(uscript,)j(Departmen)o(t)f(of)f(Computing)3 2591 y(Science,)j(Univ)o(ersit)o
(y)g(of)f(Glasgo)o(w,)h(F)m(ebruary)g(1992.)1020 -34 y([11])k(P)m(.)13
b(W)m(adler)h(and)f(S.)g(Blott.)g(Ho)o(w)f(to)h(mak)o(e)g(ad-ho)q(c)h(p)q
(olymor-)1098 7 y(phism)g(less)g(ad-ho)q(c.)f(In)g Ff(A)o(CM)g(Principles)f
(of)g(Pr)n(o)n(gr)n(amming)1098 49 y(L)n(anguages)p Fg(,)e(1989.)p
eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
