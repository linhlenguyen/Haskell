<title>Design Recipe for writing recursive programs</title>

<CENTER>
<BIG>Design Recipe for writing recursive programs</BIG>
</CENTER>

<p>
Here is a set of steps to help you write recursive functions. If you follow each step
you are more likely to figure out what to do. Here are the steps in general:


<ul>
<li> Write down several examples of how the function works (include both calls and outputs)
<li> Decide which of the arguments is the one that is recursively decomposed.
<li> Figure out the base case input for that argument.
<li> Figure out the recursion by breaking the non-base case input for that argument into multiple pieces.
<li> Give a name to each of the pieces, there might be 1, 2, or many pieces.
<li> Work out a recursive example
     <ol> <li> Pick an example from the several examples above that will be recursive.
          <li> Study the imputs and the result
          <li> Choose one of the named pieces of the recursively decomposed recursive
               argument as an argument of a recursive call. What part of the recursively
               decomposed argument  (from the example) does that name refer to? What do the other names refer to?
          <li> What is the answer for that recursive call?
          <li> How can you combine the answer from the recursive call with the other
               named peices to get the answer for the whole problem
     </ol>
<li> Use the steps from the generic <A HREF="DesignRecipe.html">program design recipe</A> (where the structure of the body mimics the structure
     of the input data) to complete the function definition.
     <ol> <li> It is almost always the case that the structure of breaking up the recursive argument
                is the structure you need to mimic.
     </ol>
</ul>

<p>
<H1>Here is a concrete example for the list based length function.</H1>
<p>
<ul>
<li> Write down several examples of how the function works (include both calls and outputs) <br>
     <B>length [] --> 0</B> <br>
     <B>length [1,2,3] --> 3</B> <br>
     <B>length [3] ->  1</B> <br>

<li> Decide which of the arguments is the one that is recursively decomposed. <br>
     <B>length has only one argument, so there is little choice, that argument is the one
     that is recursively decomposed.</B>
<li> Figure out the base case input for that argument. <br>
     <B>The base case is when the list is the empty list:  length []</B>
<li> Figure out the recursion by breaking the non-base case input for that argument into multiple pieces. <br>
     <B>The decomposition is breaking the input list into the first element and all the rest of the elements.
     </B>
<li> Give a name to each of the pieces, there might be 1, 2, or many pieces. <br>
     <B>We'll call the first element 'head' and the rest of the elements 'tail'</B>
<li> Work out a recursive example
     <ol> <li> Pick an example from the several examples above that will be recursive. <br>
               <B>I choose the second example:  length [1,2,3] --> 3</B>

          <li> Study the imputs and the result <br>
               <B>The input is [1,2,3], the result is 3.</B>
          <li> Choose one of the named pieces of the recursively decomposed recursive
               argument as an argument of a recursive call. What part of the recursively
               decomposed argument (from the example) does that name refer to? What do the other names refer to? <br>
               <B>Since length takes a list as input, only the named tail part makes sense
               as an argument to the recursive call, since it is the only list. head is an element
               not a list. The recursive call will look like (length tail).
               tail cooresponds to [2,3] and head cooresponds to 1.</B>

          <li> What is the answer for that recursive call? <br>
              <B> (length tail) --> (length [2,3]) --> 2</B>
          <li> How can you combine the answer from the recursive call with the other
               named peices to get the answer for the whole problem?<br>
               <B>The answer to the whole problem is 3, the pieces I have are
                 <ol> <li> 2 from the recursive call (length tail)
                      <li> tail which is [2,3]
                      <li> head which is 1
                 </ol>
               I can get 3 by adding 1 to 2 (the recurive call).   </B>
     </ol>
<li> Use the steps from the generic <A HREF="DesignRecipe.html">program design recipe</A> (where the structure of the body mimics the structure
     of the input data) to complete the function definition.<BR>
     <B>length [] = 0 <br>
     length (head : tail) = 1 + length tail <br></B>

     <ol> <li> It is almost always the case that the structure of breaking up the recursive argument
	                 is the structure you need to mimic.
     </ol> <br>

     <B>Note that the structure of the input is either the empty list, or a non empty list
     with first element 'head' and rest of the list 'tail'. Note how this structure is mimiced
     in the body of the function definition.</B>
</ul>


<A HREF="../DailyRecord.html#Today">Back to the Daily Record.</A>
<p>
<A HREF="../index.html">Back to the class web-page.</A>
