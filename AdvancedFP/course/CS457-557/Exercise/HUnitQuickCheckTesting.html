<title>In class exercise - HUnit and QuickCheck </title>

<CENTER>
<BIG>In class exercise - HUnit and QuickCheck</BIG>
</CENTER>

<p>
In this in class exercise, we will practice our skills using the testing
frameworks HUnit and QuickCheck.
<p>
Some references you may want to look at
<ul>
<li> The in class <A HREF="../Notes/HunitDemoResult.html">example</A> for len and sum.
<li> HUnit <A HREF="http://www.haskell.org/haskellwiki/HUnit_1.0_User%27s_Guide">users guide</A>
<li> The <A HREF="http://hunit.sourceforge.net/HUnit-1.0/Guide.html">HUnit users guide</A> on sourceforge.
<li> Quickcheck <A HREF="https://hackage.haskell.org/package/QuickCheck">homepage</A> and Haskell wiki <A HREF="http://www.haskell.org/haskellwiki/Introduction_to_QuickCheck">page</A>.
</ul>
<p>
Recall the 4 steps for developing your Unit-tests along with your program.
<ol>
<li> Write a type for the function. Make its body undefined
<li> Make some examples, and express them as HUnit assertions
<li> Collect all the tests together. By convention we use the name <B>tests</B>
     to collect all the Unit-tests in one file together.
<li> Then fill in the definition until all tests are passed!
</ol>
<p>
Start by cutting and pasting the program skeleton at
the bottom of the page.

<p>
For this exercise you will create a Haskell program which
defines several functions. Study the problem description below for
each function, and then perform the 4 Unit-testing steps to defined
your function. Then develop 2 QuickTest properties for each function
to stress your definition with random tests.
<p>
<ol>
<li> <B>addOne</B> is a list to list function. Its input is a list of Int, and its output
is a list of Int. The output can be obtained from the input by adding 1 to each element.
For example: <B>addOne [2,6,7] --> [3,7,8]</B>. Be sure you create enough Unit tests before
you start coding.
<p>
What might be a good property to test for this function using quickCheck?
<p>

<li> <B>addN</B> is a generalization of <B>addOne</B>. It is a list to list function. Its inputs are and Int and a list of Int, and its output
is a list of Int. The output can be obtained from the input by adding the first input to each element of the second input.
For example: <B>addN 3 [2,6,7] --> [5,9,10]</B>.
<p>
Can you devise a property to test using Quickcheck that uses
both <B>addOne</B> and <B>addN</B>?
<p>
<li> <B>prefixSums</B> returns a list of numbers.
<ol>
<li> The number in the first
position of the list is the sum of the prefix of the input with length 1.
<li> The number in the second
position of the list is the sum of the prefix of the input with length 2.
<li> The number in the third
position of the list is the sum of the prefix of the input with length 3, etc.
</ol>
<p>
This is best
illustrated with an example. If the input is [2,6,7,5]
<p>
<ol>
<li> The prefix of the input with length 1 is [2].
<li> The prefix of the input with length 2 is [2,6].
<li> The prefix of the input with length 3 is [2,6,7].
<li> The prefix of the input with length 4 is [2,6,7,5].
</ol>
<p>
Thus, the result
is [2,2+6, 2+6+7, 2+6+7+5] --> [2,8,15,20].
<p>Hint: the function <B>addN</B> might be useful. Be sure and write this function recursively.
<p>
Can you devise a property to check using Quickcheck that relates
the nth and nth+1 elements of the output to
to the nth+1 element of the input?

<p>
<li> <B>take</B> returns a prefix of a list. The first input is the length of the prefix,
and the second input is the list that the prefix is obtained from. Its possible that
the list is not long enough to obtain a prefix of the supplied length. In that case
return the longest possible prefix.
For example:
<p>
<ol>
<li> take 0 [3,4,5] --> []
<li> take 6 [3,4] --> [3,4]
<li> take 3 [2,5,6,7,8] --> [2,5,6]
<li> take 2 [] --> []
</ol>
<p>
Hint: this function decomposes both its arguments to make recursive calls.
</ol>

<p>
<HR ALIGN="center" WIDTH="100%">
<pre>
module TestingExerciseSkeleton where

import Test.HUnit  -- (Test(TestCase,TestList),assertEqual,runTestTT)
import Test.QuickCheck


addOne :: [Int] -> [Int]
addOne = undefined

addN:: Int -> [Int] -> [Int]
addN = undefined

prefixSums:: [Int] -> [Int]
prefixSums = undefined

takE:: Int -> [a] -> [a]
takE = undefined
</pre>
<HR ALIGN="center" WIDTH="100%">
<p>
<A HREF="../DailyRecord.html#Today">Back to the Daily Record.</A>
<p>
<A HREF="../index.html">Back to the class web-page.</A>
